(self.webpackChunkwlc_site=self.webpackChunkwlc_site||[]).push([[190],{20364:function(n,t,e){"use strict";e.d(t,{Z:function(){return m}});var a=e(50139),o=e(35641),r=e(70626);var i=function(n,t){var e;return(0,r.Z)(n,function(n,a,o){return!(e=t(n,a,o))}),!!e},s=e(74663),l=e(80438);var m=function(n,t,e){var r=(0,s.Z)(n)?a.Z:i;return e&&(0,l.Z)(n,t,e)&&(t=void 0),r(n,(0,o.Z)(t,3))}},87978:function(n,t,e){"use strict";e.d(t,{j:function(){return s}});var a=e(64762),o=e(88720),r=e(28859);const i={class:"wlc-history-name"};let s=class extends r.k{constructor(n,t){super({injectParams:n,defaultParams:i}),this.params=n,this.cdr=t}};s.ctorParameters=()=>[{type:void 0,decorators:[{type:o.tBr,args:["injectParams"]}]},{type:o.sBO}],s=(0,a.__decorate)([(0,o.wA2)({selector:"[wlc-history-name]",template:'<span\n    class="{{$class}}__name"\n    [attr.data-wlc-element]="\'name_\' + $params.item.id">\n    {{$params.item.name}}\n</span>\n\n<span\n    class="{{$class}}__status"\n    [attr.data-wlc-element]="\'status_\' + $params.item.id">\n    {{$params.item.status}}\n</span>\n',changeDetection:o.n4l.OnPush,styles:[":host .wlc-history-name__status {\n  display: block;\n}\n.wlc-table--table :host .wlc-history-name__status {\n  display: none;\n}"]})],s)},22190:function(n,t,e){"use strict";e.r(t),e.d(t,{TournamentsModule:function(){return Tn},components:function(){return $n},moduleConfig:function(){return yn}});var a=e(64762),o=e(88720),r=e(38583),i=e(5469),s=e(39660);const l={moduleName:"tournaments",class:"wlc-tournament-prizes",componentName:"wlc-tournament-prizes"};var m=e(99120),c=e(26215),d=e(66888),u=e(46782),h=e(70258),p=e(34022),w=e(55429),g=e(56298),b=e(57387),f=e(20331),_=e(52182),v=e(29114),x=e(43455);class y extends h.zx{constructor(n,t,e,a){super({from:(0,g.Z)({model:"Tournament"},n)}),this.configService=e,this.tournamentsService=a,this.hasGames=!1,this.data=t,this.userCurrency=this.configService.get("appConfig.user.currency")||"EUR",this.$descriptionClean=this.data.Description.replace(/<[^>]*>/g,"")}set data(n){super.data=n,this.setAvailabilityGames()}get data(){return super.data}get currentTime(){return this.data.CurrentTime}get description(){return this.data.Description}get descriptionClean(){return this.$descriptionClean}get ends(){return this.data.Ends}get end(){return this.data.End}get feeType(){return this.data.FeeType||null}get id(){return this.data.ID}get image(){return this.data.Image||this.configService.get("$tournaments.defaultImages.image")}get imagePromo(){return this.data.Image_promo||this.configService.get("$tournaments.defaultImages.imagePromo")}get imageDashboard(){return this.data.Image_dashboard||this.configService.get("$tournaments.defaultImages.imageDashboard")}get imageDescription(){return this.data.Image_description||this.configService.get("$tournaments.defaultImages.imageDescription")}get imageOther(){return this.data.Image||this.data.Image_other?this.data.Image_other:this.configService.get("$tournaments.defaultImages.imageOther")}get fallbackImagePromo(){return this.configService.get("$tournaments.defaultImages.imagePromo")}get fallbackImageDashboard(){return this.configService.get("$tournaments.defaultImages.imageDashboard")}get name(){return this.data.Name}get pointsLimit(){return(0,b.Z)(this.data.PointsLimit)}get pointsLimitMin(){return(0,b.Z)(this.data.PointsLimitMin)}get points(){return(0,b.Z)(this.data.Points)}get pointsTotal(){return(0,b.Z)(this.data.PointsTotal)}get qualification(){return(0,b.Z)(this.data.Qualification)}get qualified(){return this.data.Qualified}get remainingTime(){return this.data.RemainingTime}get repeat(){return this.data.Repeat}get selected(){return this.data.Selected}get series(){return this.data.Series}get starts(){return this.data.Starts}get start(){return this.data.Start}get status(){return(0,b.Z)(this.data.Status)}get target(){return this.data.Target}get terms(){return this.data.Terms}get type(){return this.data.Type}get value(){return(0,b.Z)(this.data.Value)}get place(){return(0,b.Z)(this.data.Place)?this.data.Place:"#"}get statusName(){return this.data.StatusText}get win(){return this.data.Win||"-"}get winnerBy(){return this.data.WinnerBy}get isSelected(){return!!this.data.Selected}get isQualified(){return!!this.data.Qualified}get maxBet(){var n,t;return(0,b.Z)(null===(n=this.data.BetMax)||void 0===n?void 0:n.Currency)||(0,b.Z)(this.data.BetMax[this.userCurrency])||(0,b.Z)(null===(t=this.data.BetMax)||void 0===t?void 0:t.EUR)}get minBet(){var n,t;return(0,b.Z)(null===(n=this.data.BetMin)||void 0===n?void 0:n.Currency)||(0,b.Z)(this.data.BetMin[this.userCurrency])||(0,b.Z)(null===(t=this.data.BetMin)||void 0===t?void 0:t.EUR)}get feeAmount(){return"loyalty"===this.feeType?(0,b.Z)(this.data.FeeAmount)||0:(0,b.Z)(this.data.FeeAmount.Currency)||(0,b.Z)(this.data.FeeAmount[this.userCurrency])||(0,b.Z)(this.data.FeeAmount.EUR)}get feeCurrency(){return"loyalty"===this.feeType?"LP":this.userCurrency}get targetCurrency(){return"loyalty"===this.target?"LP":this.userCurrency}get totalFounds(){var n;return(0,b.Z)(null===(n=this.data.TotalFounds)||void 0===n?void 0:n.EUR)}get winningSpread(){var n;const t=null===(n=this.data.WinningSpread)||void 0===n?void 0:n.EUR;return(0,_.Z)(t,n=>(0,b.Z)(n))}get winningSpreadCount(){return this.data.WinningSpread.Percent.length}get winningSpreadByPercent(){const n=this.data.WinningSpread.Percent;return(0,_.Z)(n,n=>(0,b.Z)(n))}get startsLuxon(){const n=w.ou.fromSQL(this.data.Starts);return n.plus({minutes:n.offset})}get endsLuxon(){const n=w.ou.fromSQL(this.data.Ends);return n.plus({minutes:n.offset})}get isTournamentStarts(){return this.startsLuxon.toMillis()-w.ou.local().toMillis()<=0}get isTournamentEnds(){return this.endsLuxon.toMillis()-w.ou.local().toMillis()<0}get gamesFilterData(){return this.data.Games}startsTime(n="D T"){const t=w.ou.fromSQL(this.data.Starts);return this.startsLuxon.setLocale(t.locale).toFormat(n)}endsTime(n="D T"){const t=w.ou.fromSQL(this.data.Ends);return this.endsLuxon.setLocale(t.locale).toFormat(n)}getWinnersSubscribe(n,t){const e=this.tournamentsService.getWinnersSubjects(this.id,null==t?void 0:t.until,null==t?void 0:t.limit);return 0===e.observers.length&&this.tournamentsService.getTournamentTop(this.id,null==t?void 0:t.limit,null==t?void 0:t.start),e.pipe((null==t?void 0:t.until)?(0,u.R)(null==t?void 0:t.until):(0,p.z)()).subscribe(n)}getTopArray(n){var t;const e=(null==n?void 0:n.results)||[];return(null==n?void 0:n.user)&&((0,b.Z)(n.user.Place)>e.length||!n.user.Place)&&e.push({Email:(null===(t=this.configService.get("appConfig.user.Email"))||void 0===t?void 0:t.substring(0,6))+"***",FirstName:this.configService.get("appConfig.user.first_name"),IDUser:n.user.IDUser,IDUserPlace:n.user.Place||"-",LastName:this.configService.get("appConfig.user.last_name"),Login:this.configService.get("appConfig.user.user_id"),Points:(0,f.Z)(n.user.Points),UserLogin:this.configService.get("appConfig.user.login"),Win:(0,b.Z)(n.user.Win)}),(0,v.Z)(e,n=>{var t;n.points=(0,b.Z)(n.Points),(null===(t=n.UserLogin)||void 0===t?void 0:t.length)||(n.UserLogin=this.getUserLogin(n))}),(0,x.Z)(e,"IDUser")}get tag(){return this.isSelected?"Active":this.isTournamentStarts?"Available":"Coming soon"}setAvailabilityGames(){var n;const{Games:t=[],Categories:e=[],Merchants:a=[]}=null!==(n=this.data.Games)&&void 0!==n?n:{};this.hasGames=!!(t.length||e.length||a.length)}getUserLogin(n){var t,e;return(null===(t=n.FirstName)||void 0===t?void 0:t.length)&&(null===(e=n.LastName)||void 0===e?void 0:e.length)?n.FirstName+" "+n.LastName.substring(0,1):n.Email.substring(0,6)+"***"}}var $=e(20945),T=e(45435),I=e(68307),S=e(54252),k=e(77709),P=e(692),z=e(82560),M=e(20364),C=e(77360);let B=class{constructor(n,t,e,a){this.dataService=n,this.eventService=t,this.configService=e,this.logService=a,this.tournaments=[],this.isProcessed$=new c.X(!1),this.updateData=!0,this.subjects={tournaments$:new c.X(null),active$:new c.X(null),history$:new c.X(null)},this.winnersSubjects={},this.profile={},this.useForbidUserFields=this.configService.get("$loyalty.useForbidUserFields"),this.winLimit=this.configService.get("$tournaments.winLimit")||10,this.winnersLimit={},this.registerMethods(),this.setSubscribers()}get isTournamentSelected(){return(0,M.Z)(this.tournaments,n=>n.isSelected)}get hasTournaments(){return!!this.tournaments.length}getSubscribe(n){return n.useQuery&&this.queryTournaments(!0,null==n?void 0:n.type),this.getObserver(null==n?void 0:n.type).pipe((null==n?void 0:n.until)?(0,u.R)(null==n?void 0:n.until):(0,p.z)()).subscribe(n.observer)}getObserver(n){let t;switch(n){case"active":t=this.subjects.active$;break;case"history":t=this.subjects.history$;break;default:t=this.subjects.tournaments$}return t.asObservable()}getWinnersSubjects(n,t,e,a=15e3){(0,C.Z)(e)||(0===e?this.winnersLimit[n]=0:this.winnersLimit[n]&&e>this.winnersLimit[n]&&(this.winnersLimit[n]=e)),this.winnersSubjects[n]||(this.winnersSubjects[n]=new c.X(null));return(0,$.F)(a).pipe(t?(0,u.R)(t):(0,p.z)()).pipe((0,T.h)(()=>!!this.winnersSubjects[n].observers.length)).pipe((0,I.b)(()=>this.getTournamentTop(n,this.winnersLimit[n]))).subscribe(),this.winnersSubjects[n]}getTournamentTop(n,t=-1,e=0){return(0,a.__awaiter)(this,void 0,void 0,function*(){e||-1!==t||(t=this.winLimit);const a={limit:t,start:e};0===t&&delete a.limit;try{const t=yield this.dataService.request({name:"tournamentTop",system:"tournaments",url:`/tournaments/${n}/top`,type:"GET",events:{success:"TOURNAMENT_TOP_SUCCEEDED",fail:"TOURNAMENT_TOP_FAILED"}},a);return this.winnersSubjects[n]||this.getWinnersSubjects(n),this.winnersSubjects[n].next(t.data),t.data}catch(o){this.logService.sendLog({code:"13.0.2",data:o})}})}getTournament(n){return(0,a.__awaiter)(this,void 0,void 0,function*(){try{const t=yield this.dataService.request({name:"tournamentById",system:"tournaments",url:`/tournaments/${n}`,type:"GET"});if((0,P.Z)(t.data))return new y({service:"TournamentsService",method:"getTournament"},t.data,this.configService,this);this.logService.sendLog({code:"13.0.1",data:t.data})}catch(t){this.logService.sendLog({code:"13.0.1",data:t})}})}joinTournament(n){return(0,a.__awaiter)(this,void 0,void 0,function*(){const t={ID:n.id,Selected:1};try{this.isProcessed$.next(!0);const e=yield this.dataService.request({name:"tournamentSubscribe",system:"tournaments",url:`/tournaments/${n.id}`,type:"POST",mapFunc:t=>(0,a.__awaiter)(this,void 0,void 0,function*(){return yield this.prepareTournamentActionData(t,n)}),events:{success:"TOURNAMENT_JOIN_SUCCEEDED",fail:"TOURNAMENT_JOIN_FAILED"}},t);return this.showSuccess(gettext("Tournament join success")),e.data}catch(e){this.showError(gettext("Tournament join failed"),null==e?void 0:e.errors)}finally{this.isProcessed$.next(!1)}})}leaveTournament(n){return(0,a.__awaiter)(this,void 0,void 0,function*(){const t={ID:n.id,Selected:0};try{const e=yield this.dataService.request({name:"tournamentleave",system:"tournaments",url:`/tournaments/${n.id}`,type:"POST",mapFunc:t=>(0,a.__awaiter)(this,void 0,void 0,function*(){return yield this.prepareTournamentActionData(t,n)}),events:{success:"TOURNAMENT_LEAVE_SUCCEEDED",fail:"TOURNAMENT_LEAVE_FAILED"}},t);return this.showSuccess(gettext("Tournament leave success")),e.data}catch(e){this.showError(gettext("Tournament leave failed"),null==e?void 0:e.errors)}})}queryTournaments(n,t){return(0,a.__awaiter)(this,void 0,void 0,function*(){let e=[];const a={};"active"!==t&&"history"!==t||(a.type=t);try{const o=yield this.dataService.request("tournaments/tournaments",a);let r=this.modifyTournaments(o.data);switch(e=this.checkForbid(r,a),t){case"active":n&&this.subjects.active$.next(e);break;case"history":n&&this.subjects.history$.next(e);break;default:n&&this.subjects.tournaments$.next(e),this.tournaments=e}return e}catch(o){this.logService.sendLog({code:"13.0.0",data:o}),this.eventService.emit({name:"TOURNAMENTS_FETCH_FAILED",data:o})}})}getUserStats(){return(0,a.__awaiter)(this,void 0,void 0,function*(){try{return(yield this.dataService.request("tournaments/tournaments",{type:"userstats"})).data}catch(n){this.logService.sendLog({code:"13.0.3",data:n})}})}getTournamentUser(n){var t;return(0,a.__awaiter)(this,void 0,void 0,function*(){try{const e=yield this.dataService.request({name:"tournamentUser",system:"tournaments",url:`/tournaments/${n}/user`,type:"GET",events:{success:"TOURNAMENT_USER_SUCCEEDED",fail:"TOURNAMENT_USER_FAILED"}});if(null===(t=e.data)||void 0===t?void 0:t.result)return e.data.result}catch(e){this.logService.sendLog({code:"13.0.4",data:e})}})}registerMethods(){this.dataService.registerMethod({name:"tournaments",system:"tournaments",url:"/tournaments",type:"GET"})}checkForbid(n,t){const e=(0,z.Z)(this.profile,"info.category","").toLowerCase(),a=this.configService.get("$loyalty.forbidBanned");return this.useForbidUserFields&&("1"===(0,z.Z)(this.profile,"info.loyalty.ForbidTournaments")||(0,z.Z)(a,`${e}.ForbidTournaments`,!1))&&"history"!==t.type&&"active"!==t.type&&(n=(0,S.Z)(n,n=>n.isSelected)),n}modifyTournaments(n){const t=[];if(null==n?void 0:n.length)for(const e of n){const n=new y({service:"TournamentsService",method:"modifyTournaments"},e,this.configService,this);t.push(n)}return(0,S.Z)(t,n=>-1!==n.status)}setSubscribers(){this.configService.get({name:"$user.userProfile$"}).subscribe(n=>{this.profile=n}),this.subjects.tournaments$.subscribe({next:n=>{this.eventService.emit({name:"TOURNAMENTS_FETCH_SUCCEEDED",data:n})}}),this.subjects.active$.subscribe({next:n=>{this.eventService.emit({name:"TOURNAMENTS_FETCH_ACTIVE_SUCCESS",data:n})}}),this.subjects.history$.subscribe({next:n=>{this.eventService.emit({name:"TOURNAMENTS_FETCH_HISTORY_SUCCESS",data:n})}}),this.eventService.subscribe([{name:"LOGIN"},{name:"LOGOUT"},{name:"PROFILE_UPDATE"},{name:"TOURNAMENT_JOIN_SUCCEEDED"},{name:"TOURNAMENT_LEAVE_SUCCEEDED"}],()=>{this.updateSubscribers()})}showError(n,t){this.eventService.emit({name:h.LA.PushMessage,data:{type:"error",title:n,message:t,wlcElement:"notification_tournament-error"}})}showSuccess(n){this.eventService.emit({name:h.LA.PushMessage,data:{type:"success",title:n,message:"",wlcElement:"notification_tournament-success"}})}updateSubscribers(){this.subjects.active$.observers.length>1&&this.queryTournaments(!0,"active"),this.subjects.tournaments$.observers.length>1&&this.queryTournaments(!0),this.subjects.history$.observers.length>1&&this.queryTournaments(!0,"history")}prepareTournamentActionData(n,t){return(0,a.__awaiter)(this,void 0,void 0,function*(){return(0,k.Z)(t.data,n),t})}};B.ctorParameters=()=>[{type:h.Do},{type:h.PO},{type:h.E4},{type:h.$V}],B=(0,a.__decorate)([(0,o.GSi)({providedIn:"root"})],B);const E={moduleName:"tournaments",class:"wlc-tournament-condition",componentName:"wlc-tournament-condition"};let j=class extends h.k8{constructor(n){super({injectParams:n,defaultParams:E}),this.injectParams=n}ngOnInit(){super.ngOnInit(this.inlineParams)}};j.ctorParameters=()=>[{type:void 0,decorators:[{type:o.tBr,args:["injectParams"]}]}],j.propDecorators={inlineParams:[{type:o.IIB}],userBalance:[{type:o.IIB}],feeAmount:[{type:o.IIB}],feeCurrency:[{type:o.IIB}],text:[{type:o.IIB}],actionType:[{type:o.IIB}]},j=(0,a.__decorate)([(0,o.wA2)({selector:"[wlc-tournament-condition]",template:'<ng-template #join>\n    <div class="{{$class}}__container">\n        <div *ngIf="$params.common.feeCurrency !== \'LP\'; else userPoints" class="{{$class}}__text">\n            {{\'Real balance\' | translate}}: <span wlc-currency [value]="$params.common.userBalance"></span>\n        </div>\n        <ng-template #userPoints>\n            <div class="{{$class}}__text">\n                {{\'You have\' | translate}}:\n                <span wlc-currency\n                      class="{{$class}}__lpblock"\n                      currency="LP"\n                      [value]="$params.common.userBalance">\n                </span>\n            </div>\n        </ng-template>\n        <div *ngIf="$params.common.feeCurrency !== \'LP\'; else tournamentPoints" class="{{$class}}__text">\n            {{\'Entry fee\' | translate}}: <span wlc-currency [value]="$params.common.feeAmount"></span>\n        </div>\n        <ng-template #tournamentPoints>\n            <div class="{{$class}}__text">\n                {{\'Entry fee\' | translate}}:\n                <span wlc-currency\n                      class="{{$class}}__lpblock"\n                      currency="LP"\n                      [value]="$params.common.feeAmount">\n                </span>\n            </div>\n        </ng-template>\n        <div class="{{$class}}__text">\n            {{$params.common.text | translate}}\n        </div>\n    </div>\n</ng-template>\n\n<ng-template #leave>\n    <div class="{{$class}}__text">\n        {{$params.common.text | translate}}\n    </div>\n</ng-template>\n\n\n<ng-container [ngSwitch]="$params.common.actionType">\n    <ng-container *ngSwitchCase="\'leave\'" [ngTemplateOutlet]="leave"></ng-container>\n    <ng-container *ngSwitchDefault [ngTemplateOutlet]="join" ></ng-container>\n</ng-container>\n',changeDetection:o.n4l.OnPush,styles:[".wlc-tournament-condition--theme-default:host .wlc-tournament-condition__text {\n  margin: 0 0 5px;\n}\n.wlc-tournament-condition--theme-default:host .wlc-tournament-condition__text:last-child {\n  margin-bottom: 0;\n}\n.wlc-tournament-condition--theme-default:host .wlc-tournament-condition__text .wlc-currency {\n  font-weight: 700;\n}\n.wlc-tournament-condition--theme-default:host .wlc-tournament-condition__lpblock ::ng-deep .wlc-icon {\n  position: relative;\n  bottom: 2px;\n}"]})],j);const O={moduleName:"tournaments",componentName:"wlc-tournament-detail",class:"wlc-tournament-detail",common:{noTournamentText:gettext("No tournament"),rulesSectionTitle:gettext("Rules"),gamesSectionTitle:gettext("Games"),prizepoolSectionTitle:gettext("Prize pool"),leaderboardSectionTitle:gettext("Leaderboard"),btnSubscribeText:gettext("Join now"),btnUnsubscribeText:gettext("Leave"),backLinkText:gettext("Back"),timerTextAfterStart:gettext("Time remaining"),timerTextBeforeStart:gettext("Coming soon"),statusAvaliableText:gettext("Available"),statusActiveText:gettext("Active"),prizePoolText:gettext("Prize pool"),tablePrizeboard:{theme:"tournaments",pageCount:10,pagination:{use:!1,breakpoints:null},noItemsText:gettext("No leaderboard"),head:[{key:"Place",title:gettext("Place"),type:"text",order:10,wlcElement:"wlc-tournament-table__cell_place"},{key:"Prize",title:gettext("Prize"),type:"amount",order:10,wlcElement:"wlc-profile-table__cell_prize"},{key:"Percent",title:gettext("Percent"),type:"text",order:10,wlcElement:"wlc-profile-table__cell_percent"}],rows:[]}}},A={class:"",components:[{name:"games.wlc-games-grid",params:{gamesRows:3,usePlaceholders:!0,mobileSettings:{gamesRows:3},themeMod:"tournament-detail",thumbParams:{}}}]};var D=e(17842);let L=class extends h.k8{constructor(n,t,e,a,o){super({injectParams:n,defaultParams:O},t),this.injectParams=n,this.configService=t,this.tournamentsService=e,this.router=a,this.cdr=o,this.isReady=!1,this.tournamentProcessing=!1,this.isTournamentSelected=!1,this.tablePrizeboard={},this.menuParams={},this.gamesGridConfig=A}ngOnInit(){super.ngOnInit(h.Bh.prepareParams(this,["tournament","type","theme","themeMod","customMod"])),this.parentInstance&&(this.$params.parentInstance=this.parentInstance),this.$params.parentInstance.pending$.pipe((0,u.R)(this.$destroy)).subscribe(n=>{this.tournamentProcessing=n,this.isTournamentSelected=this.$params.parentInstance.isTournamentSelected,this.tournament=this.$params.common.tournament,this.prepareTournament(),this.cdr.markForCheck()})}goTo(n,t={}){this.router.stateService.go(n,t)}joinTournament(){this.$params.parentInstance.join()}leaveTournament(){this.$params.parentInstance.leave()}prepareTournament(){this.tournament&&(this.preparePrizeboard(),this.prepareMenu(),(0,D.Z)(this.gamesGridConfig,"components[0].params.tournamentGamesFilter",this.tournament.gamesFilterData)),this.isReady=!0,this.cdr.markForCheck()}preparePrizeboard(){const n=[];this.tablePrizeboard=this.$params.common.tablePrizeboard,(0,v.Z)(this.tournament.winningSpreadByPercent,(t,e)=>{n.push({Place:e+1,Prize:{value:this.tournament.winningSpread[e],currency:"EUR"},Percent:t})}),this.tablePrizeboard.rows=n}prepareMenu(){this.menuParams={common:{useSwiper:!0,swiper:{scrollToStart:!0},scrollToSelector:this.$params.common.scrollToSelector},type:"main-menu",items:[{name:this.$params.common.prizepoolSectionTitle,type:"scroll",params:{scroll:".wlc-tournament-detail__prizepool"}},{name:this.$params.common.gamesSectionTitle,type:"scroll",params:{scroll:".wlc-tournament-detail__games"}}]},this.tournament.selected&&this.menuParams.items.unshift({name:this.$params.common.leaderboardSectionTitle,type:"scroll",params:{scroll:".wlc-tournament-detail__leaderboard"}}),this.tournament.terms&&this.menuParams.items.push({name:this.$params.common.rulesSectionTitle,type:"scroll",params:{scroll:".wlc-tournament-detail__rules"}})}};L.ctorParameters=()=>[{type:void 0,decorators:[{type:o.tBr,args:["injectParams"]}]},{type:h.E4},{type:B},{type:m.UIRouter},{type:o.sBO}],L.propDecorators={tournament:[{type:o.IIB}],inlineParams:[{type:o.IIB}],parentInstance:[{type:o.IIB}]},L=(0,a.__decorate)([(0,o.wA2)({selector:"[wlc-tournament-detail]",template:'<div\n    *ngIf="isReady && tournament; else: noData"\n    class="{{$class}}__content"\n    [ngClass]="{\'selected\': tournament.selected, \'coming-soon\': !tournament.isTournamentStarts}">\n    <div\n        class="{{$class}}__header-info"\n        [ngStyle]="{\'backgroundImage\': \'url(\' + tournament.imageDescription + \')\'}">\n        <div class="{{$class}}__header-info-wrap">\n            <a class="{{$class}}__header-info--back-link"\n               (click)="goTo(\'app.profile.loyalty-tournaments.main\')">\n                <span wlc-icon iconPath="/wlc/icons/arrow.svg"></span>\n                {{$params.common?.backLinkText  | translate}}\n            </a>\n            <span class="{{$class}}__header-info--status"\n                  [ngClass]="tournament.selected ? \'status-active\' : \'status-avaliable\'">\n            {{tournament.tag | translate}}\n        </span>\n        </div>\n        <div class="{{$class}}__header-info-inner">\n            <h3 class="{{$class}}__header-info--title">{{tournament.name}}</h3>\n\n            <p *ngIf="tournament.description"\n               class="{{$class}}__header-info--description"\n               [innerHtml]="tournament.descriptionClean">\n            </p>\n\n            <div wlc-tournament-smart-info\n                 class="{{$class}}__header-info--timer"\n                 [tournament]="tournament">\n            </div>\n\n            <div *ngIf="tournament.isTournamentStarts" class="{{$class}}__header-info--buttons">\n                <button *ngIf="!isTournamentSelected"\n                        wlc-button\n                        class="{{$class}}__header-info--button"\n                        [attr.type]="\'button\'"\n                        [text]="$params.common?.btnSubscribeText"\n                        (click)="joinTournament()"></button>\n\n                <button *ngIf="isTournamentSelected && tournament.selected"\n                        wlc-button\n                        class="{{$class}}__header-info--button"\n                        [attr.type]="\'button\'"\n                        themeMod="secondary"\n                        [text]="$params.common?.btnUnsubscribeText"\n                        (click)="leaveTournament()">\n                </button>\n            </div>\n        </div>\n    </div>\n\n    <div *ngIf="menuParams"\n         wlc-menu\n         class="{{$class}}__anchors"\n         [inlineParams]="menuParams">\n    </div>\n\n    <div class="{{$class}}__prizes-block">\n        <div *ngIf="tournament.selected" class="{{$class}}__leaderboard">\n\n            <h4 class="{{$class}}__leaderboard--title">\n                {{$params.common?.leaderboardSectionTitle | translate}}\n            </h4>\n\n            <div wlc-tournament-leaderboard\n                 class="{{$class}}__board"\n                 [tournament]="tournament"\n                 [limit]="8"\n                 [showAllBtn]="true"\n                 [useListHead]="true"\n                 [themeMod]="\'tournament-detail\'">\n            </div>\n        </div>\n\n        <div class="{{$class}}__prizepool">\n            <h4 class="{{$class}}__prizepool--title">\n                {{$params.common?.prizepoolSectionTitle | translate}}\n            </h4>\n            <div wlc-currency\n                 class="{{$class}}__prizepool--amount"\n                 [value]="tournament.totalFounds"\n                 digitsInfo="1-0-0"\n                 [currency]="\'EUR\'">\n            </div>\n        </div>\n        <div *ngIf="tablePrizeboard" class="{{$class}}__prizeboard">\n            <div wlc-table [inlineParams]="tablePrizeboard"></div>\n        </div>\n    </div>\n    <div class="{{$class}}__games">\n        <h4 class="{{$class}}__games--title">\n            {{$params.common?.gamesSectionTitle | translate}}\n        </h4>\n        <div wlc-wrapper\n             class="{{$class}}__games-list"\n             [inlineParams]="gamesGridConfig">\n        </div>\n    </div>\n\n    <div *ngIf="tournament.terms || tournament.description" class="{{$class}}__rules">\n        <h4 class="{{$class}}__rules--title">\n            {{$params.common?.rulesSectionTitle | translate}}\n        </h4>\n\n        <div\n            class="{{$class}}__rules--descr"\n            [innerHTML]="tournament.description">\n        </div>\n\n        <div\n            class="{{$class}}__rules--terms"\n            [innerHTML]="tournament.terms">\n        </div>\n    </div>\n\n    <div *ngIf="tournamentProcessing" class="{{$class}}__loader">\n        <span class="{{$class}}__loader-elem"></span>\n    </div>\n</div>\n\n<ng-template #noData>\n    <div *ngIf="isReady" class="{{$class}}__nocontent">{{$params.common?.noTournamentText | translate}}</div>\n    <div *ngIf="!isReady" class="{{$class}}__nocontent">\n        <div wlc-loader></div>\n    </div>\n</ng-template>\n',preserveWhitespaces:!0,changeDetection:o.n4l.OnPush,encapsulation:o.ifc.None,styles:['.wlc-tournament-detail--theme-default {\n  position: relative;\n}\n.wlc-tournament-detail--theme-default .wlc-tournament-detail__header-info {\n  grid-template-columns: 1fr;\n  grid-row-gap: 15px;\n  row-gap: 15px;\n  justify-content: center;\n  align-items: start;\n  padding: 20px;\n  min-height: auto;\n  background: var(--mc-bg500);\n  background-position: center;\n  background-size: cover;\n  border-bottom: 2px solid var(--mc-baseOpacity);\n  position: relative;\n  display: grid;\n  overflow: hidden;\n}\n@media (min-width: 768px) {\n  .wlc-tournament-detail--theme-default .wlc-tournament-detail__header-info {\n    grid-row-gap: 20px;\n    row-gap: 20px;\n  }\n}\n@media (min-width: 768px) {\n  .wlc-tournament-detail--theme-default .wlc-tournament-detail__header-info {\n    padding: 20px 0;\n  }\n}\n@media (min-width: 1024px) {\n  .wlc-tournament-detail--theme-default .wlc-tournament-detail__header-info {\n    min-height: 345px;\n  }\n}\n@media (min-width: 560px) {\n  .wlc-tournament-detail--theme-default .wlc-tournament-detail__header-info {\n    border-radius: 20px 20px 0 0;\n  }\n}\n.wlc-tournament-detail--theme-default .wlc-tournament-detail__header-info-wrap {\n  position: relative;\n  text-align: center;\n}\n.wlc-tournament-detail--theme-default .wlc-tournament-detail__header-info-wrap, .wlc-tournament-detail--theme-default .wlc-tournament-detail__header-info-inner {\n  grid-template-columns: 100%;\n  grid-row-gap: 15px;\n  row-gap: 15px;\n  justify-content: center;\n  position: relative;\n  display: grid;\n}\n@media (min-width: 768px) {\n  .wlc-tournament-detail--theme-default .wlc-tournament-detail__header-info-wrap, .wlc-tournament-detail--theme-default .wlc-tournament-detail__header-info-inner {\n    grid-template-columns: 490px;\n  }\n}\n@media (min-width: 768px) {\n  .wlc-tournament-detail--theme-default .wlc-tournament-detail__header-info-wrap, .wlc-tournament-detail--theme-default .wlc-tournament-detail__header-info-inner {\n    grid-row-gap: 20px;\n    row-gap: 20px;\n  }\n}\n.wlc-tournament-detail--theme-default .wlc-tournament-detail__header-info--back-link {\n  top: 0;\n  left: 0;\n  color: var(--mc-main);\n  font-style: normal;\n  font-weight: bold;\n  font-size: 1.2rem;\n  line-height: 1.25;\n  text-decoration: none;\n  transition: color 0.3s linear;\n  position: absolute;\n  max-width: 60px;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  cursor: pointer;\n}\n@media (min-width: 768px) {\n  .wlc-tournament-detail--theme-default .wlc-tournament-detail__header-info--back-link {\n    top: 4px;\n  }\n}\n@media (min-width: 768px) {\n  .wlc-tournament-detail--theme-default .wlc-tournament-detail__header-info--back-link {\n    left: 20px;\n  }\n}\n.wlc-tournament-detail--theme-default .wlc-tournament-detail__header-info--back-link .wlc-icon {\n  transform: rotate(90deg);\n  display: inline-block;\n}\n.wlc-tournament-detail--theme-default .wlc-tournament-detail__header-info--back-link .wlc-icon svg {\n  fill: currentColor;\n}\n@media (pointer: fine) {\n  .wlc-tournament-detail--theme-default .wlc-tournament-detail__header-info--back-link:hover {\n    color: var(--mc-baseMain);\n  }\n}\n.wlc-tournament-detail--theme-default .wlc-tournament-detail__header-info--status {\n  color: #fff;\n  font-style: normal;\n  font-weight: normal;\n  font-size: 1rem;\n  line-height: 1.45;\n  padding: 4px 15px;\n  justify-self: center;\n  border-radius: 100px;\n  color: #fff;\n  background: #7f5cfb;\n}\n.wlc-tournament-detail--theme-default .wlc-tournament-detail__header-info--status.status-active {\n  color: #fff;\n  background: #598cfb;\n}\n.wlc-tournament-detail--theme-default .wlc-tournament-detail__header-info--title {\n  justify-self: center;\n  text-align: center;\n  color: var(--mc-baseMain);\n  font-style: normal;\n  font-weight: bold;\n  font-size: 2.4rem;\n  line-height: 1.45;\n}\n.wlc-tournament-detail--theme-default .wlc-tournament-detail__header-info--description {\n  justify-self: center;\n  text-align: center;\n  /* stylelint-disable */\n  display: -webkit-box;\n  line-clamp: 2;\n  box-orient: vertical;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n  /* stylelint-enable */\n  overflow: hidden;\n  text-overflow: ellipsis;\n  word-break: break-word;\n  color: var(--mc-baseMain);\n  font-style: normal;\n  font-weight: normal;\n  font-size: 1.4rem;\n  line-height: 1.45;\n}\n.wlc-tournament-detail--theme-default .wlc-tournament-detail__header-info--timer {\n  justify-self: center;\n  display: flex;\n}\n.wlc-tournament-detail--theme-default .wlc-tournament-detail__header-info--buttons {\n  justify-self: center;\n}\n.wlc-tournament-detail--theme-default .wlc-tournament-detail__header-info:before {\n  content: "";\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 0;\n  width: 100%;\n  height: 100%;\n  background: linear-gradient(0deg, var(--mc-baseContrast-o0) 0%, var(--mc-baseContrast-o8) 80%);\n}\n.wlc-tournament-detail--theme-default .wlc-tournament-detail__content.coming-soon .wlc-tournament-detail__header-info {\n  grid-template-areas: "Hstatus" "Htitle" "Hdesc" "Htimer";\n}\n.wlc-tournament-detail--theme-default .wlc-tournament-detail__anchors {\n  border-bottom: 2px solid var(--mc-baseOpacity);\n  background: var(--mc-bg700);\n}\n.wlc-tournament-detail--theme-default .wlc-tournament-detail__anchors.wlc-menu {\n  padding: 20px 0;\n  align-items: center;\n  justify-content: center;\n  display: flex;\n}\n.wlc-tournament-detail--theme-default .wlc-tournament-detail__anchors.wlc-menu a {\n  padding: 0 10px;\n  color: var(--mc-baseMain);\n  font-style: normal;\n  font-weight: normal;\n  font-size: 1.4rem;\n  line-height: 1.45;\n  text-decoration: none;\n  transition: all 0.3s linear;\n  cursor: pointer;\n}\n@media (pointer: fine) {\n  .wlc-tournament-detail--theme-default .wlc-tournament-detail__anchors.wlc-menu a:hover {\n    color: var(--mc-main);\n  }\n}\n.wlc-tournament-detail--theme-default .wlc-tournament-detail__leaderboard {\n  padding: 20px;\n  justify-content: center;\n  grid-template-columns: 100%;\n  grid-row-gap: 15px;\n  row-gap: 15px;\n  background: var(--mc-bg500);\n  display: grid;\n}\n@media (min-width: 768px) {\n  .wlc-tournament-detail--theme-default .wlc-tournament-detail__leaderboard {\n    padding: 20px 0;\n  }\n}\n@media (min-width: 768px) {\n  .wlc-tournament-detail--theme-default .wlc-tournament-detail__leaderboard {\n    grid-template-columns: 530px;\n  }\n}\n@media (min-width: 768px) {\n  .wlc-tournament-detail--theme-default .wlc-tournament-detail__leaderboard {\n    grid-row-gap: 20px;\n    row-gap: 20px;\n  }\n}\n.wlc-tournament-detail--theme-default .wlc-tournament-detail__leaderboard--title {\n  color: var(--mc-baseMain);\n  font-style: normal;\n  font-weight: bold;\n  font-size: 2.4rem;\n  line-height: 1.45;\n  text-align: center;\n}\n.wlc-tournament-detail--theme-default .wlc-tournament-detail__prizepool {\n  grid-template-columns: 100%;\n  grid-template-areas: "PPTitle" "PPAmount";\n  grid-row-gap: 15px;\n  row-gap: 15px;\n  justify-content: center;\n  padding: 20px;\n  background: var(--mc-bg700);\n  display: grid;\n}\n@media (min-width: 768px) {\n  .wlc-tournament-detail--theme-default .wlc-tournament-detail__prizepool {\n    grid-template-columns: 530px;\n  }\n}\n@media (min-width: 768px) {\n  .wlc-tournament-detail--theme-default .wlc-tournament-detail__prizepool {\n    grid-row-gap: 20px;\n    row-gap: 20px;\n  }\n}\n@media (min-width: 768px) {\n  .wlc-tournament-detail--theme-default .wlc-tournament-detail__prizepool {\n    padding: 20px 0;\n  }\n}\n.wlc-tournament-detail--theme-default .wlc-tournament-detail__prizepool--title {\n  justify-self: center;\n  color: var(--mc-baseMain);\n  font-style: normal;\n  font-weight: bold;\n  font-size: 2.4rem;\n  line-height: 1.45;\n  grid-area: PPTitle;\n}\n.wlc-tournament-detail--theme-default .wlc-tournament-detail__prizepool--amount {\n  justify-self: center;\n  color: var(--mc-main);\n  font-style: normal;\n  font-weight: bold;\n  font-size: 3.6rem;\n  line-height: 1.45;\n  grid-area: PPAmount;\n}\n.wlc-tournament-detail--theme-default .wlc-tournament-detail__prizeboard {\n  grid-template-columns: 100%;\n  padding: 20px;\n  grid-row-gap: 15px;\n  row-gap: 15px;\n  justify-content: center;\n  background: url("/static/images/tournaments/decor-l.png") bottom left no-repeat, url("/static/images/tournaments/decor-r.png") top right no-repeat, #182643;\n  display: grid;\n}\n@media (min-width: 768px) {\n  .wlc-tournament-detail--theme-default .wlc-tournament-detail__prizeboard {\n    grid-template-columns: 350px;\n  }\n}\n@media (min-width: 768px) {\n  .wlc-tournament-detail--theme-default .wlc-tournament-detail__prizeboard {\n    padding: 20px 0;\n  }\n}\n@media (min-width: 768px) {\n  .wlc-tournament-detail--theme-default .wlc-tournament-detail__prizeboard {\n    grid-row-gap: 20px;\n    row-gap: 20px;\n  }\n}\n.wlc-tournament-detail--theme-default .wlc-tournament-detail__prizeboard .wlc-btn {\n  justify-self: center;\n  transition: width 0s;\n}\n.wlc-tournament-detail--theme-default .wlc-tournament-detail__games {\n  padding: 20px 15px;\n}\n@media (min-width: 768px) {\n  .wlc-tournament-detail--theme-default .wlc-tournament-detail__games {\n    padding: 20px;\n  }\n}\n.wlc-tournament-detail--theme-default .wlc-tournament-detail__games--title {\n  color: var(--mc-baseMain);\n  font-style: normal;\n  font-weight: bold;\n  font-size: 2.4rem;\n  line-height: 1.45;\n  text-align: center;\n}\n.wlc-tournament-detail--theme-default .wlc-tournament-detail__rules {\n  grid-template-columns: 100%;\n  justify-content: center;\n  padding: 20px;\n  background: var(--mc-bg500);\n  border-radius: 0 0 10px 10px;\n  grid-gap: 15px 0;\n  gap: 15px 0;\n  display: grid;\n}\n@media (min-width: 768px) {\n  .wlc-tournament-detail--theme-default .wlc-tournament-detail__rules {\n    grid-template-columns: 600px;\n  }\n}\n@media (min-width: 768px) {\n  .wlc-tournament-detail--theme-default .wlc-tournament-detail__rules {\n    padding: 20px 0;\n  }\n}\n@media (min-width: 1024px) {\n  .wlc-tournament-detail--theme-default .wlc-tournament-detail__rules {\n    grid-gap: 20px 0;\n    gap: 20px 0;\n  }\n}\n.wlc-tournament-detail--theme-default .wlc-tournament-detail__rules--title {\n  color: var(--mc-baseMain);\n  font-style: normal;\n  font-weight: bold;\n  font-size: 2.4rem;\n  line-height: 1.45;\n  text-align: center;\n  position: relative;\n}\n.wlc-tournament-detail--theme-default .wlc-tournament-detail__rules--terms {\n  color: var(--mc-baseMain);\n  font-style: normal;\n  font-weight: normal;\n  font-size: 1.4rem;\n  line-height: 1.45;\n  text-align: left;\n}\n.wlc-tournament-detail--theme-default .wlc-tournament-detail__rules--terms:empty {\n  display: none;\n}\n.wlc-tournament-detail--theme-default .wlc-tournament-detail__rules--descr {\n  color: var(--mc-baseMain);\n  font-style: normal;\n  font-weight: normal;\n  font-size: 1.4rem;\n  line-height: 1.45;\n  text-align: left;\n}\n.wlc-tournament-detail--theme-default .wlc-tournament-detail__rules--descr:empty {\n  display: none;\n}\n.wlc-sections__profile-content--theme-first .wlc-tournament-detail--theme-default .wlc-tournament-detail__content {\n  overflow: hidden;\n}\n.wlc-sections__profile-content--theme-first .wlc-tournament-detail--theme-default .wlc-tournament-detail__anchors {\n  background: none;\n}\n.wlc-sections__profile-content--theme-first .wlc-tournament-detail--theme-default .wlc-tournament-detail__header-info {\n  border-radius: 10px 10px 0 0;\n  min-height: auto;\n  overflow: hidden;\n}\n@media (min-width: 1024px) {\n  .wlc-sections__profile-content--theme-first .wlc-tournament-detail--theme-default .wlc-tournament-detail__header-info {\n    min-height: 300px;\n  }\n}\n@media (min-width: 1630px) {\n  .wlc-sections__profile-content--theme-first .wlc-tournament-detail--theme-default .wlc-tournament-detail__header-info {\n    min-height: 345px;\n  }\n}\n.wlc-sections__profile-content--theme-first .wlc-tournament-detail--theme-default .wlc-tournament-detail__prizepool {\n  background: none;\n}\n.wlc-tournament-detail__loader {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  z-index: 10;\n  background: var(--mc-disabled-o6);\n  border-radius: 10px;\n}\n.wlc-tournament-detail__loader-elem {\n  position: absolute;\n  top: 200px;\n  right: 0;\n  left: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin: 0 auto;\n}\n.wlc-tournament-detail__loader-elem:before {\n  content: "";\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  width: 60px;\n  height: 60px;\n  margin: auto;\n  background: var(--mc-bg-o8);\n  border-radius: 50%;\n}\n.wlc-tournament-detail__loader-elem:after {\n  content: "";\n  width: 50px;\n  height: 50px;\n  border: 4px solid var(--mc-main);\n  border-left-color: transparent;\n  border-radius: 50%;\n  -webkit-animation: spin 1s infinite linear;\n          animation: spin 1s infinite linear;\n}\n.wlc-tournament-detail .wlc-games-grid--theme-default.wlc-games-grid .wlc-games-grid__list + .wlc-games-grid__more {\n  margin: 20px 0 0;\n}\n@-webkit-keyframes spin {\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n}\n@keyframes spin {\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n}\n.wlc-tournament-detail--theme-default .wlc-tournament-detail__games {\n  background-color: var(--mc-bg700);\n}\n.wlc-tournament-detail--theme-default .wlc-tournament-detail__games:last-child {\n  padding-bottom: 20px;\n}\n@media (max-width: 768px) {\n  .wlc-tournament-detail--theme-default .wlc-tournament-detail__prizeboard {\n    background: var(--mc-bg500);\n  }\n}\n.wlc-modal--theme-default.wlc-modal--tournament-detail .wlc-modal__footer {\n  background-color: var(--mc-bg700);\n}']})],L);const R={moduleName:"tournaments",class:"wlc-tournament",componentName:"wlc-tournament",common:{descriptionClamp:2}};var N=e(18312);let F=class extends h.k8{constructor(n,t,e,a,o,r){super({injectParams:n,defaultParams:R},o),this.params=n,this.modalService=t,this.tournamentsService=e,this.cdr=a,this.configService=o,this.router=r,this.pending$=new c.X(!1),this.actionParams=null}ngOnInit(){var n,t,e;super.ngOnInit(h.Bh.prepareParams(this,["tournament","type","theme","themeMod","customMod"])),this.prepareModifiers(),((null===(n=this.$params)||void 0===n?void 0:n.tournament)||(null===(e=null===(t=this.$params)||void 0===t?void 0:t.common)||void 0===e?void 0:e.tournament))&&(this.tournament=this.$params.tournament||this.$params.common.tournament),this.type&&(this.$params.type=this.type),this.isAuth=this.ConfigService.get("$user.isAuthenticated"),this.isTournamentSelected=this.tournamentsService.isTournamentSelected,this.instance=this,"active"===this.type&&(this.isTournamentSelected=!0),this.prepareActionParams(),this.getUserInfo()}join(){this.isAuth?this.checkSubscribeConditions(this.tournament):this.modalService.showModal("signup")}leave(){this.showConditionModal(void 0,void 0,void 0,gettext("Leave"),gettext("Tournament fee will not be returned to your account. Are you sure you want to leave?"),"leave")}prepareModifiers(){var n;let t=[];(null===(n=this.$params.common)||void 0===n?void 0:n.customMod)&&(t=(0,N.Z)(t,this.$params.common.customMod.split(" "))),this.addModifiers(t)}getUserInfo(){this.configService.get({name:"$user.userInfo$"}).pipe((0,d.n)(n=>!n),(0,u.R)(this.$destroy)).subscribe(n=>{this.userInfo=n})}showConditionModal(n,t,e,a,o,r){this.modalService.showModal({id:"tournament-condition-modal",modifier:"tournament-condition",component:j,componentParams:{common:{feeAmount:null==n?void 0:n.feeAmount,userBalance:t,feeCurrency:e,text:o,actionType:r}},modalTitle:a,size:"md",backdrop:"static",showFooter:!0,textAlign:"center",confirmBtnText:this.setConfirmBtnText(r),showConfirmBtn:!0,rejectBtnVisibility:!1,onConfirm:()=>{this.onConfirm(r)}})}checkSubscribeConditions(n){var t,e,a,o,r,i,s,l;0===n.feeAmount?this.joinTournament():"balance"===n.feeType&&(null===(t=this.userInfo)||void 0===t?void 0:t.realBalance)>=n.feeAmount?this.showConditionModal(n,null===(e=this.userInfo)||void 0===e?void 0:e.realBalance,n.feeCurrency,gettext("Subscribe"),gettext("Let's play?"),"join"):"loyalty"===n.feeType&&+(null===(a=this.userInfo)||void 0===a?void 0:a.loyalty.Balance)>=n.feeAmount?this.showConditionModal(n,+(null===(o=this.userInfo)||void 0===o?void 0:o.loyalty.Balance),n.feeCurrency,gettext("Subscribe"),gettext("Let's play?"),"join"):"balance"===n.feeType&&(null===(r=this.userInfo)||void 0===r?void 0:r.realBalance)<n.feeAmount?this.showConditionModal(n,null===(i=this.userInfo)||void 0===i?void 0:i.realBalance,n.feeCurrency,gettext("You can`t subscribe"),gettext("Sorry, not today. Deposit more money and join this tournament!"),"deposit"):"loyalty"===n.feeType&&+(null===(s=this.userInfo)||void 0===s?void 0:s.loyalty.Balance)<n.feeAmount&&this.showConditionModal(n,+(null===(l=this.userInfo)||void 0===l?void 0:l.loyalty.Balance),n.feeCurrency,gettext("You can`t subscribe"),gettext("Sorry, not today. Bet more to earn bitcoins and join this tournament!"),"deposit")}readMore(n){n.url?this.goTo(n):this.showDetailModal(n.selector)}onConfirm(n){switch(n){case"join":this.joinTournament();break;case"leave":this.leaveTournament();break;case"deposit":return}}setConfirmBtnText(n){switch(n){case"join":return gettext("Let's play!");case"leave":return gettext("Leave");case"deposit":return gettext("Ok!")}}joinTournament(){return(0,a.__awaiter)(this,void 0,void 0,function*(){try{this.isTournamentSelected=!1,this.pending$.next(!0);const n=yield this.tournamentsService.joinTournament(this.tournament);n&&(this.tournament=n,this.cdr.markForCheck())}finally{this.isTournamentSelected=!0,this.pending$.next(!1),this.cdr.markForCheck()}})}leaveTournament(){return(0,a.__awaiter)(this,void 0,void 0,function*(){try{this.pending$.next(!0);const n=yield this.tournamentsService.leaveTournament(this.tournament);n&&(this.tournament=n,this.cdr.markForCheck(),this.cdr.detectChanges())}finally{this.isTournamentSelected=!1,this.pending$.next(!1),this.cdr.markForCheck()}})}showDetailModal(n){this.modalService.showModal({id:"tournament-detail-modal",modifier:"tournament-detail",component:L,componentParams:{parentInstance:this.instance,common:{tournament:this.tournament,scrollToSelector:n}},size:"xl"})}goTo(n){this.router.stateService.go(n.url.path,n.url.params)}prepareActionParams(){this.actionParams={url:{path:"app.profile.loyalty-tournaments.detail",params:{tournamentId:this.tournament.id}},selector:".wlc-tournament-detail__prizepool"}}};F.ctorParameters=()=>[{type:void 0,decorators:[{type:o.tBr,args:["injectParams"]}]},{type:h.Z7},{type:B},{type:o.sBO},{type:h.E4},{type:m.UIRouter}],F.propDecorators={inlineParams:[{type:o.IIB}],type:[{type:o.IIB}],theme:[{type:o.IIB}],themeMod:[{type:o.IIB}],customMod:[{type:o.IIB}],tournament:[{type:o.IIB}]},F=(0,a.__decorate)([(0,o.wA2)({selector:"[wlc-tournament]",template:'<ng-template #promo>\n    <div wlc-tournament-promo\n         [tournament]="$params.common.tournament"\n         [actionParams]="{modal: {}, selector: \'.wlc-tournament-detail__prizepool\'}"\n         [type]="$params.common.type"\n         [parentInstance]="instance"></div>\n</ng-template>\n\n<ng-template #banner>\n    <div wlc-tournament-banner\n         [actionParams]="{modal: {}, selector: \'.wlc-tournament-detail__prizepool\'}"\n         [parentInstance]="instance"></div>\n</ng-template>\n\n<ng-template #available>\n    <div wlc-tournament-promo\n         [actionParams]="actionParams"\n         [customMod]="$params.common?.customMod"\n         [parentInstance]="instance"></div>\n</ng-template>\n\n<ng-template #active>\n    <div wlc-tournament-detail\n         [tournament]="$params.common.tournament"\n         [parentInstance]="instance">\n    </div>\n</ng-template>\n\n<ng-template #detail>\n    <div wlc-tournament-detail\n         [tournament]="$params.common.tournament"\n         [parentInstance]="instance">\n    </div>\n</ng-template>\n\n<ng-template #dashboard>\n    <div class="{{$class}}__container" [class.selected]="isTournamentSelected">\n        <div class="{{$class}}__more-icon">\n            <div wlc-icon\n                 class="icon-btn"\n                 wlcElement="button_terms"\n                 iconPath="/wlc/icons/info.svg"\n                 (click)="readMore({selector: \'\'})">\n            </div>\n        </div>\n        <div class="{{$class}}__img-container" *ngIf="!isTournamentSelected">\n            <img [wlc-fallback]="tournament.fallbackImageDashboard"\n                 [src]="tournament.imageDashboard"\n                 class="{{$class}}__image"\n                 loading="lazy">\n            <h3 class="{{$class}}__title">\n                <span>{{tournament.name}}</span>\n            </h3>\n        </div>\n        <div wlc-timer\n             class="{{$class}}__timer"\n             [value]="tournament.isTournamentStarts\n                ? tournament.endsLuxon\n                : tournament.startsLuxon"\n             [text]="tournament.isTournamentStarts\n                    ? \'Time remaining\'\n                    : \'Coming soon\'">\n        </div>\n        <div *ngIf="!isTournamentSelected && tournament.description?.length"\n             class="{{$class}}__description-block"\n        >\n            <p class="{{$class}}__description"\n               [innerHtml]="tournament.descriptionClean"\n            ></p>\n        </div>\n        <div *ngIf="!isTournamentSelected && tournament.isTournamentStarts" class="{{$class}}__btns">\n            <button\n                wlc-button\n                [text]="\'Join now\'"\n                [wlcElement]="\'button_tournament_join\'"\n                (click)="join()">\n            </button>\n        </div>\n        <div *ngIf="isTournamentSelected"\n             wlc-tournament-leaderboard\n             class="{{$class}}__board"\n             [tournament]="tournament"\n             [limit]="8"\n             [showAllBtn]="true"></div>\n    </div>\n</ng-template>\n\n<ng-container [ngSwitch]="$params?.type">\n    <ng-container [ngTemplateOutlet]="active" *ngSwitchCase="\'active\'"></ng-container>\n    <ng-container [ngTemplateOutlet]="available" *ngSwitchCase="\'available\'"></ng-container>\n    <ng-container [ngTemplateOutlet]="detail" *ngSwitchCase="\'detail\'"></ng-container>\n    <ng-container [ngTemplateOutlet]="banner" *ngSwitchCase="\'banner\'"></ng-container>\n    <ng-container [ngTemplateOutlet]="dashboard" *ngSwitchCase="\'dashboard\'"></ng-container>\n    <ng-container [ngTemplateOutlet]="promo" *ngSwitchDefault></ng-container>\n</ng-container>\n',changeDetection:o.n4l.OnPush,styles:[".wlc-tournament--theme-dashboard:host {\n  height: 100%;\n}\n.wlc-tournament--theme-dashboard:host .wlc-tournament__more-icon {\n  position: absolute;\n  top: 20px;\n  right: 32px;\n  z-index: 2;\n}\n.wlc-tournament--theme-dashboard:host .wlc-tournament__more-icon .wlc-icon {\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 23px;\n  height: 23px;\n  cursor: pointer;\n}\n.wlc-tournament--theme-dashboard:host .wlc-tournament__more-icon .wlc-icon ::ng-deep .wlc-icon-content {\n  display: flex;\n  width: 100%;\n}\n.wlc-tournament--theme-dashboard:host .wlc-tournament__more-icon .wlc-icon ::ng-deep svg {\n  transition: fill 0.3s linear;\n  width: 100%;\n  height: 100%;\n  fill: var(--mc-baseOpacity);\n}\n@media (pointer: fine) {\n  .wlc-tournament--theme-dashboard:host .wlc-tournament__more-icon .wlc-icon:hover ::ng-deep svg {\n    fill: var(--mc-baseMain);\n  }\n}\n.wlc-tournament--theme-dashboard:host .wlc-tournament__container {\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n}\n.wlc-tournament--theme-dashboard:host .wlc-tournament__container.selected {\n  display: block;\n}\n.wlc-tournament--theme-dashboard:host .wlc-tournament__container.selected .wlc-tournament__more-icon {\n  top: -38px;\n  right: 0;\n}\n.wlc-tournament--theme-dashboard:host .wlc-tournament__container.selected .wlc-tournament__more-icon ::ng-deep .wlc-icon-content {\n  display: flex;\n  width: 100%;\n  height: 100%;\n}\n.wlc-tournament--theme-dashboard:host .wlc-tournament__img-container {\n  position: relative;\n  z-index: 1;\n  width: 235px;\n  height: 235px;\n  min-height: 235px;\n  margin: 0 auto;\n  margin-bottom: 20px;\n  overflow: hidden;\n  border-radius: 10px;\n}\n.wlc-tournament--theme-dashboard:host .wlc-tournament__image {\n  position: absolute;\n  top: 50%;\n  left: 0;\n  width: 100%;\n  transform: translateY(-50%);\n}\n.wlc-tournament--theme-dashboard:host .wlc-tournament__title {\n  position: absolute;\n  top: 33%;\n  right: 0;\n  bottom: -1px;\n  left: 0;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-end;\n  width: 100%;\n  padding: 20px 25px;\n  font-weight: bold;\n  background: linear-gradient(180deg, var(--mc-bg-o0) 0%, var(--mc-bg) 67.3%);\n}\n.wlc-tournament--theme-dashboard:host .wlc-tournament__title span {\n  width: 100%;\n  font-size: 1.6rem;\n  line-height: 1.5;\n  text-align: center;\n  /* stylelint-disable */\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n  /* stylelint-enable */\n  overflow: hidden;\n}\n.wlc-tournament--theme-dashboard:host .wlc-tournament__timer.wlc-timer::ng-deep .wlc-timer__timer-text {\n  font-size: 1.4rem;\n}\n.wlc-tournament--theme-dashboard:host .wlc-tournament__description {\n  /* stylelint-disable */\n  display: -webkit-box;\n  line-clamp: 2;\n  box-orient: vertical;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n  /* stylelint-enable */\n  overflow: hidden;\n  text-overflow: ellipsis;\n  word-break: break-word;\n  color: var(--mc-baseMain);\n  font-style: normal;\n  font-weight: normal;\n  font-size: 1.2rem;\n  line-height: 1.45;\n}\n.wlc-tournament--theme-dashboard:host .wlc-tournament__description-block {\n  transition: opacity 0.3s linear;\n  width: 100%;\n  min-width: 0;\n  margin-top: 20px;\n  padding: 15px 10px;\n  border-radius: 10px;\n  background: var(--mc-bg);\n}\n.wlc-tournament--theme-dashboard:host .wlc-tournament__btns {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin: 40px 0 0 0;\n}\n.wlc-tournament--theme-dashboard:host .wlc-tournament__board {\n  padding: 10px 0 10px 0;\n}\n.wlc-tournament--theme-banner:host {\n  height: 100%;\n}"]})],F);const U={moduleName:"tournaments",class:"wlc-tournament-leaderboard",componentName:"wlc-tournament-leaderboard"};var Z,W=e(5758),G=e(5237);let H=Z=class extends h.k8{constructor(n,t,e,a){super({injectParams:n,defaultParams:U},e),this.params=n,this.cdr=t,this.configService=e,this.modalService=a}ngOnInit(){var n,t,e;super.ngOnInit(h.Bh.prepareParams(this,["tournament","type","theme","themeMod","customMod","limit","showAllBtn","useListHead"])),this.prepareModifiers(),this.isAuth=this.ConfigService.get("$user.isAuthenticated"),(null===(n=this.$params.common)||void 0===n?void 0:n.limit)&&(this.limit=this.$params.common.limit),this.restLimit=this.limit-3||0,(null===(t=this.$params.common)||void 0===t?void 0:t.tournament)&&!this.tournament&&(this.tournament=this.$params.common.tournament),this.isReady=!1,null===(e=this.tournament)||void 0===e||e.getWinnersSubscribe({next:n=>{n&&(this.getWins(n),this.isReady=!0,this.cdr.markForCheck())}},{until:this.$destroy,limit:0})}get needShowBtn(){var n,t;return(null===(n=this.$params.common)||void 0===n?void 0:n.showAllBtn)&&this.wins.length>(null===(t=this.$params.common)||void 0===t?void 0:t.limit)}showAllWins(){this.modalService.showModal({id:"tournament-wins-all",modifier:"info",modalTitle:this.tournament.name,component:Z,componentParams:{common:{tournament:this.tournament}},scrollable:this.wins.length>14,wlcElement:"tournament_wins_all_modal"})}prepareModifiers(){var n;let t=[];(null===(n=this.$params.common)||void 0===n?void 0:n.customMod)&&(t=(0,N.Z)(t,this.$params.common.customMod.split(" "))),this.addModifiers(t)}getRestLimit(n){if(this.winsRest.length>this.restLimit){const t=this.winsRest.length-this.restLimit;-1===n||n+3<=this.restLimit||!(0,G.Z)(n)?this.winsRest=this.winsRest.slice(0,this.restLimit):n===this.winsRest.length-1||n===this.winsRest.length-2?this.winsRest=this.winsRest.slice(t,this.winsRest.length):this.winsRest=this.winsRest.slice(n+3-this.restLimit,n+3)}}getWins(n){var t;this.wins=this.tournament.getTopArray(n),(null===(t=this.wins)||void 0===t?void 0:t.length)&&(this.winsTop=this.wins.slice(0,3),this.winsRest=this.wins.slice(3)||[],this.isAuth&&(null==n?void 0:n.user)&&(this.userId=n.user.IDUser,this.restLimit&&this.getRestLimit((0,W.Z)(this.winsRest,["IDUser",this.userId]))),!(null==n?void 0:n.user)&&this.restLimit&&this.getRestLimit())}};H.ctorParameters=()=>[{type:void 0,decorators:[{type:o.tBr,args:["injectParams"]}]},{type:o.sBO},{type:h.E4},{type:h.Z7}],H.propDecorators={inlineParams:[{type:o.IIB}],type:[{type:o.IIB}],theme:[{type:o.IIB}],themeMod:[{type:o.IIB}],customMod:[{type:o.IIB}],tournament:[{type:o.IIB}],limit:[{type:o.IIB}],showAllBtn:[{type:o.IIB}],useUserLogin:[{type:o.IIB}],useListHead:[{type:o.IIB}]},H=Z=(0,a.__decorate)([(0,o.wA2)({selector:"[wlc-tournament-leaderboard]",template:'<div *ngIf="wins?.length && isReady; else: noData" class="{{$class}}__container">\n    <div *ngIf="$params.common?.useListHead" class="{{$class}}__item {{$class}}__item--head">\n        <div class="{{$class}}__cell item-place">{{\'Place\' | translate}}</div>\n        <div class="{{$class}}__cell item-user">\n            <span class="user-login">{{\'Player\' | translate}}</span>\n        </div>\n        <div class="{{$class}}__cell item-points">{{\'Points\' | translate}}</div>\n        <div *ngIf="paramInclude(\'themeMod\', \'history\')" class="{{$class}}__cell item-win">\n            <span class="win-text">{{\'Win\' | translate}}</span>\n            <span>(&euro;)</span>\n        </div>\n    </div>\n\n    <div class="{{$class}}__list">\n        <div *ngFor="let win of winsTop; index as $index"\n             class="{{$class}}__item {{$class}}__item--top {{$class}}__item--top-{{$index + 1}}"\n             [class.user]="userId === win.IDUser"\n             [class.first]="!$index"\n             [class.single]="winsTop.length === 1"\n             [class.last]="$index === (winsTop.length - 1)">\n            <div class="{{$class}}__cell item-place">\n                <span class="{{$class}}__cell-place">{{win.IDUserPlace}}</span>\n                <span *ngIf="paramInclude(\'themeMod\', \'tournament-detail\')"\n                      wlc-icon\n                      iconPath="/wlc/icons/cup.svg"></span>\n            </div>\n            <div class="{{$class}}__cell item-user">\n                <span *ngIf="paramExclude(\'themeMod\', [\'tournament-detail\', \'history\'])"\n                      wlc-icon\n                      iconPath="/wlc/icons/cup.svg"></span>\n                <span *ngIf="win.IDUser !== userId; else: userThee" class="user-login">{{win.UserLogin}}</span>\n            </div>\n            <div class="{{$class}}__cell item-points">{{win.points | number: \'.0-2\'}}</div>\n            <div *ngIf="paramInclude(\'themeMod\', \'history\')" class="{{$class}}__cell item-win">{{win.WinEUR || \'-\'}}</div>\n        </div>\n        <div *ngIf="winsRest.length && paramInclude(\'themeMod\', \'tournament-detail\')" class="delimetr"></div>\n        <div *ngFor="let win of winsRest" class="{{$class}}__item" [class.user]="userId === win.IDUser">\n            <div class="{{$class}}__cell item-place">{{win.IDUserPlace}}</div>\n            <div class="{{$class}}__cell item-user">\n                <span *ngIf="win.IDUser !== userId; else: userThee" class="user-login">{{win.UserLogin}}</span>\n            </div>\n            <div class="{{$class}}__cell item-points">{{win.points | number: \'.0-2\'}}</div>\n            <div *ngIf="paramInclude(\'themeMod\', \'history\')" class="{{$class}}__cell item-win">{{win.WinEUR || \'-\'}}</div>\n        </div>\n    </div>\n\n    <button *ngIf="needShowBtn"\n            wlc-button\n            class="{{$class}}__btn"\n            text="See all prizes"\n            icon="arrow"\n            theme="cleared"\n            [attr.type]="\'button\'"\n            [wlcElement]="\'button_show_all_wins\'"\n            (click)="showAllWins()">\n    </button>\n</div>\n<ng-template #noData>\n    <div *ngIf="isReady" class="{{$class}}__nocontent">{{\'No tournament wins available\' | translate}}</div>\n    <div *ngIf="!isReady" class="{{$class}}__nocontent">\n        <div wlc-loader></div>\n    </div>\n</ng-template>\n\n<ng-template #userThee>\n    <span class="user-login">{{\'You\' | translate}}</span>\n</ng-template>\n',changeDetection:o.n4l.OnPush,styles:[".wlc-tournament-leaderboard--theme-default:host .wlc-tournament-leaderboard__list {\n  display: grid;\n  grid-gap: 10px;\n  grid-template-columns: 1fr;\n}\n.wlc-tournament-leaderboard--theme-default:host .wlc-tournament-leaderboard__cell {\n  display: flex;\n  align-items: center;\n  height: 26px;\n}\n.wlc-tournament-leaderboard--theme-default:host .wlc-tournament-leaderboard__cell:first-child {\n  padding: 0 0 0 20px;\n}\n.wlc-tournament-leaderboard--theme-default:host .wlc-tournament-leaderboard__cell:last-child {\n  justify-content: flex-end;\n  padding: 0 20px 0 0;\n}\n.wlc-tournament-leaderboard--theme-default:host .wlc-tournament-leaderboard__cell-place {\n  min-width: 15px;\n}\n.wlc-tournament-leaderboard--theme-default:host .wlc-tournament-leaderboard__item {\n  display: grid;\n  grid-template-columns: 40px 2fr 1fr;\n  font-size: 1.4rem;\n  background-color: var(--mc-bg);\n  border-radius: 10px;\n}\n.wlc-tournament-leaderboard--theme-default:host .wlc-tournament-leaderboard__item .item-user {\n  display: flex;\n  padding: 0 5px;\n}\n.wlc-tournament-leaderboard--theme-default:host .wlc-tournament-leaderboard__item .item-user .wlc-icon::ng-deep {\n  width: 12px;\n  margin: 0 10px 0 0;\n}\n.wlc-tournament-leaderboard--theme-default:host .wlc-tournament-leaderboard__item .item-user .wlc-icon::ng-deep svg {\n  width: 100%;\n}\n.wlc-tournament-leaderboard--theme-default:host .wlc-tournament-leaderboard__item .item-user .wlc-icon::ng-deep svg path {\n  fill: var(--mc-main);\n}\n.wlc-tournament-leaderboard--theme-default:host .wlc-tournament-leaderboard__item.user {\n  font-weight: 700;\n  background-color: var(--mc-main);\n}\n.wlc-tournament-leaderboard--theme-default:host .wlc-tournament-leaderboard__item.user .item-user .wlc-icon::ng-deep svg path {\n  fill: var(--mc-bg);\n}\n.wlc-tournament-leaderboard--theme-default:host .wlc-tournament-leaderboard__item .user-login {\n  /* stylelint-disable */\n  display: -webkit-box;\n  line-clamp: 1;\n  box-orient: vertical;\n  -webkit-line-clamp: 1;\n  -webkit-box-orient: vertical;\n  /* stylelint-enable */\n  overflow: hidden;\n  text-overflow: ellipsis;\n  word-break: break-word;\n  overflow: hidden;\n  max-width: 80px;\n}\n.wlc-tournament-leaderboard--theme-default:host .wlc-tournament-leaderboard__item--top {\n  margin-bottom: -10px;\n  font-weight: 700;\n  border-radius: 0;\n}\n.wlc-tournament-leaderboard--theme-default:host .wlc-tournament-leaderboard__item--top.first {\n  border-radius: 10px 10px 0 0;\n  padding-top: 5px;\n}\n.wlc-tournament-leaderboard--theme-default:host .wlc-tournament-leaderboard__item--top.last {\n  margin-bottom: 0;\n  padding-bottom: 5px;\n  border-radius: 0 0 10px 10px;\n}\n.wlc-tournament-leaderboard--theme-default:host .wlc-tournament-leaderboard__item--top.single {\n  margin-bottom: 0;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  border-radius: 10px;\n}\n.wlc-tournament-leaderboard--theme-default:host .wlc-tournament-leaderboard__item--top .wlc-tournament-leaderboard__cell {\n  height: 36px;\n}\n.wlc-tournament-leaderboard--theme-default:host .wlc-tournament-leaderboard__item--top .item-user {\n  padding: 0 5px;\n}\n.wlc-tournament-leaderboard--theme-default:host .wlc-tournament-leaderboard__btn {\n  display: block;\n  margin: 0 auto;\n  padding: 5px 0 0 0;\n}\n.wlc-tournament-leaderboard--theme-default:host .wlc-tournament-leaderboard__btn ::ng-deep .wlc-btn__text {\n  transition: color 0.3s linear;\n  color: var(--mc-main);\n  font-weight: 700;\n  font-size: 1.2rem;\n}\n.wlc-tournament-leaderboard--theme-default:host .wlc-tournament-leaderboard__btn ::ng-deep .wlc-btn__text .wlc-icon::ng-deep {\n  position: relative;\n  bottom: 0;\n  width: 12px;\n}\n.wlc-tournament-leaderboard--theme-default:host .wlc-tournament-leaderboard__btn ::ng-deep .wlc-btn__text .wlc-icon::ng-deep svg {\n  transition: fill 0.3s linear;\n  width: 10px;\n  transform: rotate(-90deg);\n  fill: var(--mc-main);\n}\n@media (pointer: fine) {\n  .wlc-tournament-leaderboard--theme-default:host .wlc-tournament-leaderboard__btn:hover ::ng-deep .wlc-btn__text {\n    color: var(--mc-main-l20);\n  }\n  .wlc-tournament-leaderboard--theme-default:host .wlc-tournament-leaderboard__btn:hover ::ng-deep .wlc-btn__text .wlc-icon::ng-deep svg {\n    fill: var(--mc-main-l20);\n  }\n}\n.wlc-tournament-leaderboard--theme-default:host .wlc-tournament-leaderboard__nocontent {\n  padding: 20px;\n  font-size: 1.4rem;\n  text-align: center;\n  background-color: var(--mc-bg);\n  border-radius: 10px;\n}\n.wlc-modal__dialog .wlc-tournament-leaderboard--theme-default:host .wlc-tournament-leaderboard__item .user-login {\n  max-width: 90%;\n}\n.wlc-tournament-leaderboard--theme-default:host.wlc-tournament-leaderboard--theme-mod-tournament-detail .delimetr {\n  width: 100%;\n  height: 2px;\n  background: var(--mc-baseOpacity);\n}\n.wlc-tournament-leaderboard--theme-default:host.wlc-tournament-leaderboard--theme-mod-tournament-detail .wlc-tournament-leaderboard__list {\n  grid-gap: 5px;\n  padding: 10px 0;\n  background: var(--mc-bg700);\n  border-radius: 10px;\n}\n.wlc-tournament-leaderboard--theme-default:host.wlc-tournament-leaderboard--theme-mod-tournament-detail .wlc-tournament-leaderboard__item {\n  grid-template-columns: 80px 2fr 1fr;\n  margin: 0 15px;\n}\n.wlc-tournament-leaderboard--theme-default:host.wlc-tournament-leaderboard--theme-mod-tournament-detail .wlc-tournament-leaderboard__item .wlc-icon::ng-deep {\n  display: none;\n}\n.wlc-tournament-leaderboard--theme-default:host.wlc-tournament-leaderboard--theme-mod-tournament-detail .wlc-tournament-leaderboard__item .item-user {\n  padding: 0 15px;\n}\n.wlc-tournament-leaderboard--theme-default:host.wlc-tournament-leaderboard--theme-mod-tournament-detail .wlc-tournament-leaderboard__item:not(.user) {\n  background: var(--mc-bg700);\n  border-radius: 0;\n}\n.wlc-tournament-leaderboard--theme-default:host.wlc-tournament-leaderboard--theme-mod-tournament-detail .wlc-tournament-leaderboard__item.user {\n  margin-bottom: 0;\n  border-radius: 100px;\n}\n.wlc-tournament-leaderboard--theme-default:host.wlc-tournament-leaderboard--theme-mod-tournament-detail .wlc-tournament-leaderboard__item.user .item-place {\n  border-radius: 100px 0 0 100px;\n}\n.wlc-tournament-leaderboard--theme-default:host.wlc-tournament-leaderboard--theme-mod-tournament-detail .wlc-tournament-leaderboard__item.user .item-points {\n  border-radius: 0 100px 100px 0;\n}\n.wlc-tournament-leaderboard--theme-default:host.wlc-tournament-leaderboard--theme-mod-tournament-detail .wlc-tournament-leaderboard__item.user .wlc-tournament-leaderboard__cell {\n  color: var(--mc-baseMain);\n  font-style: normal;\n  font-weight: bold;\n  font-size: 1.4rem;\n  line-height: 1.45;\n}\n.wlc-tournament-leaderboard--theme-default:host.wlc-tournament-leaderboard--theme-mod-tournament-detail .wlc-tournament-leaderboard__item.wlc-tournament-leaderboard__item--head {\n  padding: 0 0 10px 0;\n  background: transparent;\n}\n.wlc-tournament-leaderboard--theme-default:host.wlc-tournament-leaderboard--theme-mod-tournament-detail .wlc-tournament-leaderboard__item--top .wlc-tournament-leaderboard__cell {\n  height: 26px;\n}\n.wlc-tournament-leaderboard--theme-default:host.wlc-tournament-leaderboard--theme-mod-tournament-detail .wlc-tournament-leaderboard__item--top .wlc-icon::ng-deep {\n  width: 12px;\n  margin: 0 0 0 5px;\n  display: block;\n}\n.wlc-tournament-leaderboard--theme-default:host.wlc-tournament-leaderboard--theme-mod-tournament-detail .wlc-tournament-leaderboard__item--top .wlc-icon::ng-deep svg {\n  width: 100%;\n}\n.wlc-tournament-leaderboard--theme-default:host.wlc-tournament-leaderboard--theme-mod-tournament-detail .wlc-tournament-leaderboard__item--top .wlc-icon::ng-deep svg path {\n  fill: var(--mc-main);\n}\n.wlc-tournament-leaderboard--theme-default:host.wlc-tournament-leaderboard--theme-mod-tournament-detail .wlc-tournament-leaderboard__item--top .item-user {\n  padding: 0 15px 0 10px;\n}\n.wlc-tournament-leaderboard--theme-default:host.wlc-tournament-leaderboard--theme-mod-tournament-detail .wlc-tournament-leaderboard__item--top.first, .wlc-tournament-leaderboard--theme-default:host.wlc-tournament-leaderboard--theme-mod-tournament-detail .wlc-tournament-leaderboard__item--top.single, .wlc-tournament-leaderboard--theme-default:host.wlc-tournament-leaderboard--theme-mod-tournament-detail .wlc-tournament-leaderboard__item--top.last {\n  padding-top: 0;\n  padding-bottom: 0;\n}\n.wlc-tournament-leaderboard--theme-default:host.wlc-tournament-leaderboard--theme-mod-tournament-detail .wlc-tournament-leaderboard__item--top.user {\n  margin-bottom: 0;\n}\n.wlc-tournament-leaderboard--theme-default:host.wlc-tournament-leaderboard--theme-mod-tournament-detail .wlc-tournament-leaderboard__item--top.user .wlc-icon::ng-deep svg path {\n  fill: var(--mc-bg);\n}\n.wlc-tournament-leaderboard--theme-default:host.wlc-tournament-leaderboard--theme-mod-history .wlc-tournament-leaderboard__nocontent {\n  background-color: var(--mc-bg500);\n}\n.wlc-tournament-leaderboard--theme-default:host.wlc-tournament-leaderboard--theme-mod-history .wlc-tournament-leaderboard__container {\n  max-width: 375px;\n  margin: -30px auto -20px auto;\n}\n.wlc-tournament-leaderboard--theme-default:host.wlc-tournament-leaderboard--theme-mod-history .wlc-tournament-leaderboard__list {\n  grid-gap: 0;\n}\n.wlc-tournament-leaderboard--theme-default:host.wlc-tournament-leaderboard--theme-mod-history .wlc-tournament-leaderboard__cell {\n  justify-content: center;\n  height: 30px;\n}\n.wlc-tournament-leaderboard--theme-default:host.wlc-tournament-leaderboard--theme-mod-history .wlc-tournament-leaderboard__cell:first-child {\n  padding: 0 0 0 15px;\n}\n.wlc-tournament-leaderboard--theme-default:host.wlc-tournament-leaderboard--theme-mod-history .wlc-tournament-leaderboard__cell:last-child {\n  padding: 0 15px 0 10px;\n}\n.wlc-tournament-leaderboard--theme-default:host.wlc-tournament-leaderboard--theme-mod-history .wlc-tournament-leaderboard__cell .win-text {\n  margin: 0 3px 0 0;\n}\n.wlc-tournament-leaderboard--theme-default:host.wlc-tournament-leaderboard--theme-mod-history .wlc-tournament-leaderboard__cell-place {\n  display: flex;\n  justify-content: center;\n}\n.wlc-tournament-leaderboard--theme-default:host.wlc-tournament-leaderboard--theme-mod-history .wlc-tournament-leaderboard__item {\n  grid-template-columns: 50px 100px 1fr 100px;\n  background-color: var(--mc-bg500);\n}\n@media (min-width: 480px) {\n  .wlc-tournament-leaderboard--theme-default:host.wlc-tournament-leaderboard--theme-mod-history .wlc-tournament-leaderboard__item {\n    grid-template-columns: 50px 150px 1fr 100px;\n  }\n}\n.wlc-tournament-leaderboard--theme-default:host.wlc-tournament-leaderboard--theme-mod-history .wlc-tournament-leaderboard__item:nth-child(even) {\n  background-color: transparent;\n}\n.wlc-tournament-leaderboard--theme-default:host.wlc-tournament-leaderboard--theme-mod-history .wlc-tournament-leaderboard__item--head {\n  margin: 0 0 2px 0;\n  background-color: transparent;\n}\n.wlc-tournament-leaderboard--theme-default:host.wlc-tournament-leaderboard--theme-mod-history .wlc-tournament-leaderboard__item--top {\n  margin: 0;\n  background-color: var(--mc-bg500);\n}\n.wlc-tournament-leaderboard--theme-default:host.wlc-tournament-leaderboard--theme-mod-history .wlc-tournament-leaderboard__item--top .wlc-tournament-leaderboard__cell {\n  height: 30px;\n}\n.wlc-tournament-leaderboard--theme-default:host.wlc-tournament-leaderboard--theme-mod-history .wlc-tournament-leaderboard__item--top:nth-child(even) {\n  background-color: var(--mc-bg500);\n}\n.wlc-tournament-leaderboard--theme-default:host.wlc-tournament-leaderboard--theme-mod-history .wlc-tournament-leaderboard__item.user {\n  background-color: var(--mc-main);\n}"]})],H);const q={class:"wlc-tournament-topwins-btn",limit:10};let Q=class extends h.k8{constructor(n,t,e){super({injectParams:n,defaultParams:q}),this.params=n,this.modalService=t,this.configService=e}ngOnInit(){super.ngOnInit(),this.profileFirst="first"===this.configService.get("$base.profile.type")}showTopWins(){this.modalService.showModal({id:"tournament-history-wins",modifier:"info",modalTitle:this.$params.tournament.name,component:H,componentParams:{themeMod:"history",common:{tournament:this.$params.tournament,limit:this.$params.limit,useListHead:!0}},closeBtnText:gettext("Ok"),scrollable:!1,wlcElement:"tournament_wins_history"})}};Q.ctorParameters=()=>[{type:void 0,decorators:[{type:o.tBr,args:["injectParams"]}]},{type:h.Z7},{type:h.E4}],Q.propDecorators={profileFirst:[{type:o.pfw,args:["class.profile-first"]}]},Q=(0,a.__decorate)([(0,o.wA2)({selector:"[wlc-tournament-topwins-btn]",template:'<span class="action-text">{{$params.tournament.statusName | translate}}</span>\n<button class="action-btn"\n        wlc-button\n        typeAttr="button"\n        themeMod="secondary"\n        text="Read more"\n        (click)="showTopWins()">\n</button>\n\n<button wlc-button\n        theme="cleared"\n        class="icon-btn"\n        iconPath="/wlc/icons/info.svg"\n        wlcElement="button_info"\n        (click)="showTopWins()">\n</button>\n',styles:[".wlc-tournament-topwins-btn--theme-default:host {\n  padding: 0 0 70px;\n  align-items: flex-start;\n  display: inline-flex;\n  justify-content: center;\n}\n@media (min-width: 1024px) {\n  .wlc-tournament-topwins-btn--theme-default:host {\n    padding: 0;\n  }\n}\n@media (min-width: 1024px) {\n  .wlc-tournament-topwins-btn--theme-default:host {\n    align-items: center;\n  }\n}\n@media (min-width: 1024px) {\n  .wlc-tournament-topwins-btn--theme-default:host {\n    min-width: 110px;\n  }\n}\n.wlc-tournament-topwins-btn--theme-default:host .action-btn {\n  bottom: 10px;\n  position: absolute;\n  left: 50%;\n  z-index: 10;\n  display: none;\n  white-space: nowrap;\n  transform: translateX(-50%);\n}\n@media (min-width: 1024px) {\n  .wlc-tournament-topwins-btn--theme-default:host .action-btn {\n    bottom: auto;\n  }\n}\n@media (pointer: coarse) {\n  .wlc-tournament-topwins-btn--theme-default:host .action-btn {\n    display: block;\n  }\n}\n.wlc-tournament-topwins-btn--theme-default:host.profile-first {\n  min-width: auto;\n}\n@media (min-width: 1200px) {\n  .wlc-tournament-topwins-btn--theme-default:host.profile-first {\n    min-width: 110px;\n  }\n}\n.wlc-tournament-topwins-btn--theme-default:host.profile-first .action-btn {\n  display: block;\n  bottom: 10px;\n}\n@media (min-width: 1200px) {\n  .wlc-tournament-topwins-btn--theme-default:host.profile-first .action-btn {\n    display: none;\n  }\n}\n@media (min-width: 1024px) {\n  .wlc-tournament-topwins-btn--theme-default:host.profile-first .action-btn {\n    bottom: 10px;\n  }\n}\n@media (min-width: 1200px) {\n  .wlc-tournament-topwins-btn--theme-default:host.profile-first .action-btn {\n    bottom: auto;\n  }\n}\n@media (pointer: coarse) {\n  .wlc-tournament-topwins-btn--theme-default:host.profile-first .action-btn {\n    display: block;\n  }\n}\n.wlc-tournament-topwins-btn--theme-default:host.profile-first {\n  padding: 0 0 70px;\n}\n@media (min-width: 1200px) {\n  .wlc-tournament-topwins-btn--theme-default:host.profile-first {\n    padding: 0;\n  }\n}\n.wlc-tournament-topwins-btn--theme-default:host .action-btn {\n  display: block;\n  margin: 0 0 10px;\n}\n.wlc-table--table .wlc-tournament-topwins-btn--theme-default:host .action-btn {\n  display: none;\n}\n.wlc-tournament-topwins-btn--theme-default:host .icon-btn {\n  display: none;\n}\n.wlc-table--table .wlc-tournament-topwins-btn--theme-default:host .icon-btn {\n  position: relative;\n  z-index: 1;\n  display: inline-flex;\n  align-items: center;\n  width: 18px;\n  height: 18px;\n  margin: 0 0 0 5px;\n  line-height: 1;\n  cursor: pointer;\n}\n.wlc-table--table .wlc-tournament-topwins-btn--theme-default:host .icon-btn ::ng-deep .wlc-icon {\n  transition: color 0.3s linear;\n  color: var(--mc-baseOpacity);\n}\n.wlc-table--table .wlc-tournament-topwins-btn--theme-default:host .icon-btn ::ng-deep .wlc-icon svg {\n  width: 100%;\n  fill: currentColor;\n}\n@media (pointer: fine) {\n  .wlc-table--table .wlc-tournament-topwins-btn--theme-default:host .icon-btn ::ng-deep .wlc-icon:hover {\n    color: var(--mc-baseMain);\n  }\n}"]})],Q);var V=e(81175),J=e(28248),X=e(9319);const Y={moduleName:"tournaments",class:"wlc-tournament-list",componentName:"wlc-tournament-list",useNoTournamentsBtn:!1,noTournamentsBtn:{common:{text:gettext("Go home"),sref:"app"}}};var K=e(12671);let nn=class extends h.k8{constructor(n,t,e,a,o,r){super({injectParams:n,defaultParams:Y},a),this.params=n,this.tournamentsService=t,this.eventService=e,this.configService=a,this.cdr=o,this.uiRouter=r,this.tournaments=[],this.paginatedTournaments=[],this.isReady=!1,this.sliderParams={swiper:{}},this.slides=[],this.itemsPerPage=0}ngOnInit(){var n;super.ngOnInit(this.prepareParams()),this.prepareModifiers(),this.isAuth=this.ConfigService.get("$user.isAuthenticated"),this.isReady=!1,"swiper"===this.$params.type&&(this.sliderParams.swiper=null===(n=this.$params.common)||void 0===n?void 0:n.swiper),this.subscribeOnTournamentLeave(),this.subscribeOnErrorGettingTournaments(),this.noContentParams=h.Bh.getNoContentParams(this.$params,this.$class,this.configService)}ngAfterViewInit(){this.getTournaments()}get readyTournamentsAndSlides(){var n,t;return!!((null===(n=this.tournaments)||void 0===n?void 0:n.length)&&this.isReady&&(null===(t=this.slides)||void 0===t?void 0:t.length))}paginationOnChange(n){this.paginatedTournaments=n.paginatedItems,this.itemsPerPage=n.event.itemsPerPage,this.cdr.markForCheck()}subscribeOnTournamentLeave(){this.eventService.subscribe({name:"TOURNAMENT_LEAVE_SUCCEEDED"},()=>{this.saveDataOfSelectedTournament(this.tournaments),this.cdr.markForCheck()},this.$destroy)}subscribeOnErrorGettingTournaments(){this.eventService.subscribe({name:"TOURNAMENTS_FETCH_FAILED"},()=>{this.paginatedTournaments=this.tournaments=[],this.isReady=!0,this.cdr.markForCheck()},this.$destroy)}getTournaments(){var n;this.tournamentsService.getSubscribe({useQuery:this.tournamentsService.updateData,observer:{next:n=>{n&&(this.indexOfSelectedTournament=null,this.saveDataOfSelectedTournament(n),this.replaceTournaments(n),this.uiRouter.params.tournamentId&&(n=(0,S.Z)(n,n=>n.id===+this.uiRouter.params.tournamentId)),this.paginatedTournaments=this.tournaments=n,"swiper"===this.$params.type&&this.tournaments.length&&this.tournamentsToSlides(!0),this.isReady=!0,this.cdr.markForCheck())}},type:null===(n=this.$params.common)||void 0===n?void 0:n.restType,until:this.$destroy})}replaceTournaments(n){this.indexOfSelectedTournament<0||n.unshift(...n.splice(this.indexOfSelectedTournament,1))}saveDataOfSelectedTournament(n){let t=!1;(0,v.Z)(n,(n,e)=>{if(n.isSelected)return t=!0,this.isTournamentSelected=!0,this.activeTournament=n,this.indexOfSelectedTournament=e,!1}),t||(this.isTournamentSelected=!1,this.activeTournament=null,this.indexOfSelectedTournament=-1)}prepareModifiers(){var n;let t=[];(null===(n=this.$params.common)||void 0===n?void 0:n.customMod)&&(t=(0,N.Z)(t,this.$params.common.customMod.split(" "))),this.addModifiers(t)}tournamentsToSlides(n){var t,e;this.slides=null===(t=this.tournaments)||void 0===t?void 0:t.map(n=>{var t;return{component:F,componentParams:(0,K.Z)({theme:this.$params.theme},{type:null===(t=this.$params.common)||void 0===t?void 0:t.thumbType},{tournament:n},{wlcElement:"block_tournament"})}}),(null===(e=this.slider)||void 0===e?void 0:e.swiper)&&n&&this.slider.swiper.swiperRef.slideTo(0),this.cdr.markForCheck()}prepareParams(){if(this.inlineParams)return this.inlineParams}};nn.ctorParameters=()=>[{type:void 0,decorators:[{type:o.tBr,args:["injectParams"]}]},{type:B},{type:h.PO},{type:h.E4},{type:o.sBO},{type:m.UIRouterGlobals}],nn.propDecorators={type:[{type:o.IIB}],theme:[{type:o.IIB}],themeMod:[{type:o.IIB}],customMod:[{type:o.IIB}],inlineParams:[{type:o.IIB}],slider:[{type:o.i9L,args:[X.P]}]},nn=(0,a.__decorate)([(0,o.wA2)({selector:"[wlc-tournament-list]",template:'<ng-template #default>\n    <div class="{{$class}}__content"\n         data-wlc-element="block_tournaments-main">\n        <div class="{{$class}}__container"\n             *ngIf="tournaments?.length && isReady; else: noData"\n             data-wlc-element="block_tournament">\n            <div\n                wlc-tournament\n                *ngFor="let tournament of tournaments"\n                [tournament]="tournament"\n                [type]="$params.common?.thumbType"\n                [theme]="$params.theme">\n            </div>\n        </div>\n    </div>\n</ng-template>\n\n<ng-template #dashboard>\n    <div class="{{$class}}__inner" wlc-scrollbar>\n        <div class="{{$class}}__header">{{\'Tournaments\' | translate}}</div>\n        <ng-container *ngIf="readyTournamentsAndSlides; else: noData">\n            <ng-container\n                *ngIf="!isTournamentSelected && $params.type === \'swiper\'">\n                <div class="{{$class}}__slider"\n                     wlc-slider\n                     type="dashboard"\n                     [slides]="slides"\n                     [inlineParams]="sliderParams">\n                </div>\n                <div slot-container-end *ngIf="slides.length > 1" class="{{$class}}__nav">\n                    <div class="container swiper-button-container">\n                        <button wlc-icon\n                                class="wlc-swiper-button-prev"\n                                iconPath="/wlc/icons/arrow.svg">\n                        </button>\n                        <button wlc-icon\n                                class="wlc-swiper-button-next"\n                                iconPath="/wlc/icons/arrow.svg">\n                        </button>\n                    </div>\n                </div>\n            </ng-container>\n            <ng-container *ngIf="isTournamentSelected">\n                <div class="{{$class}}__container-active"\n                     data-wlc-element="block_tournament_active_dashboard">\n                    <div\n                        wlc-tournament\n                        [tournament]="activeTournament"\n                        type="dashboard"\n                        theme="dashboard">\n                    </div>\n                </div>\n            </ng-container>\n        </ng-container>\n    </div>\n</ng-template>\n\n<ng-template #banner>\n    <ng-container *ngIf="tournaments?.length && slides.length && isReady; else: noDataBanner">\n        <ng-container *ngIf="$params.type === \'swiper\'">\n            <div class="{{$class}}__slider"\n                wlc-slider\n                type="banner"\n                [slides]="slides"\n                [inlineParams]="sliderParams"\n            ></div>\n        </ng-container>\n    </ng-container>\n\n    <div slot-container-end *ngIf="slides.length > 1">\n        <div class="container swiper-button-container">\n            <button wlc-icon\n                    class="wlc-swiper-button-prev"\n                    iconPath="/wlc/icons/arrow.svg">\n            </button>\n            <button wlc-icon\n                    class="wlc-swiper-button-next"\n                    iconPath="/wlc/icons/arrow.svg">\n            </button>\n        </div>\n    </div>\n</ng-template>\n\n<ng-template #available>\n    <div *ngIf="paginatedTournaments?.length && isReady; else: noData"\n         class="{{$class}}__container"\n         data-wlc-element="block_tournament">\n        <div\n            *ngFor="let tournament of paginatedTournaments"\n            class="{{$class}}__item">\n            <div\n                wlc-tournament\n                [tournament]="tournament"\n                [type]="$params.common?.thumbType"\n                [theme]="$params.theme"\n                [customMod]="$params.common?.customMod"\n            >\n            </div>\n        </div>\n    </div>\n    <div wlc-pagination\n         theme="default"\n         [items]="tournaments"\n         [settings]="$params.common?.pagination"\n         (paginationOnChange)="paginationOnChange($event)">\n    </div>\n</ng-template>\n\n<ng-template #active>\n    <div\n        *ngIf="tournaments?.length && isReady; else: noData"\n        class="{{$class}}__container"\n        data-wlc-element="block_tournament">\n        <div\n            *ngFor="let tournament of tournaments"\n            class="{{$class}}__item">\n            <div\n                wlc-tournament\n                [tournament]="tournament"\n                [type]="$params.common?.thumbType"\n                [theme]="$params.theme"\n                [customMod]="$params.common?.customMod"\n            >\n            </div>\n        </div>\n    </div>\n</ng-template>\n\n<ng-template #detail>\n    <div\n        *ngIf="tournaments?.length && isReady; else: noData"\n        class="{{$class}}__container"\n        data-wlc-element="block_tournament">\n        <div\n            *ngFor="let tournament of tournaments"\n            class="{{$class}}__item">\n            <div\n                wlc-tournament\n                [tournament]="tournament"\n                [type]="$params.common?.thumbType"\n                [theme]="$params.theme"\n                [customMod]="$params.common?.customMod"\n            >\n            </div>\n        </div>\n    </div>\n</ng-template>\n\n<ng-template #noData>\n    <div *ngIf="isReady"\n         class="{{$class}}__nocontent">{{ \'No tournaments available\' | translate}}\n        <button *ngIf="$params.useNoTournamentsBtn"\n                wlc-button\n                class="{{$class}}__nocontent-btn"\n                [inlineParams]="$params.noTournamentsBtn">\n        </button>\n    </div>\n    <div class="{{$class}}__nocontent" *ngIf="!isReady">\n        <div wlc-loader></div>\n    </div>\n</ng-template>\n\n<ng-template #noDataBanner>\n    <div class="{{$class}}-nocontent__tag">{{\'Tournaments\' | translate}}</div>\n    <div wlc-no-content [inlineParams]="noContentParams"></div>\n</ng-template>\n\n<ng-container [ngSwitch]="$params.theme">\n    <ng-container [ngTemplateOutlet]="active" *ngSwitchCase="\'active\'"></ng-container>\n    <ng-container [ngTemplateOutlet]="available" *ngSwitchCase="\'available\'"></ng-container>\n    <ng-container [ngTemplateOutlet]="dashboard" *ngSwitchCase="\'dashboard\'"></ng-container>\n    <ng-container [ngTemplateOutlet]="banner" *ngSwitchCase="\'banner\'"></ng-container>\n    <ng-container [ngTemplateOutlet]="detail" *ngSwitchCase="\'detail\'"></ng-container>\n    <ng-container [ngTemplateOutlet]="default" *ngSwitchDefault></ng-container>\n</ng-container>\n',changeDetection:o.n4l.OnPush,styles:[".wlc-tournament-list--theme-default:host {\n  margin: 0 0 30px 0;\n}\n@media (min-width: 900px) {\n  .wlc-tournament-list--theme-default:host {\n    margin: 0 0 20px 0;\n  }\n}\n@media (min-width: 1630px) {\n  .wlc-tournament-list--theme-default:host {\n    margin: 0 0 40px 0;\n  }\n}\n.wlc-tournament-list--theme-default:host .wlc-tournament-list__container {\n  grid-template-columns: 1fr;\n  display: grid;\n  grid-gap: 15px;\n}\n@media (min-width: 900px) {\n  .wlc-tournament-list--theme-default:host .wlc-tournament-list__container {\n    grid-template-columns: repeat(auto-fit, minmax(790px, 1fr));\n  }\n}\n@media (min-width: 1630px) {\n  .wlc-tournament-list--theme-default:host .wlc-tournament-list__container {\n    grid-template-columns: repeat(2, minmax(790px, 1fr));\n  }\n}\n.wlc-tournament-list__nocontent {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin: 80px 0 140px 0;\n}\n.wlc-tournament-list__nocontent-btn {\n  margin: 40px 0 0 0;\n}\n.wlc-tournament-list--theme-dashboard:host {\n  display: flex;\n  flex-direction: column;\n  height: calc(100% - 60px);\n}\n.wlc-tournament-list--theme-dashboard:host .wlc-scrollbar ::ng-deep {\n  height: 100%;\n}\n.wlc-tournament-list--theme-dashboard:host .wlc-scrollbar ::ng-deep .wlc-scrollbar__container {\n  width: auto;\n  margin: 0 -20px;\n  padding: 0 20px;\n}\n.wlc-tournament-list--theme-dashboard:host .wlc-scrollbar ::ng-deep .wlc-scrollbar__container ::ng-deep .swiper-scrollbar {\n  right: 9px;\n}\n.wlc-tournament-list--theme-dashboard:host .wlc-tournament-list__header {\n  color: var(--mc-baseMain);\n  font-style: normal;\n  font-weight: bold;\n  font-size: 1.6rem;\n  line-height: 1.45;\n  /* stylelint-disable */\n  display: -webkit-box;\n  line-clamp: 1;\n  box-orient: vertical;\n  -webkit-line-clamp: 1;\n  -webkit-box-orient: vertical;\n  /* stylelint-enable */\n  overflow: hidden;\n  text-overflow: ellipsis;\n  word-break: break-word;\n  margin: 0 0 15px 0;\n  text-align: center;\n}\n.wlc-tournament-list--theme-dashboard:host .wlc-tournament-list__nav ::ng-deep .wlc-swiper-button-prev, .wlc-tournament-list--theme-dashboard:host .wlc-tournament-list__nav ::ng-deep .wlc-swiper-button-next {\n  position: absolute;\n  top: 140px;\n  left: 0;\n  z-index: 100;\n}\n.wlc-tournament-list--theme-dashboard:host .wlc-tournament-list__nav ::ng-deep .wlc-swiper-button-next {\n  right: 0;\n  left: auto;\n}\n.wlc-tournament-list--theme-dashboard:host .wlc-tournament-list__slider {\n  height: 100%;\n}\n.wlc-tournament-list--theme-dashboard:host .wlc-tournament-list__slider ::ng-deep .swiper-container {\n  height: 100%;\n}\n.wlc-tournament-list--theme-banner:host {\n  position: relative;\n  overflow: hidden;\n  max-width: 100%;\n  height: 100%;\n  border-radius: 10px;\n}\n.wlc-tournament-list--theme-banner:host .swiper-button-container {\n  right: 20px;\n  bottom: 30px;\n  position: absolute;\n  z-index: 22;\n  display: flex;\n  align-items: center;\n  width: auto;\n}\n@media (min-width: 1024px) {\n  .wlc-tournament-list--theme-banner:host .swiper-button-container {\n    right: 40px;\n  }\n}\n@media (min-width: 1024px) {\n  .wlc-tournament-list--theme-banner:host .swiper-button-container {\n    bottom: 40px;\n  }\n}\n.wlc-tournament-list--theme-banner:host .wlc-tournament-list-nocontent__tag {\n  color: #fff;\n  font-style: normal;\n  font-weight: bold;\n  font-size: 1.6rem;\n  line-height: 1.45;\n  padding: 10px;\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 10;\n  min-width: 140px;\n  text-align: center;\n  background: #598cfb;\n  border-radius: 10px 0 10px 0;\n}\n.wlc-tournament-list--theme-banner:host .wlc-tournament-list__slider {\n  height: 100%;\n}\n.wlc-tournament-list--theme-banner:host .wlc-tournament-list__slider ::ng-deep .swiper-container,\n.wlc-tournament-list--theme-banner:host .wlc-tournament-list__slider ::ng-deep .swiper-wrapper {\n  height: 100%;\n}\n.wlc-tournament-list--theme-available:host .wlc-tournament-list__item {\n  margin: 0 0 20px 0;\n}\n.wlc-tournament-list--theme-available:host .wlc-tournament-list__item:last-child {\n  margin-bottom: 0;\n}"]})],nn);const tn={moduleName:"tournaments",class:"wlc-tournament-promo",componentName:"wlc-tournament-promo",common:{}};let en=class extends h.k8{constructor(n,t,e,a){super({injectParams:n,defaultParams:tn},e),this.injectParams=n,this.cdr=t,this.configService=e,this.tournamentsService=a,this.rowLimit=3,this.pending=!1,this.isProcessed=!1,this.isAuth=!1}ngOnInit(){super.ngOnInit(h.Bh.prepareParams(this,["tournament","type","theme","themeMod","customMod","actionParams"])),this.isTournamentSelected=this.tournamentsService.isTournamentSelected,this.isAuth=this.ConfigService.get("$user.isAuthenticated"),this.checkParentInstance(),this.tournamentsService.isProcessed$.pipe((0,u.R)(this.$destroy)).subscribe(n=>{this.isProcessed=n,this.isTournamentSelected=this.tournamentsService.isTournamentSelected,this.cdr.markForCheck()})}joinToTournament(){var n;null===(n=this.parentInstance)||void 0===n||n.join()}readMore(n=!1){var t;n||(0,D.Z)(this.$params,"common.actionParams.selector",""),null===(t=this.parentInstance)||void 0===t||t.readMore(this.$params.common.actionParams)}checkParentInstance(){this.parentInstance&&(this.$params.common.tournament=this.parentInstance.tournament,this.setSubscription())}setSubscription(){this.parentInstance.pending$.pipe((0,u.R)(this.$destroy)).subscribe(n=>{this.pending=n,this.isTournamentSelected=this.parentInstance.isTournamentSelected,this.cdr.markForCheck()})}};en.ctorParameters=()=>[{type:void 0,decorators:[{type:o.tBr,args:["injectParams"]}]},{type:o.sBO},{type:h.E4},{type:B}],en.propDecorators={inlineParams:[{type:o.IIB}],type:[{type:o.IIB}],theme:[{type:o.IIB}],themeMod:[{type:o.IIB}],customMod:[{type:o.IIB}],tournament:[{type:o.IIB}],parentInstance:[{type:o.IIB}],actionParams:[{type:o.IIB}]},en=(0,a.__decorate)([(0,o.wA2)({selector:"[wlc-tournament-promo]",template:'<div class="{{$class}}__container">\n    <div class="{{$class}}__info">\n        <img [wlc-fallback]="$params.common.tournament.fallbackImagePromo"\n             [src]="$params.common.tournament.imagePromo"\n             class="{{$class}}__image {{$class}}__image--mobile"\n             loading="lazy">\n        <div class="{{$class}}__inner">\n            <div class="{{$class}}__tag">\n                <span class="{{$class}}__tag-text"\n                      [class.active]="$params.common.tournament?.isSelected"\n                >{{$params.common.tournament.tag | translate}}</span>\n            </div>\n            <h3 class="{{$class}}__title"\n                [title]="$params.common.tournament.name">{{$params.common.tournament.name}}</h3>\n            <div class="{{$class}}__description"\n                 [title]="$params.common.tournament.descriptionClean"\n                 [innerHtml]="$params.common.tournament.descriptionClean"\n            ></div>\n        </div>\n    </div>\n    <div class="{{$class}}__board">\n        <img [wlc-fallback]="$params.common.tournament.fallbackImagePromo"\n             [src]="$params.common.tournament.imagePromo"\n             class="{{$class}}__image {{$class}}__image--desk"\n             loading="lazy">\n        <div class="{{$class}}__inner">\n            <h4 class="{{$class}}__board-title">\n                {{\'Prize pool\' | translate}}\n                <span wlc-currency\n                      class="{{$class}}__board-price"\n                      digitsInfo="1-0-0"\n                      [value]="$params.common.tournament.totalFounds"\n                      [currency]="\'EUR\'"\n                ></span>\n            </h4>\n            <div wlc-timer\n                 class="{{$class}}-timer"\n                 [value]="$params.common.tournament.isTournamentStarts\n                            ? $params.common.tournament.endsLuxon\n                            : $params.common.tournament.startsLuxon"\n                 [text]="$params.common.tournament.isTournamentStarts\n                             ? \'Time remaining\'\n                             : \'Coming soon\'">\n            </div>\n            <div wlc-tournament-prizes\n                 class="{{$class}}-prizes"\n                 [tournament]="$params.common.tournament">\n            </div>\n\n            <span *ngIf="$params.common.tournament.winningSpreadByPercent.length > rowLimit"\n                  wlc-link-block\n                  link="See all prizes"\n                  (click)="readMore(true)"\n            ></span>\n        </div>\n    </div>\n\n    <div class="buttons-wrap">\n        <button\n            *ngIf="!isProcessed && !isTournamentSelected && $params.common.tournament.isTournamentStarts"\n            wlc-button\n            text="Join now"\n            (click)="joinToTournament()">\n        </button>\n        <button\n            wlc-button\n            themeMod="secondary"\n            [text]="\'Read more\'"\n            (click)="readMore()">\n        </button>\n    </div>\n\n    <div *ngIf="pending" class="{{$class}}__loader"></div>\n</div>\n\n<ng-template #noData>\n    <div wlc-loader></div>\n</ng-template>\n',changeDetection:o.n4l.OnPush,styles:['.wlc-tournament-promo--theme-default:host .wlc-tournament-promo__container {\n  grid-template-columns: minmax(290px, 1fr);\n  grid-template-areas: "info" "board" "btns";\n  height: auto;\n  background: var(--mc-bg500);\n  position: relative;\n  display: grid;\n  overflow: hidden;\n  border-radius: 10px;\n}\n@media (min-width: 900px) {\n  .wlc-tournament-promo--theme-default:host .wlc-tournament-promo__container {\n    grid-template-columns: minmax(320px, 1fr) 340px;\n  }\n}\n@media (min-width: 900px) {\n  .wlc-tournament-promo--theme-default:host .wlc-tournament-promo__container {\n    grid-template-areas: "info board" "btns board";\n  }\n}\n@media (min-width: 900px) {\n  .wlc-tournament-promo--theme-default:host .wlc-tournament-promo__container {\n    height: 400px;\n  }\n}\n@media (min-width: 900px) {\n  .wlc-tournament-promo--theme-default:host .wlc-tournament-promo__container {\n    background: var(--mc-bg700);\n  }\n}\n.wlc-tournament-promo--theme-default:host .wlc-tournament-promo__info {\n  padding: 20px 20px 30px;\n  position: relative;\n  grid-area: info;\n}\n@media (min-width: 640px) {\n  .wlc-tournament-promo--theme-default:host .wlc-tournament-promo__info {\n    padding: 30px 40px 40px;\n  }\n}\n.wlc-tournament-promo--theme-default:host .wlc-tournament-promo__info:before {\n  display: block;\n}\n@media (min-width: 900px) {\n  .wlc-tournament-promo--theme-default:host .wlc-tournament-promo__info:before {\n    display: none;\n  }\n}\n.wlc-tournament-promo--theme-default:host .wlc-tournament-promo__board {\n  padding: 20px 30px;\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  grid-area: board;\n  justify-content: center;\n}\n@media (min-width: 640px) {\n  .wlc-tournament-promo--theme-default:host .wlc-tournament-promo__board {\n    padding: 20px 40px;\n  }\n}\n.wlc-tournament-promo--theme-default:host .wlc-tournament-promo__board:before {\n  display: none;\n}\n@media (min-width: 900px) {\n  .wlc-tournament-promo--theme-default:host .wlc-tournament-promo__board:before {\n    display: block;\n  }\n}\n.wlc-tournament-promo--theme-default:host .wlc-tournament-promo__board-title {\n  color: #fff;\n  font-style: normal;\n  font-weight: bold;\n  font-size: 1.6rem;\n  line-height: 1.45;\n  margin: 0 0 10px 0;\n  text-align: center;\n}\n.wlc-tournament-promo--theme-default:host .wlc-tournament-promo__board-title:last-child {\n  margin-bottom: 0;\n}\n.wlc-tournament-promo--theme-default:host .wlc-tournament-promo__board-price {\n  color: var(--mc-main);\n  font-style: normal;\n  font-weight: bold;\n  font-size: 2.4rem;\n  line-height: 1.45;\n  display: block;\n}\n.wlc-tournament-promo--theme-default:host .wlc-tournament-promo__board ::ng-deep .wlc-link-block .wlc-btn[class] {\n  color: var(--mc-main);\n}\n@media (pointer: fine) {\n  .wlc-tournament-promo--theme-default:host .wlc-tournament-promo__board ::ng-deep .wlc-link-block .wlc-btn[class]:hover,\n.wlc-tournament-promo--theme-default:host .wlc-tournament-promo__board ::ng-deep .wlc-link-block .wlc-btn[class]:hover .wlc-icon {\n    color: #fff;\n  }\n}\n.wlc-tournament-promo--theme-default:host .wlc-tournament-promo__info:before, .wlc-tournament-promo--theme-default:host .wlc-tournament-promo__board:before {\n  content: "";\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  z-index: 2;\n  background: linear-gradient(0deg, rgba(0, 0, 0, 0.8) 0%, rgba(0, 0, 0, 0.2) 60%);\n}\n.wlc-tournament-promo--theme-default:host .wlc-tournament-promo__inner {\n  position: relative;\n  z-index: 3;\n}\n.wlc-tournament-promo--theme-default:host .wlc-tournament-promo__tag {\n  margin: 0 0 20px;\n  line-height: 0;\n}\n.wlc-tournament-promo--theme-default:host .wlc-tournament-promo__tag-text {\n  color: #fff;\n  font-style: normal;\n  font-weight: normal;\n  font-size: 1rem;\n  line-height: 1.45;\n  display: inline-block;\n  padding: 4px 15px;\n  border-radius: 100px;\n  background: #7f5cfb;\n}\n.wlc-tournament-promo--theme-default:host .wlc-tournament-promo__tag-text.active {\n  color: #fff;\n  background: #598cfb;\n}\n.wlc-tournament-promo--theme-default:host .wlc-tournament-promo__title {\n  color: var(--mc-baseMain);\n  font-style: normal;\n  font-weight: bold;\n  font-size: 1.6rem;\n  line-height: 1.45;\n  /* stylelint-disable */\n  display: -webkit-box;\n  line-clamp: 2;\n  box-orient: vertical;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n  /* stylelint-enable */\n  overflow: hidden;\n  text-overflow: ellipsis;\n  word-break: break-word;\n  margin: 0 0 30px;\n  text-transform: uppercase;\n}\n@media (min-width: 900px) {\n  .wlc-tournament-promo--theme-default:host .wlc-tournament-promo__title {\n    color: var(--mc-baseMain);\n    font-style: normal;\n    font-weight: bold;\n    font-size: 3.6rem;\n    line-height: 1.45;\n  }\n}\n.wlc-tournament-promo--theme-default:host .wlc-tournament-promo__description {\n  color: var(--mc-baseMain);\n  font-style: normal;\n  font-weight: normal;\n  font-size: 1.4rem;\n  line-height: 1.45;\n  /* stylelint-disable */\n  display: -webkit-box;\n  line-clamp: 3;\n  box-orient: vertical;\n  -webkit-line-clamp: 3;\n  -webkit-box-orient: vertical;\n  /* stylelint-enable */\n  overflow: hidden;\n  text-overflow: ellipsis;\n  word-break: break-word;\n  margin: 0 0 40px;\n}\n@media (min-width: 900px) {\n  .wlc-tournament-promo--theme-default:host .wlc-tournament-promo__description {\n    color: var(--mc-baseMain);\n    font-style: normal;\n    font-weight: normal;\n    font-size: 1.6rem;\n    line-height: 1.45;\n  }\n}\n.wlc-tournament-promo--theme-default:host .wlc-tournament-promo__tag, .wlc-tournament-promo--theme-default:host .wlc-tournament-promo__title, .wlc-tournament-promo--theme-default:host .wlc-tournament-promo__description {\n  text-align: center;\n}\n@media (min-width: 900px) {\n  .wlc-tournament-promo--theme-default:host .wlc-tournament-promo__tag, .wlc-tournament-promo--theme-default:host .wlc-tournament-promo__title, .wlc-tournament-promo--theme-default:host .wlc-tournament-promo__description {\n    text-align: left;\n  }\n}\n.wlc-tournament-promo--theme-default:host .wlc-tournament-promo__tag:last-child, .wlc-tournament-promo--theme-default:host .wlc-tournament-promo__title:last-child, .wlc-tournament-promo--theme-default:host .wlc-tournament-promo__description:last-child {\n  margin-bottom: 0;\n}\n.wlc-tournament-promo--theme-default:host .wlc-tournament-promo__image {\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 1;\n  width: 100%;\n  height: 100%;\n  -o-object-fit: cover;\n     object-fit: cover;\n  -o-object-position: center;\n     object-position: center;\n}\n.wlc-tournament-promo--theme-default:host .wlc-tournament-promo__image--desk {\n  display: none;\n}\n@media (min-width: 900px) {\n  .wlc-tournament-promo--theme-default:host .wlc-tournament-promo__image--desk {\n    display: block;\n  }\n}\n.wlc-tournament-promo--theme-default:host .wlc-tournament-promo__image--mobile {\n  display: block;\n}\n@media (min-width: 900px) {\n  .wlc-tournament-promo--theme-default:host .wlc-tournament-promo__image--mobile {\n    display: none;\n  }\n}\n.wlc-tournament-promo--theme-default:host .wlc-tournament-promo__loader {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  z-index: 10;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: var(--mc-disabled-o6);\n  border-radius: 10px;\n}\n.wlc-tournament-promo--theme-default:host .wlc-tournament-promo__loader:before {\n  content: "";\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  width: 60px;\n  height: 60px;\n  margin: auto;\n  background: var(--mc-bg-o8);\n  border-radius: 50%;\n}\n.wlc-tournament-promo--theme-default:host .wlc-tournament-promo__loader:after {\n  content: "";\n  width: 50px;\n  height: 50px;\n  border: 4px solid var(--mc-main);\n  border-left-color: transparent;\n  border-radius: 50%;\n  -webkit-animation: spin 1s infinite linear;\n          animation: spin 1s infinite linear;\n}\n.wlc-tournament-promo--theme-default:host ::ng-deep .wlc-tournament-promo-prizes {\n  margin: 10px auto;\n}\n.wlc-tournament-promo--theme-default:host ::ng-deep .wlc-tournament-promo-prizes:last-child {\n  margin-bottom: 0;\n}\n.wlc-tournament-promo--theme-default:host ::ng-deep .buttons-wrap {\n  justify-content: center;\n  padding: 0 30px 20px;\n  flex-direction: column;\n  display: flex;\n  grid-area: btns;\n  align-items: center;\n  margin: auto 0 0 0;\n}\n@media (min-width: 900px) {\n  .wlc-tournament-promo--theme-default:host ::ng-deep .buttons-wrap {\n    justify-content: flex-start;\n  }\n}\n@media (min-width: 640px) {\n  .wlc-tournament-promo--theme-default:host ::ng-deep .buttons-wrap {\n    padding: 0 40px 40px;\n  }\n}\n@media (min-width: 480px) {\n  .wlc-tournament-promo--theme-default:host ::ng-deep .buttons-wrap {\n    flex-direction: row;\n  }\n}\n.wlc-tournament-promo--theme-default:host ::ng-deep .buttons-wrap > .wlc-btn {\n  min-width: 150px;\n  margin: 0 0 20px 0;\n  grid-column-gap: 0;\n  padding: 5px 15px;\n}\n@media (min-width: 480px) {\n  .wlc-tournament-promo--theme-default:host ::ng-deep .buttons-wrap > .wlc-btn {\n    min-width: 110px;\n  }\n}\n@media (min-width: 480px) {\n  .wlc-tournament-promo--theme-default:host ::ng-deep .buttons-wrap > .wlc-btn {\n    margin: 0 20px 0 0;\n  }\n}\n.wlc-tournament-promo--theme-default:host ::ng-deep .buttons-wrap > .wlc-btn:last-child {\n  margin: 0;\n}\n.wlc-tournament-promo--theme-default:host.wlc-tournament-promo--available .wlc-tournament-promo__container {\n  grid-template-columns: minmax(290px, 1fr);\n  height: auto;\n  background: var(--mc-bg500);\n}\n@media (min-width: 900px) {\n  .wlc-tournament-promo--theme-default:host.wlc-tournament-promo--available .wlc-tournament-promo__container {\n    grid-template-columns: minmax(320px, 1fr) 290px;\n  }\n}\n@media (min-width: 1200px) {\n  .wlc-tournament-promo--theme-default:host.wlc-tournament-promo--available .wlc-tournament-promo__container {\n    grid-template-columns: minmax(320px, 1fr) 340px;\n  }\n}\n@media (min-width: 900px) {\n  .wlc-tournament-promo--theme-default:host.wlc-tournament-promo--available .wlc-tournament-promo__container {\n    height: 380px;\n  }\n}\n@media (min-width: 1630px) {\n  .wlc-tournament-promo--theme-default:host.wlc-tournament-promo--available .wlc-tournament-promo__container {\n    height: 400px;\n  }\n}\n.wlc-tournament-promo--theme-default:host.wlc-tournament-promo--available .wlc-tournament-promo__info {\n  padding: 20px;\n}\n@media (min-width: 640px) {\n  .wlc-tournament-promo--theme-default:host.wlc-tournament-promo--available .wlc-tournament-promo__info {\n    padding: 15px;\n  }\n}\n@media (min-width: 1024px) {\n  .wlc-tournament-promo--theme-default:host.wlc-tournament-promo--available .wlc-tournament-promo__info {\n    padding: 20px 15px;\n  }\n}\n@media (min-width: 1630px) {\n  .wlc-tournament-promo--theme-default:host.wlc-tournament-promo--available .wlc-tournament-promo__info {\n    padding: 30px 40px 40px;\n  }\n}\n.wlc-tournament-promo--theme-default:host.wlc-tournament-promo--available .wlc-tournament-promo__board {\n  padding: 10px 20px 20px;\n}\n@media (min-width: 640px) {\n  .wlc-tournament-promo--theme-default:host.wlc-tournament-promo--available .wlc-tournament-promo__board {\n    padding: 15px;\n  }\n}\n@media (min-width: 1630px) {\n  .wlc-tournament-promo--theme-default:host.wlc-tournament-promo--available .wlc-tournament-promo__board {\n    padding: 20px 40px;\n  }\n}\n.wlc-tournament-promo--theme-default:host.wlc-tournament-promo--available ::ng-deep .buttons-wrap {\n  padding: 0 30px 20px;\n}\n@media (min-width: 640px) {\n  .wlc-tournament-promo--theme-default:host.wlc-tournament-promo--available ::ng-deep .buttons-wrap {\n    padding: 0 15px 15px;\n  }\n}\n@media (min-width: 1024px) {\n  .wlc-tournament-promo--theme-default:host.wlc-tournament-promo--available ::ng-deep .buttons-wrap {\n    padding: 0 15px 20px;\n  }\n}\n@media (min-width: 1630px) {\n  .wlc-tournament-promo--theme-default:host.wlc-tournament-promo--available ::ng-deep .buttons-wrap {\n    padding: 0 40px 40px;\n  }\n}\n@-webkit-keyframes spin {\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n}\n@keyframes spin {\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n}']})],en);var an=e(52431),on=e(80438),rn=e(81018);var sn=function(n,t,e){var a=null==n?0:n.length;return a?(e&&"number"!=typeof e&&(0,on.Z)(n,t,e)?(t=0,e=a):(t=null==t?0:(0,rn.Z)(t),e=void 0===e?a:(0,rn.Z)(e)),(0,an.Z)(n,t,e)):[]};let ln=class extends h.k8{constructor(n){super({injectParams:n,defaultParams:l}),this.injectParams=n}ngOnInit(){super.ngOnInit(h.Bh.prepareParams(this,["tournament","type","theme","themeMod","customMod","rowsLimit"])),this.preparePrizesTable()}preparePrizesTable(){var n;this.prizesTable=sn(null===(n=this.$params.common.tournament)||void 0===n?void 0:n.winningSpreadByPercent,0,this.$params.common.rowLimit||3)}};ln.ctorParameters=()=>[{type:void 0,decorators:[{type:o.tBr,args:["injectParams"]}]}],ln.propDecorators={inlineParams:[{type:o.IIB}],type:[{type:o.IIB}],theme:[{type:o.IIB}],themeMod:[{type:o.IIB}],customMod:[{type:o.IIB}],tournament:[{type:o.IIB}]},ln=(0,a.__decorate)([(0,o.wA2)({selector:"[wlc-tournament-prizes]",template:'<div class="{{$class}}__container">\n    <div class="{{$class}}__head">\n        <div class="{{$class}}__row">\n            <div class="{{$class}}__col">\n                <span class="{{$class}}__head-text">\n                {{\'Place\' | translate}}\n                </span>\n            </div>\n            <div class="{{$class}}__col">\n                <span class="{{$class}}__head-text">\n                    {{\'Prize\' | translate}}\n                    (<span\n                    wlc-currency\n                    [value]="$params.common.tournament?.feeCurrency"\n                    [currency]="\'EUR\'"\n                    [showIconOnly]="true"></span>)\n                </span>\n            </div>\n            <div class="{{$class}}__col">\n                <span class="{{$class}}__head-text">\n                     {{\'Percent\' | translate}} (%)\n                </span>\n            </div>\n        </div>\n    </div>\n    <div class="{{$class}}__body">\n        <div\n            *ngFor="let value of prizesTable; let index = index"\n            class="{{$class}}__row">\n            <div class="{{$class}}__col">\n                <span class="{{$class}}__body-text">\n                    <span class="{{$class}}__body-place">{{index + 1}}</span> <span wlc-icon iconPath="/wlc/icons/cup.svg"></span>\n                </span>\n            </div>\n            <div class="{{$class}}__col">{{$params.common.tournament?.winningSpread[index]}}</div>\n            <div class="{{$class}}__col {{$class}}__col--percent">{{value}}</div>\n        </div>\n    </div>\n</div>\n',changeDetection:o.n4l.OnPush,styles:[".wlc-tournament-prizes--theme-default:host .wlc-tournament-prizes__container {\n  padding: 15px 0;\n  background: var(--mc-bg);\n  border-radius: 10px;\n}\n.wlc-tournament-prizes--theme-default:host .wlc-tournament-prizes__head {\n  margin: 0 0 15px;\n  padding: 0 15px 10px;\n  border-bottom: 2px solid var(--mc-bg500);\n}\n.wlc-tournament-prizes--theme-default:host .wlc-tournament-prizes__head-text {\n  color: var(--mc-baseMain);\n  font-style: normal;\n  font-weight: normal;\n  font-size: 1.2rem;\n  line-height: 1.45;\n  display: block;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.wlc-tournament-prizes--theme-default:host .wlc-tournament-prizes__body {\n  margin: 0;\n  padding: 0 15px;\n  background: var(--mc-bg);\n  border-radius: 10px;\n}\n.wlc-tournament-prizes--theme-default:host .wlc-tournament-prizes__body .wlc-tournament-prizes__row {\n  margin: 0 0 15px;\n}\n.wlc-tournament-prizes--theme-default:host .wlc-tournament-prizes__body .wlc-tournament-prizes__row:last-child {\n  margin-bottom: 0;\n}\n.wlc-tournament-prizes--theme-default:host .wlc-tournament-prizes__body .wlc-tournament-prizes__col {\n  color: var(--mc-baseMain);\n  font-style: normal;\n  font-weight: bold;\n  font-size: 1.4rem;\n  line-height: 1.45;\n}\n.wlc-tournament-prizes--theme-default:host .wlc-tournament-prizes__body-text {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.wlc-tournament-prizes--theme-default:host .wlc-tournament-prizes__body-text ::ng-deep .wlc-icon {\n  line-height: 0;\n}\n.wlc-tournament-prizes--theme-default:host .wlc-tournament-prizes__body-text ::ng-deep .wlc-icon * {\n  display: inline-block;\n  line-height: 0;\n}\n.wlc-tournament-prizes--theme-default:host .wlc-tournament-prizes__body-text ::ng-deep .wlc-icon svg path {\n  fill: var(--mc-main);\n}\n.wlc-tournament-prizes--theme-default:host .wlc-tournament-prizes__body-place {\n  min-width: 15px;\n  margin: 0 5px 0 0;\n}\n.wlc-tournament-prizes--theme-default:host .wlc-tournament-prizes__row {\n  display: flex;\n  align-items: center;\n  text-align: center;\n}\n.wlc-tournament-prizes--theme-default:host .wlc-tournament-prizes__col {\n  flex: 1 0 0%;\n  min-width: 0%;\n  padding: 0 2px;\n  line-height: 1;\n}\n.wlc-tournament-prizes--theme-default:host .wlc-tournament-prizes__text {\n  text-align: center;\n}"]})],ln);const mn={moduleName:"tournaments",class:"wlc-tournament-banner",componentName:"wlc-tournament-banner"};let cn=class extends h.k8{constructor(n,t,e,a){super({injectParams:n,defaultParams:mn},e),this.injectParams=n,this.cdr=t,this.configService=e,this.tournamentsService=a,this.isProcessed=!1,this.pending=!1,this.isAuth=!1}ngOnInit(){super.ngOnInit(h.Bh.prepareParams(this,["tournament","type","theme","themeMod","customMod","parentInstance","actionParams"])),this.isAuth=this.ConfigService.get("$user.isAuthenticated"),this.isTournamentSelected=this.tournamentsService.isTournamentSelected,this.checkParentInstance(),this.tournamentsService.isProcessed$.pipe((0,u.R)(this.$destroy)).subscribe(n=>{this.isProcessed=n,this.isTournamentSelected=this.tournamentsService.isTournamentSelected,this.cdr.markForCheck()})}checkParentInstance(){this.parentInstance&&(this.$params.tournament=this.parentInstance.tournament,this.setSubscription())}setSubscription(){this.parentInstance.pending$.pipe((0,u.R)(this.$destroy)).subscribe(n=>{this.pending=n,this.isTournamentSelected=this.parentInstance.isTournamentSelected,this.cdr.markForCheck()})}readMore(n=!1){var t;n||(0,D.Z)(this.$params,"common.actionParams.selector",""),null===(t=this.parentInstance)||void 0===t||t.readMore(this.$params.common.actionParams)}joinToTournament(){var n;null===(n=this.parentInstance)||void 0===n||n.join()}};cn.ctorParameters=()=>[{type:void 0,decorators:[{type:o.tBr,args:["injectParams"]}]},{type:o.sBO},{type:h.E4},{type:B}],cn.propDecorators={inlineParams:[{type:o.IIB}],type:[{type:o.IIB}],theme:[{type:o.IIB}],themeMod:[{type:o.IIB}],customMod:[{type:o.IIB}],tournament:[{type:o.IIB}],parentInstance:[{type:o.IIB}],actionParams:[{type:o.IIB}]},cn=(0,a.__decorate)([(0,o.wA2)({selector:"[wlc-tournament-banner]",template:'<div class="{{$class}}"\n     [style]="{backgroundImage: \'url(\' + $params.tournament.image + \')\'}">\n    <div class="{{$class}}__tag">{{\'Tournaments\' | translate}}</div>\n    <div class="{{$class}}__more-icon" >\n        <div wlc-icon\n             class="icon-btn"\n             iconPath="/wlc/icons/info.svg"\n             wlcElement="button_terms"\n             (click)="readMore()">\n        </div>\n    </div>\n    <div class="{{$class}}__body">\n        <h2 class="{{$class}}__body-title"\n            [title]="$params.tournament.name"\n        >\n            {{$params.tournament.name}}\n        </h2>\n        <div class="{{$class}}__timer-block"\n             wlc-tournament-smart-info\n             [tournament]="$params.tournament">\n        </div>\n\n        <div class="{{$class}}__description"\n             [title]="$params.tournament.descriptionClean"\n             [innerHtml]="$params.tournament.descriptionClean"\n        ></div>\n\n        <div class="buttons-wrap">\n            <button\n                *ngIf="!isProcessed && !isTournamentSelected && $params.tournament.isTournamentStarts"\n                wlc-button\n                text="Join now"\n                (click)="joinToTournament()">\n            </button>\n            <button\n                wlc-button\n                themeMod="secondary"\n                customMod="theme-mod-read"\n                [text]="\'Read more\'"\n                (click)="readMore()">\n            </button>\n        </div>\n        <div class="{{$class}}__body-decor"\n             [style]="{backgroundImage: \'url(\' + $params.tournament.imageOther + \')\'}"\n        ></div>\n    </div>\n</div>\n<div *ngIf="pending" class="{{$class}}__loader"></div>\n',changeDetection:o.n4l.OnPush,styles:['.wlc-tournament-banner--theme-default:host {\n  position: relative;\n  height: 100%;\n}\n\n.wlc-tournament-banner {\n  position: relative;\n  max-width: 100%;\n  height: 100%;\n  border-radius: 10px;\n  background-color: var(--mc-bg700);\n  background-repeat: no-repeat;\n  background-size: cover;\n  overflow: hidden;\n}\n\n.wlc-tournament-banner:before {\n  background: linear-gradient(360deg, var(--mc-bg700) 55%, var(--mc-bg700-o0) 101%, var(--mc-bg700-o8) 155%);\n  content: "";\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  z-index: 1;\n}\n\n@media (min-width: 768px) {\n  .wlc-tournament-banner:before {\n    background: linear-gradient(90deg, var(--mc-bg700) 35%, var(--mc-bg700-o0) 77%, var(--mc-bg700-o8) 100%);\n  }\n}\n\n.wlc-tournament-banner__tag {\n  color: #fff;\n  font-style: normal;\n  font-weight: bold;\n  font-size: 1.6rem;\n  line-height: 1.45;\n  padding: 10px;\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 10;\n  min-width: 140px;\n  text-align: center;\n  background: #598cfb;\n  border-radius: 10px 0 10px 0;\n}\n\n.wlc-tournament-banner__more-icon {\n  display: block;\n  top: 20px;\n  right: 20px;\n  position: absolute;\n  z-index: 3;\n  color: var(--mc-baseOpacity);\n  line-height: 1;\n}\n\n@media (min-width: 480px) {\n  .wlc-tournament-banner__more-icon {\n    display: none;\n  }\n}\n\n.wlc-tournament-banner__more-icon .icon-btn {\n  width: 22px;\n  height: 22px;\n  cursor: pointer;\n}\n\n.wlc-tournament-banner__more-icon .icon-btn::ng-deep svg {\n  fill: currentColor;\n}\n\n@media (pointer: fine) {\n  .wlc-tournament-banner__more-icon:hover {\n    color: var(--mc-baseMain);\n  }\n}\n\n.wlc-tournament-banner__body {\n  padding: 55px 20px 30px;\n  position: relative;\n  z-index: 2;\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  height: 100%;\n}\n\n@media (min-width: 1024px) {\n  .wlc-tournament-banner__body {\n    padding: 55px 40px 40px;\n  }\n}\n\n.wlc-tournament-banner__body > *:not(.wlc-tournament-banner__body-decor) {\n  position: relative;\n  z-index: 2;\n}\n\n.wlc-tournament-banner__body-decor {\n  display: none;\n  background-position: right bottom;\n  background-size: contain;\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  z-index: 1;\n  width: 50%;\n  background-repeat: no-repeat;\n}\n\n@media (min-width: 768px) {\n  .wlc-tournament-banner__body-decor {\n    display: block;\n  }\n}\n\n.wlc-tournament-banner__body-title {\n  color: var(--mc-baseMain);\n  font-style: normal;\n  font-weight: bold;\n  font-size: 2.4rem;\n  line-height: 1.45;\n  /* stylelint-disable */\n  display: -webkit-box;\n  line-clamp: 1;\n  box-orient: vertical;\n  -webkit-line-clamp: 1;\n  -webkit-box-orient: vertical;\n  /* stylelint-enable */\n  overflow: hidden;\n  text-overflow: ellipsis;\n  word-break: break-word;\n  margin: 0 0 15px;\n}\n\n@media (min-width: 768px) {\n  .wlc-tournament-banner__body-title {\n    color: var(--mc-baseMain);\n    font-style: normal;\n    font-weight: bold;\n    font-size: 3.6rem;\n    line-height: 1.45;\n  }\n}\n\n.wlc-tournament-banner__timer-block {\n  margin: 0 0 15px;\n}\n\n.wlc-tournament-banner__description {\n  color: var(--mc-baseMain);\n  font-style: normal;\n  font-weight: normal;\n  font-size: 1.4rem;\n  line-height: 1.45;\n  max-width: 100%;\n  margin: 0 0 20px 0;\n  /* stylelint-disable */\n  display: -webkit-box;\n  line-clamp: 3;\n  box-orient: vertical;\n  -webkit-line-clamp: 3;\n  -webkit-box-orient: vertical;\n  /* stylelint-enable */\n  overflow: hidden;\n  text-overflow: ellipsis;\n  word-break: break-word;\n}\n\n@media (min-width: 768px) {\n  .wlc-tournament-banner__description {\n    max-width: 50%;\n  }\n}\n\n@media (min-width: 1024px) {\n  .wlc-tournament-banner__description {\n    max-width: 450px;\n  }\n}\n\n@media (min-width: 1200px) {\n  .wlc-tournament-banner__description {\n    max-width: 50%;\n  }\n}\n\n@media (min-width: 768px) {\n  .wlc-tournament-banner__description {\n    margin: 0 0 50px 0;\n  }\n}\n\n.wlc-tournament-banner ::ng-deep .wlc-icon-content {\n  display: inline-block;\n  line-height: 0;\n}\n\n.wlc-tournament-banner .buttons-wrap {\n  display: flex;\n  justify-content: flex-start;\n  margin: auto 0 0;\n}\n\n.wlc-tournament-banner .buttons-wrap > .wlc-btn {\n  grid-column-gap: 0;\n  min-width: 110px;\n  margin: 0 20px 0 0;\n  padding: 5px 15px;\n}\n\n.wlc-tournament-banner .buttons-wrap > .wlc-btn:last-child {\n  margin-right: 0;\n}\n\n.wlc-tournament-banner .buttons-wrap > .wlc-btn--theme-mod-read {\n  display: none;\n}\n\n@media (min-width: 480px) {\n  .wlc-tournament-banner .buttons-wrap > .wlc-btn--theme-mod-read {\n    display: grid;\n  }\n}\n\n.wlc-tournament-banner__loader {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  z-index: 10;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 10px;\n  background: var(--mc-disabled-o6);\n}\n\n.wlc-tournament-banner__loader:before {\n  content: "";\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  width: 60px;\n  height: 60px;\n  margin: auto;\n  background: var(--mc-bg-o8);\n  border-radius: 50%;\n}\n\n.wlc-tournament-banner__loader:after {\n  content: "";\n  width: 50px;\n  height: 50px;\n  border: 4px solid var(--mc-main);\n  border-left-color: transparent;\n  border-radius: 50%;\n  -webkit-animation: spin 1s infinite linear;\n          animation: spin 1s infinite linear;\n}\n\n@-webkit-keyframes spin {\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes spin {\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n}']})],cn);var dn=e(3679),un=e(87978);const hn={class:"wlc-tournaments-history"},pn=[{key:"name",title:gettext("Name"),type:"component",mapValue:n=>({item:{name:n.name,status:n.statusName,id:n.id.toString()}}),componentClass:un.j,order:20,wlcElement:"wlc-profile-table__cell_name"},{key:"place",title:gettext("Place"),type:"text",order:30,wlcElement:"wlc-profile-table__cell_place"},{key:"points",title:gettext("Points"),type:"text",order:50,wlcElement:"wlc-profile-table__cell_points"},{key:"win",title:gettext("Win"),type:"amount",order:50,wlcElement:"wlc-profile-table__cell_win"},{key:"start",title:gettext("Start"),type:"date",order:50,wlcElement:"wlc-profile-table__cell_started"},{key:"end",title:gettext("End"),type:"date",order:50,wlcElement:"wlc-profile-table__cell_ended"},{key:"statusName",title:gettext("Status"),type:"component",mapValue:n=>({tournament:n}),componentClass:Q,order:50,wlcElement:"wlc-profile-table__cell_status"}];var wn=e(72545);let gn=class extends h.k8{constructor(n,t,e,a,o,r){super({injectParams:n,defaultParams:hn}),this.params=n,this.cdr=t,this.eventService=e,this.injectionService=a,this.tournamentsService=o,this.configService=r,this.ready=!1,this.filterSelect={name:"status",value:"all",common:{placeholder:gettext("Status")},theme:"vertical",labelText:gettext("Status"),control:new dn.NI("all"),items:[{value:"all",title:gettext("All")},{value:"0",title:gettext("Selected")},{value:"1",title:gettext("Qualified")},{value:"-99",title:gettext("Canceled")},{value:"99",title:gettext("Ending")},{value:"100",title:gettext("Ended")}]},this.tournaments=new c.X([]),this.filterType="all",this.allTournaments=[],this.init()}init(){const n=this.configService.get("$base.profile.type")||"default";this.tableData={themeMod:n,noItemsText:gettext("No tournaments history"),head:pn,rows:this.tournaments,switchWidth:"first"===n?1200:1024}}ngOnInit(){const n=Object.create(null,{ngOnInit:{get:()=>super.ngOnInit}});return(0,a.__awaiter)(this,void 0,void 0,function*(){n.ngOnInit.call(this),yield this.tournamentsService.queryTournaments(!0,"history"),this.historyFilterService=yield this.injectionService.getService("finances.history-filter"),this.tournamentsService.getObserver("history").subscribe(n=>{this.allTournaments=n}),this.tournaments.next(this.filterTransaction()),this.filterSelect.control.valueChanges.pipe((0,u.R)(this.$destroy)).subscribe(n=>{this.filterType=n,this.tournaments.next(this.filterTransaction())}),this.historyFilter(),this.ready=!0,this.cdr.markForCheck()})}filterTransaction(){let n=this.allTournaments||[];return"all"!==this.filterType&&(n=(0,S.Z)(n,n=>n.status.toString()==this.filterType)),n=(0,wn.Z)(n,n=>w.ou.fromSQL(n.ends).toSeconds()),n}historyFilter(){this.historyFilterService.setDefaultFilter("tournaments",{filterType:this.filterSelect.value}),this.historyFilterService.getFilter("tournaments").pipe((0,u.R)(this.$destroy),(0,T.h)(n=>!!n)).subscribe(n=>{this.filterType=n.filterType,this.tournaments.next(this.filterTransaction())})}};gn.ctorParameters=()=>[{type:void 0,decorators:[{type:o.tBr,args:["injectParams"]}]},{type:o.sBO},{type:h.PO},{type:h.YS},{type:B},{type:h.E4}],gn=(0,a.__decorate)([(0,o.wA2)({selector:"[wlc-tournaments-history]",template:'<div class="{{$class}}-filter">\n    <div wlc-select [inlineParams]="filterSelect"></div>\n</div>\n\n<div *ngIf="ready; else preloader" class="{{$class}}">\n    <div wlc-table [inlineParams]=\'tableData\'></div>\n</div>\n\n<ng-template #preloader>\n    <div wlc-loader></div>\n</ng-template>\n',styles:[".wlc-tournaments-history--theme-default:host .wlc-loader {\n  min-height: 400px;\n}\n.wlc-tournaments-history--theme-default:host .wlc-tournaments-history-filter {\n  display: none;\n}\n.wlc-tournaments-history--theme-default:host .wlc-tournaments-history-filter .wlc-select[wlc-select] {\n  min-width: 140px;\n}\n@media (min-width: 1024px) {\n  .wlc-tournaments-history--theme-default:host .wlc-tournaments-history-filter {\n    display: grid;\n    align-items: flex-end;\n    margin: 0 0 20px;\n    grid-auto-flow: column;\n    grid-auto-columns: -webkit-max-content;\n    grid-auto-columns: max-content;\n    grid-gap: 15px;\n  }\n}\n@media (min-width: 1200px) {\n  .wlc-tournaments-history--theme-default:host .wlc-table::ng-deep .wlc-table__content .wlc-table__row:not(.wlc-table__row--head) .wlc-table__cell {\n    transition: none;\n  }\n}\n.wlc-tournaments-history--theme-default:host .wlc-table::ng-deep .wlc-table__cell.wlc-table__cell--first {\n  grid-template-columns: 1fr auto;\n  align-items: center;\n  word-break: break-word;\n}\n.wlc-tournaments-history--theme-default:host .wlc-table::ng-deep .wlc-table__cell.wlc-table__cell--first .wlc-table__cell-label {\n  display: none;\n}\n.wlc-tournaments-history--theme-default:host .wlc-table::ng-deep .wlc-table__cell.wlc-table__cell--first .wlc-history-name {\n  display: grid;\n  grid-auto-flow: column;\n  grid-gap: 10px;\n  gap: 10px;\n  align-items: center;\n  justify-content: space-between;\n  text-align: left;\n}\n@media (min-width: 1024px) {\n  .wlc-tournaments-history--theme-default:host .wlc-table::ng-deep .wlc-table__cell.wlc-table__cell--first .wlc-history-name {\n    padding: 0 0 0 10px;\n  }\n}\n@media (min-width: 1024px) {\n  .wlc-tournaments-history--theme-default:host .wlc-table::ng-deep .wlc-table__cell {\n    vertical-align: middle;\n  }\n}\n.wlc-tournaments-history--theme-default:host .wlc-table::ng-deep .wlc-table__cell--statusName {\n  position: relative;\n}\n@media (min-width: 1024px) {\n  .wlc-tournaments-history--theme-default:host .wlc-table::ng-deep .wlc-table__cell--statusName {\n    min-width: 160px;\n  }\n}\n@media (min-width: 1200px) {\n  .wlc-tournaments-history--theme-default:host .wlc-table::ng-deep .wlc-table__cell--statusName {\n    min-width: auto;\n  }\n}\n@media (pointer: coarse) and (min-width: 1024px) {\n  .wlc-tournaments-history--theme-default:host .wlc-table--theme-mod-first::ng-deep .wlc-table__content .wlc-table__row:not(.wlc-table__row--head) .action-text {\n    opacity: 1;\n  }\n}\n@media (min-width: 1024px) {\n  .wlc-tournaments-history--theme-default:host .wlc-table--theme-mod-first::ng-deep .wlc-table__cell--statusName {\n    min-width: auto;\n  }\n}\n@media (min-width: 1200px) {\n  .wlc-tournaments-history--theme-default:host .wlc-table--theme-mod-first::ng-deep .wlc-table__cell--statusName {\n    min-width: 160px;\n  }\n}"]})],gn);const bn={moduleName:"tournaments",class:"wlc-tournament-smart-info",componentName:"wlc-tournament-smart-info",common:{timerTextAfterStart:gettext("Time remaining"),timerTextBeforeStart:gettext("Coming soon"),prizePoolText:gettext("Prize pool")}};let fn=class extends h.k8{constructor(n,t,e){super({injectParams:n,defaultParams:bn},e),this.params=n,this.cdr=t,this.configService=e}ngOnInit(){super.ngOnInit(h.Bh.prepareParams(this,["tournament","type","theme","themeMod","customMod","prizePoolText","timerTextBeforeStart","timerTextAfterStart"]))}};fn.ctorParameters=()=>[{type:void 0,decorators:[{type:o.tBr,args:["injectParams"]}]},{type:o.sBO},{type:h.E4}],fn.propDecorators={inlineParams:[{type:o.IIB}],type:[{type:o.IIB}],theme:[{type:o.IIB}],themeMod:[{type:o.IIB}],customMod:[{type:o.IIB}],tournament:[{type:o.IIB}],prizePoolText:[{type:o.IIB}],timerTextBeforeStart:[{type:o.IIB}],timerTextAfterStart:[{type:o.IIB}]},fn=(0,a.__decorate)([(0,o.wA2)({selector:"[wlc-tournament-smart-info]",template:'<div class="{{$class}}__content" *ngIf="tournament; else: noData">\n\n    <div class="{{$class}}__prize-block">\n        <div wlc-icon\n             class="{{$class}}__prize-block--icon"\n             iconPath="/wlc/icons/pool.svg">\n        </div>\n        <div class="{{$class}}__prize-block__text">\n            <div class="{{$class}}__prize-block__text--subtitle">\n                {{$params.common?.prizePoolText | translate}}\n            </div>\n            <div class="{{$class}}__prize-block__text--value" wlc-currency digitsInfo="1-0-0"\n                [value]="tournament.totalFounds" [currency]="\'EUR\'">\n            </div>\n        </div>\n    </div>\n    <div class="{{$class}}__delimiter"></div>\n    <div class="{{$class}}__timer-block" wlc-timer\n        [value]="(tournament.isTournamentStarts) ? tournament.endsLuxon : tournament.startsLuxon"\n        [text]="(tournament.isTournamentStarts) ? $params.common?.timerTextAfterStart : $params.common?.timerTextBeforeStart">\n    </div>\n</div>\n\n<ng-template #noData>\n    <div class="{{$class}}__nocontent">\n        <div wlc-loader></div>\n    </div>\n</ng-template>\n',changeDetection:o.n4l.OnPush,styles:[".wlc-tournament-smart-info--theme-default:host .wlc-tournament-smart-info__content {\n  flex-wrap: wrap;\n  min-width: 100%;\n  padding: 10px 20px;\n  background: var(--mc-bg);\n  border-radius: 10px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n}\n@media (min-width: 480px) {\n  .wlc-tournament-smart-info--theme-default:host .wlc-tournament-smart-info__content {\n    flex-wrap: nowrap;\n  }\n}\n@media (min-width: 480px) {\n  .wlc-tournament-smart-info--theme-default:host .wlc-tournament-smart-info__content {\n    min-width: 350px;\n  }\n}\n.wlc-tournament-smart-info--theme-default:host .wlc-tournament-smart-info__prize-block {\n  min-width: 200px;\n  display: flex;\n  align-items: center;\n}\n@media (min-width: 480px) {\n  .wlc-tournament-smart-info--theme-default:host .wlc-tournament-smart-info__prize-block {\n    min-width: auto;\n  }\n}\n.wlc-tournament-smart-info--theme-default:host .wlc-tournament-smart-info__prize-block--icon {\n  margin: -5px 10px 0 0;\n  color: var(--mc-main);\n}\n.wlc-tournament-smart-info--theme-default:host .wlc-tournament-smart-info__prize-block__text {\n  line-height: 0;\n}\n.wlc-tournament-smart-info--theme-default:host .wlc-tournament-smart-info__prize-block__text--subtitle {\n  color: var(--mc-baseMain);\n  font-style: normal;\n  font-weight: normal;\n  font-size: 1.4rem;\n  line-height: 1.45;\n}\n.wlc-tournament-smart-info--theme-default:host .wlc-tournament-smart-info__prize-block__text--value {\n  color: var(--mc-baseMain);\n  font-style: normal;\n  font-weight: bold;\n  font-size: 1.4rem;\n  line-height: 1.45;\n}\n.wlc-tournament-smart-info--theme-default:host .wlc-tournament-smart-info__delimiter {\n  background: var(--mc-baseOpacity);\n  width: 100%;\n  height: 2px;\n  margin: 10px 0;\n  align-self: stretch;\n}\n@media (min-width: 480px) {\n  .wlc-tournament-smart-info--theme-default:host .wlc-tournament-smart-info__delimiter {\n    width: 2px;\n  }\n}\n@media (min-width: 480px) {\n  .wlc-tournament-smart-info--theme-default:host .wlc-tournament-smart-info__delimiter {\n    height: auto;\n    height: initial;\n  }\n}\n@media (min-width: 480px) {\n  .wlc-tournament-smart-info--theme-default:host .wlc-tournament-smart-info__delimiter {\n    margin: 0 10px;\n  }\n}\n.wlc-tournament-smart-info--theme-default:host .wlc-tournament-smart-info__timer-block ::ng-deep .wlc-timer__content {\n  padding: 0;\n  background: transparent;\n  border-radius: 0;\n  min-width: 200px;\n}\n@media (min-width: 480px) {\n  .wlc-tournament-smart-info--theme-default:host .wlc-tournament-smart-info__timer-block ::ng-deep .wlc-timer__content {\n    min-width: 185px;\n  }\n}\n.wlc-tournament-smart-info--theme-default:host .wlc-tournament-smart-info__timer-block ::ng-deep .wlc-timer__timer-text {\n  line-height: 0;\n}\n.wlc-tournament-smart-info--theme-default:host .wlc-tournament-smart-info__timer-block ::ng-deep .wlc-timer__timer-text--countdown {\n  color: var(--mc-baseMain);\n  font-style: normal;\n  font-weight: bold;\n  font-size: 1.4rem;\n  line-height: 1.45;\n}\n.wlc-tournament-smart-info--theme-default:host .wlc-tournament-smart-info__timer-block ::ng-deep .wlc-timer__timer-text .secondary-text {\n  color: var(--mc-baseMain);\n  font-style: normal;\n  font-weight: normal;\n  font-size: 1.4rem;\n  line-height: 1.45;\n}"]})],fn);var _n=e(60510);const vn={defaultImages:{image:"/gstatic/wlc/tournaments/tournament-decor.png",imagePromo:"/gstatic/wlc/tournaments/tournament-decor.png",imageDashboard:"/gstatic/wlc/tournaments/tournament-decor.png",imageDescription:"",imageOther:""},components:{"wlc-tournament-list":{noContent:{banner:{title:gettext("Tournaments are coming soon."),text:gettext("In the meantime, show off your real skills in our casino!"),bgImage:"/gstatic/wlc/tournaments/no-tournaments/no-tournament-block-background.jpg",decorImage:"/gstatic/wlc/tournaments/no-tournaments/no-tournament-block-decor.png"}}}}};var xn=e(92057);const yn=h.Bh.mergeConfig(vn,(0,z.Z)(xn,"$tournaments",{})),$n={"wlc-tournament-list":nn,"wlc-tournament-leaderboard":H,"wlc-tournament":F,"wlc-tournaments-history":gn};let Tn=class{};Tn=(0,a.__decorate)([(0,o.LVF)({declarations:[gn,L,nn,F,H,en,ln,j,cn,fn,Q],imports:[r.ez,s.CoreModule,J.PromoModule,i.aw,V.MenuModule,_n.JA],providers:[B],exports:[nn,F,H,gn]})],Tn)}}]);