(self.webpackChunkwlc_site=self.webpackChunkwlc_site||[]).push([[257],{76324:function(e,t,a){"use strict";a.d(t,{LV:function(){return n},Tb:function(){return i},li:function(){return s}});const n={OPENED:"opened@GameDashboard",CLOSED:"closed@GameDashboard",CHANED_TAB:"changedTab@GameDashboard"},i={moduleName:"games",componentName:"game-dashboard",class:"wlc-game-dashboard",common:{desktopSide:"right",tournamentsListParams:{type:"swiper",theme:"dashboard",common:{restType:"any",thumbType:"dashboard",swiper:{navigation:{nextEl:".wlc-swiper-button-next",prevEl:".wlc-swiper-button-prev"},slidesPerView:1,spaceBetween:40}}}}},s=[{id:"profile",iconPath:"/wlc/game-dashboard/profile.svg",label:gettext("Profile"),auth:!0,hideLabel:!0},{id:"bonuses",iconPath:"/wlc/game-dashboard/bonuses.svg",label:gettext("My Bonuses"),updateOnOpen:!0},{id:"tournaments",iconPath:"/wlc/game-dashboard/tournaments.svg",hideLabel:!0,updateOnOpen:!0},{id:"lastplayed",iconPath:"/wlc/game-dashboard/last-played.svg",label:gettext("Last played"),auth:!0,updateOnOpen:!0}]},44683:function(e,t,a){"use strict";a.d(t,{P:function(){return v}});var n=a(64762),i=a(88720),s=a(46782),r=a(67444),o=a(41589),m=a(86892),l=a(96290),c=a(73419),h=a(28859),g=a(26194),u=a(31438),d=a(25530),p=a(56298),_=a(52182),b=a(82560),w=a(74663);let v=class extends h.k{constructor(e,t,a,n,i,s,r){super({injectParams:e,defaultParams:d.T},n),this.injectParams=e,this.actionService=t,this.cdr=a,this.configService=n,this.eventService=i,this.gamesCatalogService=s,this.modalService=r,this.dumpy=!1,this.gameThumbSettings={demoThemeMode:"secondary"},this.inited=!1,this.initFailed=!1}get hasPragmaticDGA(){var e;return 913===(null===(e=this.game)||void 0===e?void 0:e.merchantID)&&!!this.pragmaticDGA}ngOnInit(){super.ngOnInit(this.inlineParams),this.dumpy?this.inited=!0:this.init()}init(){var e,t,a,i,s,r,o,m,h;return(0,n.__awaiter)(this,void 0,void 0,function*(){yield this.gamesCatalogService.ready;const n=null===(e=this.$params.common)||void 0===e?void 0:e.gameId;if((null===(t=this.$params.common)||void 0===t?void 0:t.game)?this.game=this.$params.common.game:n&&((0,w.Z)(n)?n.some(e=>(this.game=this.gamesCatalogService.getGameById(e),!!this.game)):this.game=this.gamesCatalogService.getGameById(n)),913===(null===(a=this.game)||void 0===a?void 0:a.merchantID)&&(this.gamesCatalogService.subscribePragmaticLive(this.game,this.$destroy,e=>{e&&(this.pragmaticDGA=e,this.cdr.detectChanges())}),this.eventService.subscribe([{name:"LOGIN"},{name:"LOGOUT"}],()=>{this.pragmaticDGA&&setTimeout(()=>{this.cdr.detectChanges()})},this.$destroy)),"promo-widget"===this.$params.type){(null===(s=null===(i=this.$params.common)||void 0===i?void 0:i.promoWidget)||void 0===s?void 0:s.title)&&(this.promoWidgetTitle=this.$params.common.promoWidget.title);try{if(null===(o=null===(r=this.$params.common)||void 0===r?void 0:r.promoWidget)||void 0===o?void 0:o.gameCategory){const e=yield this.gamesCatalogService.getGamesByCategorySlug(this.$params.common.promoWidget.gameCategory);e.length&&(this.game=e[0])}!this.promoWidgetTitle&&this.game&&(this.promoWidgetTitle=this.game.name[this.configService.get("currentLanguage")||"en"]||this.game.name.en)}catch(u){this.initFailed=!0}}if(!this.game)return this.initFailed=!0,void(this.inited=!0);"vertical"===this.$params.type&&(this.idVerticalVideos=yield this.gamesCatalogService.getIdVerticalVideos(),this.mediaFormatTypes=this.configService.get("$games.mediaFormatTypes")),this.wlcElement=`block_game-thumb-id-${this.game.ID}`,this.noDemoClass=!!this.game.hasDemo;const g=this.configService.get("$modules.games.components.wlc-game-thumb.buttons");g&&(0,p.Z)(this.gameThumbSettings,g),(null===(h=null===(m=this.$params.common)||void 0===m?void 0:m.merchantIcon)||void 0===h?void 0:h.use)&&(this.merchantIconPath=l.U.getIconPath(this.game.getMerchantName(),"merchants",this.$params.common.merchantIcon.showAs||"img",l.U.getColorThemeBgType(this.$params.common.merchantIcon.colorIconBg||"dark",this.configService.get(c.l.configName)===c.l.altThemeName)),this.addModifiers("merchant-icon"),this.configService.get("$base.colorThemeSwitching.use")&&this.eventService.subscribe({name:c.l.changeEvent},e=>{this.merchantIconPath=l.U.getIconPath(this.game.getMerchantName(),"merchants",this.$params.common.merchantIcon.showAs||"img",l.U.getColorThemeBgType(this.$params.common.merchantIcon.colorIconBg||"dark",e)),this.cdr.markForCheck()},this.$destroy)),this.addModifiers(`${this.game.merchantAlias.toLowerCase()}`),this.isAuth=this.configService.get("$user.isAuthenticated"),this.initEventHandlers(),this.inited=!0,this.cdr.detectChanges()})}ngAfterViewInit(){this.video&&(this.video.nativeElement.muted=!0,this.video.nativeElement.play())}startGame(e,t,a){a.stopPropagation(),this.gamesCatalogService.launchGame(this.game,{demo:e,modal:{show:t}})}toggleFavourites(e){return(0,n.__awaiter)(this,void 0,void 0,function*(){try{e.isFavourite=yield this.gamesCatalogService.toggleFavourites(e.ID),this.cdr.detectChanges()}catch(t){}})}get hasVideo(){return this.idVerticalVideos.includes(this.game.ID)}getVerticalContent(e,t){var a;const n=null===(a=this.game.name)||void 0===a?void 0:a.en;if(!n)return;const i=this.configService.get("$games.verticalImagesPath")+n.toLowerCase().replace(/[&\/:\\|]/g,"").replace(/\s/g,"-");return(0,w.Z)(t)?(0,_.Z)(t,t=>({src:`${i}/${e}.${t}`,type:(0,b.Z)(this.mediaFormatTypes,t)})):`${i}/${e}.${t}`}merchantIconErrorHolder(){this.merchantIconPath="",this.removeModifiers("merchant-icon")}initEventHandlers(){this.actionService.deviceType().pipe((0,s.R)(this.$destroy)).subscribe(e=>{this.deviceType=e,this.cdr.markForCheck()}),this.eventService.subscribe({name:"LOGOUT"},()=>{this.isAuth=!1,this.cdr.markForCheck()}),this.eventService.subscribe({name:"LOGIN"},()=>{this.isAuth=!0,this.cdr.markForCheck()}),this.gamesCatalogService.favoritesUpdated.pipe((0,s.R)(this.$destroy)).subscribe(()=>{this.game=this.gamesCatalogService.getGame(this.game.merchantID,this.game.launchCode),this.cdr.detectChanges()})}};v.ctorParameters=()=>[{type:void 0,decorators:[{type:i.tBr,args:["injectParams"]}]},{type:g.c},{type:i.sBO},{type:o.E4},{type:r.P},{type:u.N},{type:m.Z}],v.propDecorators={game:[{type:i.IIB}],dumpy:[{type:i.IIB}],inlineParams:[{type:i.IIB}],wlcElement:[{type:i.pfw,args:["attr.data-wlc-element"]}],noDemoClass:[{type:i.pfw,args:["class.no-demo"]}],video:[{type:i.i9L,args:["video"]}]},v=(0,n.__decorate)([(0,i.wA2)({selector:"[wlc-game-thumb]",template:'<ng-container *ngIf="inited && !dumpy; else preloader">\n    <ng-container [ngSwitch]="$params.type">\n        <ng-container [ngTemplateOutlet]="typeVertical" *ngSwitchCase="\'vertical\'"></ng-container>\n        <ng-container [ngTemplateOutlet]="typeModal" *ngSwitchCase="\'modal\'"></ng-container>\n        <ng-container [ngTemplateOutlet]="typePromoWidget" *ngSwitchCase="\'promo-widget\'"></ng-container>\n        <ng-container [ngTemplateOutlet]="typeDefault" *ngSwitchDefault></ng-container>\n    </ng-container>\n</ng-container>\n\n<ng-template #typePromoWidget>\n    <div *ngIf="!initFailed" class="{{$class}}__content">\n        <picture class="{{$class}}__img"\n                 data-wlc-element="block_game-thumb-img">\n            <source [srcset]="game.getImage(640, \'webp\')" type="image/webp">\n            <img [wlc-fallback]="game.getImage(640)" [src]="game.getImage(640)" loading="lazy">\n        </picture>\n        <div *ngIf="promoWidgetTitle" class="{{$class}}__title">\n            {{promoWidgetTitle | translate}}\n        </div>\n        <div class="{{$class}}__buttons">\n            <button wlc-button\n                    class="wlc-btn wlc-btn--play"\n                    wlcElement="button_game-play"\n                    [icon]="\'wlc-game-play\'"\n                    [text]="\'Play\'"\n                    (click)="startGame(false, false, $event)"\n            ></button>\n            <button\n                    *ngIf="game.hasDemo"\n                    wlc-button\n                    wlcElement="button_game-demo"\n                    [text]="\'Demo\'"\n                    (click)="startGame(true, false, $event)"\n                    class="wlc-btn wlc-btn--demo wlc-btn--theme-mod-secondary"\n            ></button>\n        </div>\n    </div>\n    <div *ngIf="initFailed" class="{{$class}}__error">\n        {{\'Game load error\' | translate}}\n    </div>\n</ng-template>\n\n<ng-template #typeModal>\n    <picture class="{{$class}}__img"\n             data-wlc-element="block_game-thumb-img">\n        <source [srcset]="game.getImage(315, \'webp\')" type="image/webp">\n        <img [wlc-fallback]="game.getImage(315)" [src]="game.getImage(315)" loading="lazy">\n    </picture>\n    <ng-container [ngTemplateOutlet]="buttonFavourite"></ng-container>\n</ng-template>\n\n<ng-template #typeVertical>\n    <div class="{{$class}}-media"\n         (click)="startGame(false, true, $event)"\n    >\n        <ng-container *ngIf="!hasVideo; else videoTemplate">\n            <picture class="{{$class}}-media__bg"\n                     data-wlc-element="block_game-thumb-media">\n\n                <ng-container *ngFor="let image of $any(getVerticalContent(\'background\', [\'webp\']))">\n                    <source [srcset]="image.src" [type]="image.type">\n                </ng-container>\n\n                <img wlc-fallback [src]="getVerticalContent(\'background\', \'jpg\')" loading="lazy">\n            </picture>\n\n            <picture class="{{$class}}-media__fg"\n                     data-wlc-element="block_game-thumb-media">\n\n                <ng-container *ngFor="let image of $any(getVerticalContent(\'foreground\', [\'webp\']))">\n                    <source [srcset]="image.src" [type]="image.type">\n                </ng-container>\n\n                <img wlc-fallback [src]="getVerticalContent(\'foreground\', \'png\')" loading="lazy">\n            </picture>\n\n            <picture class="{{$class}}-media__logo"\n                     data-wlc-element="block_game-thumb-media">\n\n                <ng-container *ngFor="let image of $any(getVerticalContent(\'logo\', [\'webp\']))">\n                    <source [srcset]="image.src" [type]="image.type">\n                </ng-container>\n\n                <img wlc-fallback [src]="getVerticalContent(\'logo\', \'png\')" loading="lazy">\n            </picture>\n        </ng-container>\n\n        <ng-template #videoTemplate>\n            <video autoplay playsinline muted loop class="{{$class}}-media__video" #video>\n\n                <ng-container *ngFor="let video of $any(getVerticalContent(\'video\', [\'av1.mp4\', \'hevc.mp4\', \'h264.mp4\']))">\n                    <source [src]="video.src" [type]="video.type">\n                </ng-container>\n            </video>\n        </ng-template>\n    </div>\n    <div class="{{$class}}__control">\n        <ng-container [ngTemplateOutlet]="buttonsPlayDemo"></ng-container>\n    </div>\n    <ng-container [ngTemplateOutlet]="buttonFavourite"></ng-container>\n</ng-template>\n\n<ng-template #typeDefault>\n    <ng-container [ngTemplateOutlet]="thumbImg"></ng-container>\n    <div class="{{$class}}__desc">\n        <div class="{{$class}}__title">\n            <ng-container [ngTemplateOutlet]="thumbName"></ng-container>\n            <span *ngIf="$params?.common?.useMerchantName"\n                  class="{{$class}}__merchant"\n                  data-wlc-element="block_game-thumb-alias">\n                {{game.merchantAlias}}\n            </span>\n        </div>\n        <ng-container [ngTemplateOutlet]="buttonFavourite"></ng-container>\n        <ng-container [ngTemplateOutlet]="buttonsPlayDemo"></ng-container>\n    </div>\n    <div class="{{$class}}__merchants-block"\n        *ngIf="merchantIconPath">\n        <img class="{{$class}}__merchants-icon"\n            loading="lazy"\n            [src]="merchantIconPath"\n            [wlc-fallback]\n            (imageError)="merchantIconErrorHolder()">\n    </div>\n    <ng-container\n        *ngIf="hasPragmaticDGA"\n        [ngTemplateOutlet]="pragmaticPlayLive">\n    </ng-container>\n</ng-template>\n\n<ng-template #thumbImg>\n    <picture class="{{$class}}__img"\n             data-wlc-element="block_game-thumb-img"\n             (click)="startGame(false, true, $event)">\n        <source [srcset]="game.getImage(315, \'webp\')" type="image/webp">\n        <img [wlc-fallback]="game.getImage(315)" [src]="game.getImage(315)" loading="lazy">\n    </picture>\n</ng-template>\n\n<ng-template #buttonFavourite>\n    <div *ngIf="isAuth"\n          wlc-icon\n          class="{{$class}}__icon"\n          [wlcElement]="\'button_favourite\'"\n          [iconPath]="\'/wlc/icons/favourite.svg\'"\n          [ngClass]="{\'active\': game.isFavourite}"\n          (click)="toggleFavourites(game)">\n    </div>\n</ng-template>\n\n<ng-template #buttonsPlayDemo>\n    <div class="{{$class}}__buttons" [ngClass]="{\'no-demo\': !game.hasDemo}">\n        <button wlc-button\n                class="wlc-btn wlc-btn--play"\n                wlcElement="button_game-play"\n                [icon]="\'wlc-game-play\'"\n                [text]="\'Play\'"\n                [theme]="gameThumbSettings.theme"\n                [themeMod]="gameThumbSettings.themeMode"\n                (click)="startGame(false, false, $event)"\n        ></button>\n        <button *ngIf="game.hasDemo"\n                wlc-button\n                class="wlc-btn wlc-btn--demo"\n                wlcElement="button_game-demo"\n                [text]="\'Demo\'"\n                [theme]="gameThumbSettings.theme"\n                [themeMod]="gameThumbSettings.demoThemeMode"\n                (click)="startGame(true, false, $event)"\n        ></button>\n    </div>\n</ng-template>\n\n<ng-template #thumbName>\n    <span class="{{$class}}__name"\n          data-wlc-element="block_game-thumb-name"\n          title="{{game.name.en}}">\n        {{game.name.en | truncate: 25}}\n    </span>\n</ng-template>\n\n<ng-template #preloader>\n    \x3c!-- TODO: do special preloader --\x3e\n    <div class="{{$class}}__loader">\n        <div wlc-loader></div>\n    </div>\n</ng-template>\n\n<ng-template #pragmaticPlayLive>\n    <div class="{{$class}}__ppl-limits">\n        <span wlc-currency\n              [value]="pragmaticDGA.minBet"\n              [currency]="pragmaticDGA.currency">\n        </span> -\n        <span wlc-currency\n              [value]="pragmaticDGA.maxBet"\n              [currency]="pragmaticDGA.currency">\n        </span>\n    </div>\n\n    <div class="{{$class}}__ppl"\n         (click)="startGame(false, true, $event)">\n\n        <div *ngIf="pragmaticDGA.lastResult?.length"\n             class="{{$class}}__ppl-results" >\n            <div *ngFor="let item of pragmaticDGA.lastResult"\n                 class="{{$class}}__ppl-results-item {{$class}}__ppl-results-item--{{item.type}}">\n                {{item.value}}\n            </div>\n        </div>\n\n        <div class="{{$class}}__ppl-info"\n             [ngClass]="[pragmaticDGA.freePlaces ? \'\' : $class + \'__ppl-info--no-available-place\']">\n\n            <div *ngIf="pragmaticDGA.freePlaces"\n                 class="{{$class}}__ppl-info-item">\n                <div wlc-icon\n                    [iconPath]="\'/wlc/icons/pragmaticplaylive/places.svg\'"\n                ></div>\n                <div class="{{$class}}__ppl-info-text">\n                    {{pragmaticDGA.freeFromPlaces}}\n                </div>\n            </div>\n\n            <div class="{{$class}}__ppl-info-item">\n                <div wlc-icon\n                    [iconPath]="\'/wlc/icons/pragmaticplaylive/dealer.svg\'"\n                ></div>\n                <div class="{{$class}}__ppl-info-text">\n                    {{pragmaticDGA.dealer}}\n                </div>\n            </div>\n        </div>\n    </div>\n</ng-template>\n',styles:['/*\n    set \'use\': true, if you will be use custom animation\n    set \'themeMod***\': true, to use this animation for a particular themeMod\n*/\n/*\n    set \'use\': true, if you will be use custom animation\n    set \'themeMod***\': true, to use this animation for a particular themeMod\n*/\n.wlc-game-thumb--theme-default:host {\n  cursor: pointer;\n  position: relative;\n  overflow: hidden;\n  border-radius: 10px;\n  background-position: center;\n  background-color: var(--mc-bg-d10);\n  background-image: url("/static/images/logo.svg");\n  background-size: 50%;\n  background-repeat: no-repeat;\n}\n@media (min-width: 1024px) {\n  .wlc-game-thumb--theme-default:host {\n    cursor: unset;\n  }\n}\n@supports (aspect-ratio: 1/1) {\n  .wlc-game-thumb--theme-default:host {\n    aspect-ratio: 4/3;\n  }\n}\n@supports not (aspect-ratio: 1/1) {\n  .wlc-game-thumb--theme-default:host {\n    padding: 75% 0 0;\n    height: 0;\n  }\n}\n.wlc-body--browser-safari .wlc-game-thumb--theme-default:host {\n  -webkit-mask-image: -webkit-radial-gradient(white, black);\n  /* stylelint-disable-line */\n}\n.wlc-game-thumb--theme-default:host .wlc-game-thumb__img, .wlc-game-thumb--theme-default:host .wlc-game-thumb__desc, .wlc-game-thumb--theme-default:host .wlc-game-thumb__desc:before {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n}\n.wlc-game-thumb--theme-default:host .wlc-game-thumb__img {\n  border-radius: inherit;\n  overflow: hidden;\n}\n.wlc-game-thumb--theme-default:host .wlc-game-thumb__img img {\n  display: block;\n  width: 100%;\n  height: 100%;\n  -o-object-fit: cover;\n     object-fit: cover;\n  -o-object-position: center;\n     object-position: center;\n}\n.wlc-game-thumb--theme-default:host .wlc-game-thumb__desc {\n  display: none;\n  transition: opacity 0.3s linear;\n  grid-template-rows: 1fr auto;\n  padding: 10px;\n  opacity: 0;\n}\n@media (min-width: 1024px) {\n  .wlc-game-thumb--theme-default:host .wlc-game-thumb__desc {\n    display: grid;\n  }\n}\n.wlc-game-thumb--theme-default:host .wlc-game-thumb__desc:before {\n  transition: all 0.25s linear;\n  content: "";\n  z-index: 1;\n  background: var(--mc-bg-o8);\n  transform: translateX(-100%) skewX(35deg);\n  pointer-events: none;\n}\n@media (pointer: coarse) {\n  .wlc-game-thumb--theme-default:host .wlc-game-thumb__desc {\n    display: none;\n  }\n}\n.wlc-game-thumb--theme-default:host .wlc-game-thumb__title {\n  position: relative;\n  z-index: 3;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n}\n.wlc-game-thumb--theme-default:host .wlc-game-thumb__name {\n  color: var(--mc-baseMain);\n  font-style: normal;\n  font-weight: bold;\n  font-size: 1.4rem;\n  line-height: 1.45;\n  display: flex;\n}\n@media (min-width: 1630px) {\n  .wlc-game-thumb--theme-default:host .wlc-game-thumb__name {\n    color: var(--mc-baseMain);\n    font-style: normal;\n    font-weight: bold;\n    font-size: 1.6rem;\n    line-height: 1.45;\n  }\n}\n.wlc-game-thumb--theme-default:host .wlc-game-thumb__merchant {\n  color: var(--mc-baseMain);\n  font-style: normal;\n  font-weight: normal;\n  font-size: 1.4rem;\n  line-height: 1.45;\n}\n@media (min-width: 1630px) {\n  .wlc-game-thumb--theme-default:host .wlc-game-thumb__merchant {\n    color: var(--mc-baseMain);\n    font-style: normal;\n    font-weight: normal;\n    font-size: 1.6rem;\n    line-height: 1.45;\n  }\n}\n.wlc-game-thumb--theme-default:host .wlc-game-thumb__merchants-block {\n  width: 60px;\n  height: 35px;\n  position: absolute;\n  top: 0;\n  right: 0;\n  z-index: 10;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 5px;\n  background: var(--mc-bg-o8);\n  border-radius: 0 10px;\n  pointer-events: none;\n}\n@media (min-width: 900px) {\n  .wlc-game-thumb--theme-default:host .wlc-game-thumb__merchants-block {\n    width: 85px;\n  }\n}\n@media (min-width: 900px) {\n  .wlc-game-thumb--theme-default:host .wlc-game-thumb__merchants-block {\n    height: 45px;\n  }\n}\n.wlc-game-thumb--theme-default:host .wlc-game-thumb__merchants-icon {\n  max-width: 50px;\n  max-height: 25px;\n}\n@media (min-width: 900px) {\n  .wlc-game-thumb--theme-default:host .wlc-game-thumb__merchants-icon {\n    max-width: 75px;\n  }\n}\n@media (min-width: 900px) {\n  .wlc-game-thumb--theme-default:host .wlc-game-thumb__merchants-icon {\n    max-height: 35px;\n  }\n}\n.wlc-game-thumb--theme-default:host .wlc-game-thumb__buttons {\n  display: none;\n  grid-gap: 10px;\n  gap: 10px;\n  justify-content: center;\n  grid-template-columns: minmax(0, 1fr) minmax(0, 1fr);\n  z-index: 3;\n}\n@media (min-width: 1024px) {\n  .wlc-game-thumb--theme-default:host .wlc-game-thumb__buttons {\n    display: grid;\n  }\n}\n.wlc-game-thumb--theme-default:host .wlc-game-thumb__buttons .wlc-btn {\n  min-width: auto;\n}\n.wlc-game-thumb--theme-default:host .wlc-game-thumb__buttons.no-demo {\n  grid-template-columns: 50%;\n}\n.wlc-game-thumb--theme-default:host .wlc-game-thumb__buttons ::ng-deep .wlc-icon {\n  display: none;\n}\n.wlc-game-thumb--theme-default:host .wlc-game-thumb__ppl {\n  transition: all 0.3s linear;\n  position: absolute;\n  bottom: 0;\n  z-index: 1;\n  width: 100%;\n  background: var(--mc-bg-o8);\n}\n.wlc-game-thumb--theme-default:host .wlc-game-thumb__ppl-limits {\n  transition: all 0.3s linear;\n  color: var(--mc-baseMain);\n  font-style: normal;\n  font-weight: normal;\n  font-size: 1.2rem;\n  line-height: 1.45;\n  position: absolute;\n  top: 5px;\n  left: 5px;\n  z-index: 10;\n  padding: 5px 10px;\n  background: var(--mc-bg-o8);\n  border-radius: 4px;\n}\n.wlc-game-thumb--theme-default:host .wlc-game-thumb__ppl-info {\n  color: var(--mc-baseMain);\n  font-style: normal;\n  font-weight: normal;\n  font-size: 1rem;\n  line-height: 1.45;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  min-height: 40px;\n  padding: 5px;\n}\n.wlc-game-thumb--theme-default:host .wlc-game-thumb__ppl-info--no-available-place {\n  justify-content: flex-end;\n}\n.wlc-game-thumb--theme-default:host .wlc-game-thumb__ppl-info-item {\n  min-width: 40px;\n  display: flex;\n  align-items: center;\n}\n@media (min-width: 1200px) {\n  .wlc-game-thumb--theme-default:host .wlc-game-thumb__ppl-info-item {\n    min-width: 50px;\n  }\n}\n.wlc-game-thumb--theme-default:host .wlc-game-thumb__ppl-info-item .wlc-icon {\n  margin: 0 5px 0;\n  line-height: 0;\n}\n.wlc-game-thumb--theme-default:host .wlc-game-thumb__ppl-info-item .wlc-icon ::ng-deep svg {\n  width: 15px;\n}\n@media (min-width: 900px) {\n  .wlc-game-thumb--theme-default:host .wlc-game-thumb__ppl-info-item .wlc-icon ::ng-deep svg {\n    width: 20px;\n  }\n}\n.wlc-game-thumb--theme-default:host .wlc-game-thumb__ppl-info-item .wlc-icon ::ng-deep svg path {\n  fill: var(--mc-main);\n}\n.wlc-game-thumb--theme-default:host .wlc-game-thumb__ppl-info-text {\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n}\n@media (min-width: 900px) {\n  .wlc-game-thumb--theme-default:host .wlc-game-thumb__ppl-info {\n    color: var(--mc-baseMain);\n    font-style: normal;\n    font-weight: normal;\n    font-size: 1.4rem;\n    line-height: 1.45;\n  }\n}\n.wlc-game-thumb--theme-default:host .wlc-game-thumb__ppl-results {\n  display: flex;\n}\n.wlc-game-thumb--theme-default:host .wlc-game-thumb__ppl-results-item {\n  color: var(--mc-baseMain);\n  font-style: normal;\n  font-weight: normal;\n  font-size: 1rem;\n  line-height: 1.45;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 20px;\n  height: 20px;\n  border: 1px solid var(--mc-bg100);\n}\n.wlc-game-thumb--theme-default:host .wlc-game-thumb__ppl-results-item:first-child {\n  width: 24px;\n  height: 24px;\n  margin: -2px 0;\n}\n.wlc-game-thumb--theme-default:host .wlc-game-thumb__ppl-results-item--red {\n  background-color: #ea7561;\n}\n.wlc-game-thumb--theme-default:host .wlc-game-thumb__ppl-results-item--green {\n  background-color: #49afab;\n}\n.wlc-game-thumb--theme-default:host .wlc-game-thumb__ppl-results-item--blue {\n  background-color: #679ed0;\n}\n.wlc-game-thumb--theme-default:host.wlc-game-thumb--theme-mod-vertical .wlc-game-thumb__buttons {\n  display: none;\n  grid-gap: 10px;\n  gap: 10px;\n  justify-content: center;\n  grid-template-rows: minmax(0, 1fr) minmax(0, 1fr);\n  grid-template-columns: minmax(0, 110px);\n}\n@media (min-width: 1024px) {\n  .wlc-game-thumb--theme-default:host.wlc-game-thumb--theme-mod-vertical .wlc-game-thumb__buttons {\n    display: grid;\n  }\n}\n.wlc-game-thumb--theme-default:host.wlc-game-thumb--theme-mod-vertical .wlc-game-thumb__buttons.no-demo {\n  grid-template-rows: minmax(0, 1fr);\n}\n.wlc-game-thumb--theme-default:host.wlc-game-thumb--theme-mod-vertical .wlc-game-thumb__title {\n  justify-self: center;\n  max-width: calc(100% - 40px * 2 * 1.2);\n}\n.wlc-game-thumb--theme-default:host.wlc-game-thumb--theme-mod-circle .wlc-game-thumb__desc {\n  background: linear-gradient(360deg, var(--mc-baseContrast) 0%, var(--mc-baseContrast-o0) 47%);\n}\n.wlc-game-thumb--theme-default:host.wlc-game-thumb--theme-mod-circle .wlc-game-thumb__desc:before {\n  opacity: 0;\n}\n@media (min-width: 1024px) {\n  .wlc-game-thumb--theme-default:host.wlc-game-thumb--theme-mod-circle .wlc-game-thumb__desc {\n    opacity: 1;\n  }\n}\n.wlc-game-thumb--theme-default:host.wlc-game-thumb--theme-mod-circle .wlc-game-thumb__title {\n  transition: all 0.3s linear;\n  position: absolute;\n  bottom: 10px;\n  left: 10px;\n  align-items: start;\n  opacity: 1;\n}\n.wlc-game-thumb--theme-default:host.wlc-game-thumb--theme-mod-circle .wlc-game-thumb__buttons {\n  display: none;\n  grid-gap: 10px;\n  gap: 10px;\n  justify-content: center;\n  grid-template-rows: auto 40px;\n  grid-template-columns: 1fr;\n  align-items: end;\n  justify-items: center;\n  transition: all 0.3s linear;\n  opacity: 0;\n}\n@media (min-width: 1024px) {\n  .wlc-game-thumb--theme-default:host.wlc-game-thumb--theme-mod-circle .wlc-game-thumb__buttons {\n    display: grid;\n  }\n}\n.wlc-game-thumb--theme-default:host.wlc-game-thumb--theme-mod-circle .wlc-game-thumb__buttons.no-demo {\n  grid-template-rows: 1fr;\n  align-items: center;\n}\n.wlc-game-thumb--theme-default:host.wlc-game-thumb--theme-mod-circle .wlc-game-thumb__icon {\n  transition: all 0.3s linear;\n  opacity: 0;\n}\n.wlc-game-thumb--theme-default:host.wlc-game-thumb--theme-mod-circle .wlc-btn--play {\n  width: 60px;\n  height: 60px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin: 0 auto;\n  color: transparent;\n  font-size: 0;\n  border: 4px solid var(--mc-baseMain);\n  border-radius: 50%;\n}\n@media (min-width: 900px) {\n  .wlc-game-thumb--theme-default:host.wlc-game-thumb--theme-mod-circle .wlc-btn--play {\n    width: 85px;\n  }\n}\n@media (min-width: 900px) {\n  .wlc-game-thumb--theme-default:host.wlc-game-thumb--theme-mod-circle .wlc-btn--play {\n    height: 85px;\n  }\n}\n.wlc-game-thumb--theme-default:host.wlc-game-thumb--theme-mod-circle .wlc-btn--play ::ng-deep .wlc-icon {\n  display: flex;\n}\n.wlc-game-thumb--theme-default:host.wlc-game-thumb--theme-mod-circle .wlc-btn--demo {\n  color: var(--mc-baseMain);\n  background: none;\n  border: none;\n}\n@media (pointer: fine) {\n  .wlc-game-thumb--theme-default:host.wlc-game-thumb--theme-mod-circle .wlc-btn--demo:hover {\n    text-decoration: underline;\n    box-shadow: none;\n  }\n}\n@media (pointer: fine) {\n  .wlc-game-thumb--theme-default:host.wlc-game-thumb--theme-mod-circle:hover .wlc-game-thumb__desc:before, .wlc-game-thumb--theme-default:host.wlc-game-thumb--theme-mod-circle:hover .wlc-game-thumb__buttons, .wlc-game-thumb--theme-default:host.wlc-game-thumb--theme-mod-circle:hover .wlc-game-thumb__icon {\n    opacity: 1;\n  }\n  .wlc-game-thumb--theme-default:host.wlc-game-thumb--theme-mod-circle:hover .wlc-game-thumb__title {\n    opacity: 0;\n  }\n}\n@media (pointer: fine) {\n  .wlc-game-thumb--theme-default:host.wlc-game-thumb--theme-mod-bottom-buttons {\n    background-position: center 60px;\n  }\n  .wlc-game-thumb--theme-default:host.wlc-game-thumb--theme-mod-bottom-buttons .wlc-game-thumb__img {\n    border-radius: 10px 10px 0 0;\n  }\n  @supports (aspect-ratio: 1/1) {\n    .wlc-game-thumb--theme-default:host.wlc-game-thumb--theme-mod-bottom-buttons .wlc-game-thumb__img {\n      aspect-ratio: 4/3;\n      height: unset;\n    }\n  }\n  @supports not (aspect-ratio: 1/1) {\n    .wlc-game-thumb--theme-default:host.wlc-game-thumb--theme-mod-bottom-buttons .wlc-game-thumb__img {\n      padding: 75% 0 0;\n      height: 0;\n    }\n  }\n  .wlc-game-thumb--theme-default:host.wlc-game-thumb--theme-mod-bottom-buttons .wlc-game-thumb__desc {\n    display: none;\n    position: static;\n    margin-top: 75%;\n    background: var(--mc-bg700);\n    overflow: hidden;\n    opacity: 1;\n    border-radius: 0 0 10px 10px;\n  }\n}\n@media (pointer: fine) and (min-width: 1024px) {\n  .wlc-game-thumb--theme-default:host.wlc-game-thumb--theme-mod-bottom-buttons .wlc-game-thumb__desc {\n    display: grid;\n  }\n}\n@media (pointer: fine) {\n  .wlc-game-thumb--theme-default:host.wlc-game-thumb--theme-mod-bottom-buttons .wlc-game-thumb__desc:before {\n    top: -60px;\n    opacity: 0;\n  }\n}\n@media (pointer: fine) {\n  .wlc-game-thumb--theme-default:host.wlc-game-thumb--theme-mod-bottom-buttons .wlc-game-thumb__icon {\n    transition: all 0.3s linear;\n    opacity: 0;\n  }\n}\n@media (pointer: fine) {\n  .wlc-game-thumb--theme-default:host.wlc-game-thumb--theme-mod-bottom-buttons:hover .wlc-game-thumb__icon {\n    opacity: 1;\n  }\n  .wlc-game-thumb--theme-default:host.wlc-game-thumb--theme-mod-bottom-buttons:hover .wlc-game-thumb__desc:before {\n    opacity: 1;\n  }\n}\n@media (pointer: fine) and (min-width: 1024px) {\n  @supports (aspect-ratio: 1/1) {\n    .wlc-game-thumb--theme-default:host.wlc-game-thumb--theme-mod-bottom-buttons {\n      aspect-ratio: unset;\n    }\n  }\n  @supports not (aspect-ratio: 1/1) {\n    .wlc-game-thumb--theme-default:host.wlc-game-thumb--theme-mod-bottom-buttons {\n      height: unset;\n      padding-top: 0;\n    }\n  }\n}\n@media (pointer: fine) {\n  .wlc-game-thumb--theme-default:host.wlc-game-thumb--theme-mod-bottom-buttons .wlc-game-thumb__desc {\n    height: 60px;\n  }\n  .wlc-game-thumb--theme-default:host.wlc-game-thumb--theme-mod-bottom-buttons .wlc-game-thumb__title {\n    transition: all 0.3s linear;\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    margin: 0 auto;\n    transform: translate(-50%, -50%);\n    width: 100%;\n    transform: translate(-50%, -40px);\n    opacity: 0;\n  }\n}\n@media (pointer: fine) {\n  .wlc-game-thumb--theme-default:host.wlc-game-thumb--theme-mod-bottom-buttons:hover .wlc-game-thumb__title {\n    opacity: 1;\n  }\n}\n@media (pointer: fine) {\n  .wlc-game-thumb--theme-default:host.wlc-game-thumb--theme-mod-bottom-all {\n    background-position: center 60px;\n  }\n  .wlc-game-thumb--theme-default:host.wlc-game-thumb--theme-mod-bottom-all .wlc-game-thumb__img {\n    border-radius: 10px 10px 0 0;\n  }\n  @supports (aspect-ratio: 1/1) {\n    .wlc-game-thumb--theme-default:host.wlc-game-thumb--theme-mod-bottom-all .wlc-game-thumb__img {\n      aspect-ratio: 4/3;\n      height: unset;\n    }\n  }\n  @supports not (aspect-ratio: 1/1) {\n    .wlc-game-thumb--theme-default:host.wlc-game-thumb--theme-mod-bottom-all .wlc-game-thumb__img {\n      padding: 75% 0 0;\n      height: 0;\n    }\n  }\n  .wlc-game-thumb--theme-default:host.wlc-game-thumb--theme-mod-bottom-all .wlc-game-thumb__desc {\n    display: none;\n    position: static;\n    margin-top: 75%;\n    background: var(--mc-bg700);\n    overflow: hidden;\n    opacity: 1;\n    border-radius: 0 0 10px 10px;\n  }\n}\n@media (pointer: fine) and (min-width: 1024px) {\n  .wlc-game-thumb--theme-default:host.wlc-game-thumb--theme-mod-bottom-all .wlc-game-thumb__desc {\n    display: grid;\n  }\n}\n@media (pointer: fine) {\n  .wlc-game-thumb--theme-default:host.wlc-game-thumb--theme-mod-bottom-all .wlc-game-thumb__desc:before {\n    top: -60px;\n    opacity: 0;\n  }\n}\n@media (pointer: fine) {\n  .wlc-game-thumb--theme-default:host.wlc-game-thumb--theme-mod-bottom-all .wlc-game-thumb__icon {\n    transition: all 0.3s linear;\n    opacity: 0;\n  }\n}\n@media (pointer: fine) {\n  .wlc-game-thumb--theme-default:host.wlc-game-thumb--theme-mod-bottom-all:hover .wlc-game-thumb__icon {\n    opacity: 1;\n  }\n  .wlc-game-thumb--theme-default:host.wlc-game-thumb--theme-mod-bottom-all:hover .wlc-game-thumb__desc:before {\n    opacity: 1;\n  }\n}\n@media (pointer: fine) and (min-width: 1024px) {\n  @supports (aspect-ratio: 1/1) {\n    .wlc-game-thumb--theme-default:host.wlc-game-thumb--theme-mod-bottom-all {\n      aspect-ratio: unset;\n    }\n  }\n  @supports not (aspect-ratio: 1/1) {\n    .wlc-game-thumb--theme-default:host.wlc-game-thumb--theme-mod-bottom-all {\n      height: unset;\n      padding-top: 0;\n    }\n  }\n}\n@media (pointer: fine) {\n  .wlc-game-thumb--theme-default:host.wlc-game-thumb--theme-mod-bottom-all .wlc-game-thumb__img:before {\n    transition: all 0.3s linear;\n    content: "";\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    background: linear-gradient(180deg, var(--mc-baseContrast-o0) 50%, var(--mc-baseContrast) 100%);\n    opacity: 0;\n  }\n  .wlc-game-thumb--theme-default:host.wlc-game-thumb--theme-mod-bottom-all .wlc-game-thumb__desc {\n    position: relative;\n    grid-template-rows: 40px auto;\n    grid-template-columns: 1fr;\n    grid-gap: 10px;\n    gap: 10px;\n    height: auto;\n  }\n  .wlc-game-thumb--theme-default:host.wlc-game-thumb--theme-mod-bottom-all .wlc-game-thumb__desc:before {\n    display: none;\n  }\n  .wlc-game-thumb--theme-default:host.wlc-game-thumb--theme-mod-bottom-all .wlc-game-thumb__title {\n    align-items: start;\n  }\n  .wlc-game-thumb--theme-default:host.wlc-game-thumb--theme-mod-bottom-all .wlc-game-thumb__icon {\n    right: 10px;\n    left: unset;\n    background-color: var(--mc-bg700-o4);\n    box-shadow: 0 0 10px var(--mc-bg700);\n  }\n  .wlc-game-thumb--theme-default:host.wlc-game-thumb--theme-mod-bottom-all .wlc-game-thumb__icon.active {\n    color: var(--mc-secondary);\n  }\n}\n@media (pointer: fine) {\n  .wlc-game-thumb--theme-default:host.wlc-game-thumb--theme-mod-bottom-all:hover .wlc-game-thumb__img:before {\n    opacity: 1;\n  }\n}\n@media (pointer: fine) {\n  .wlc-game-thumb--theme-default:host.wlc-game-thumb--theme-mod-bottom-title {\n    background-position: center 60px;\n  }\n  .wlc-game-thumb--theme-default:host.wlc-game-thumb--theme-mod-bottom-title .wlc-game-thumb__img {\n    border-radius: 10px 10px 0 0;\n  }\n  @supports (aspect-ratio: 1/1) {\n    .wlc-game-thumb--theme-default:host.wlc-game-thumb--theme-mod-bottom-title .wlc-game-thumb__img {\n      aspect-ratio: 4/3;\n      height: unset;\n    }\n  }\n  @supports not (aspect-ratio: 1/1) {\n    .wlc-game-thumb--theme-default:host.wlc-game-thumb--theme-mod-bottom-title .wlc-game-thumb__img {\n      padding: 75% 0 0;\n      height: 0;\n    }\n  }\n  .wlc-game-thumb--theme-default:host.wlc-game-thumb--theme-mod-bottom-title .wlc-game-thumb__desc {\n    display: none;\n    position: static;\n    margin-top: 75%;\n    background: var(--mc-bg700);\n    overflow: hidden;\n    opacity: 1;\n    border-radius: 0 0 10px 10px;\n  }\n}\n@media (pointer: fine) and (min-width: 1024px) {\n  .wlc-game-thumb--theme-default:host.wlc-game-thumb--theme-mod-bottom-title .wlc-game-thumb__desc {\n    display: grid;\n  }\n}\n@media (pointer: fine) {\n  .wlc-game-thumb--theme-default:host.wlc-game-thumb--theme-mod-bottom-title .wlc-game-thumb__desc:before {\n    top: -60px;\n    opacity: 0;\n  }\n}\n@media (pointer: fine) {\n  .wlc-game-thumb--theme-default:host.wlc-game-thumb--theme-mod-bottom-title .wlc-game-thumb__icon {\n    transition: all 0.3s linear;\n    opacity: 0;\n  }\n}\n@media (pointer: fine) {\n  .wlc-game-thumb--theme-default:host.wlc-game-thumb--theme-mod-bottom-title:hover .wlc-game-thumb__icon {\n    opacity: 1;\n  }\n  .wlc-game-thumb--theme-default:host.wlc-game-thumb--theme-mod-bottom-title:hover .wlc-game-thumb__desc:before {\n    opacity: 1;\n  }\n}\n@media (pointer: fine) and (min-width: 1024px) {\n  @supports (aspect-ratio: 1/1) {\n    .wlc-game-thumb--theme-default:host.wlc-game-thumb--theme-mod-bottom-title {\n      aspect-ratio: unset;\n    }\n  }\n  @supports not (aspect-ratio: 1/1) {\n    .wlc-game-thumb--theme-default:host.wlc-game-thumb--theme-mod-bottom-title {\n      height: unset;\n      padding-top: 0;\n    }\n  }\n}\n@media (pointer: fine) {\n  .wlc-game-thumb--theme-default:host.wlc-game-thumb--theme-mod-bottom-title .wlc-game-thumb__desc {\n    height: 60px;\n  }\n  .wlc-game-thumb--theme-default:host.wlc-game-thumb--theme-mod-bottom-title .wlc-game-thumb__buttons {\n    display: none;\n    grid-gap: 10px;\n    gap: 10px;\n    justify-content: center;\n    grid-template-rows: minmax(0, 1fr) minmax(0, 1fr);\n    grid-template-columns: minmax(0, 110px);\n    transition: all 0.3s linear;\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    margin: 0 auto;\n    transform: translate(-50%, -50%);\n    transform: translate(-50%, -75px);\n    opacity: 0;\n  }\n}\n@media (pointer: fine) and (min-width: 1024px) {\n  .wlc-game-thumb--theme-default:host.wlc-game-thumb--theme-mod-bottom-title .wlc-game-thumb__buttons {\n    display: grid;\n  }\n}\n@media (pointer: fine) {\n  .wlc-game-thumb--theme-default:host.wlc-game-thumb--theme-mod-bottom-title .wlc-game-thumb__buttons.no-demo {\n    grid-template-rows: minmax(0, 1fr);\n  }\n}\n@media (pointer: fine) {\n  .wlc-game-thumb--theme-default:host.wlc-game-thumb--theme-mod-bottom-title .wlc-game-thumb__buttons.no-demo {\n    transform: translate(-50%, -50px);\n  }\n}\n@media (pointer: fine) {\n  .wlc-game-thumb--theme-default:host.wlc-game-thumb--theme-mod-bottom-title:hover .wlc-game-thumb__buttons {\n    opacity: 1;\n  }\n}\n.wlc-game-thumb--theme-default:host.wlc-game-thumb--type-modal .wlc-game-thumb__icon {\n  top: 10px;\n  left: 10px;\n}\n@media (pointer: fine) {\n  .wlc-game-thumb--theme-default:host:hover .wlc-game-thumb__desc {\n    opacity: 1;\n  }\n  .wlc-game-thumb--theme-default:host:hover .wlc-game-thumb__desc:before {\n    transform: translateX(0) skewX(0);\n  }\n  .wlc-game-thumb--theme-default:host:hover .wlc-game-thumb__ppl,\n.wlc-game-thumb--theme-default:host:hover .wlc-game-thumb__ppl-limits {\n    transform: translateX(100%) skewX(35deg);\n    opacity: 0;\n    pointer-events: none;\n  }\n}\n.wlc-game-thumb--theme-promo-widget:host {\n  position: relative;\n  height: 100%;\n}\n.wlc-game-thumb--theme-promo-widget:host ::ng-deep .wlc-loader {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  margin: 0 auto;\n  transform: translate(-50%, -50%);\n}\n.wlc-game-thumb--theme-promo-widget:host .wlc-game-thumb__error {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n  background: var(--mc-bg700);\n}\n.wlc-game-thumb--theme-promo-widget:host .wlc-game-thumb__content {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  border-radius: 10px;\n}\n.wlc-game-thumb--theme-promo-widget:host .wlc-game-thumb__content:before {\n  content: "";\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  background: linear-gradient(180deg, var(--mc-baseContrast) 0, var(--mc-baseContrast-o0) 40%), linear-gradient(0deg, var(--mc-baseContrast) 0%, var(--mc-baseContrast-o0) 30%);\n}\n.wlc-game-thumb--theme-promo-widget:host .wlc-game-thumb__img {\n  width: 100%;\n  height: 100%;\n}\n.wlc-game-thumb--theme-promo-widget:host .wlc-game-thumb__img img {\n  display: block;\n  width: 100%;\n  height: 100%;\n  -o-object-fit: cover;\n     object-fit: cover;\n  -o-object-position: center;\n     object-position: center;\n}\n.wlc-game-thumb--theme-promo-widget:host .wlc-game-thumb__title {\n  color: var(--mc-baseMain);\n  font-style: normal;\n  font-weight: bold;\n  font-size: 1.6rem;\n  line-height: 1.45;\n  position: absolute;\n  top: 0;\n  padding: 20px 0;\n  text-align: center;\n}\n.wlc-game-thumb--theme-promo-widget:host .wlc-game-thumb__buttons {\n  display: none;\n  grid-gap: 10px;\n  gap: 10px;\n  justify-content: center;\n  grid-template-columns: minmax(0, 1fr) minmax(0, 1fr);\n  position: absolute;\n  bottom: 40px;\n  display: grid;\n}\n@media (min-width: 1024px) {\n  .wlc-game-thumb--theme-promo-widget:host .wlc-game-thumb__buttons {\n    display: grid;\n  }\n}\n.wlc-game-thumb--theme-promo-widget:host .wlc-game-thumb__buttons .wlc-btn {\n  min-width: auto;\n}\n.wlc-game-thumb--theme-promo-widget:host .wlc-game-thumb__buttons.no-demo {\n  grid-template-columns: 50%;\n}\n.wlc-game-thumb--theme-promo-widget:host .wlc-game-thumb__buttons .wlc-btn {\n  min-width: 110px;\n}\n.wlc-game-thumb--theme-vertical:host {\n  position: relative;\n  overflow: hidden;\n  border-radius: 10px;\n}\n.wlc-body--browser-safari .wlc-game-thumb--theme-vertical:host {\n  -webkit-mask-image: -webkit-radial-gradient(white, black);\n  /* stylelint-disable-line */\n}\n.wlc-game-thumb--theme-vertical:host .wlc-game-thumb__icon {\n  transition: all 0.3s linear;\n  opacity: 0;\n}\n.wlc-game-thumb--theme-vertical:host .wlc-game-thumb__control {\n  transition: all 0.3s linear;\n  position: absolute;\n  top: 0;\n  left: 0;\n  display: flex;\n  align-items: flex-end;\n  justify-content: center;\n  width: 100%;\n  height: 100%;\n  padding: 0 0 35px 0;\n  background: linear-gradient(0deg, #995300 0%, rgba(255, 138, 0, 0) 100%);\n  transform: translateY(10%);\n  opacity: 0;\n  pointer-events: none;\n}\n.wlc-game-thumb--theme-vertical:host .wlc-game-thumb__control .wlc-game-thumb__buttons {\n  display: none;\n  grid-gap: 10px;\n  gap: 10px;\n  justify-content: center;\n  grid-template-rows: minmax(0, 1fr) minmax(0, 1fr);\n  grid-template-columns: minmax(0, 110px);\n  display: grid;\n}\n@media (min-width: 1024px) {\n  .wlc-game-thumb--theme-vertical:host .wlc-game-thumb__control .wlc-game-thumb__buttons {\n    display: grid;\n  }\n}\n.wlc-game-thumb--theme-vertical:host .wlc-game-thumb__control .wlc-game-thumb__buttons.no-demo {\n  grid-template-rows: minmax(0, 1fr);\n}\n@supports not (aspect-ratio: 1/1) {\n  .wlc-game-thumb--theme-vertical:host .wlc-game-thumb-media:before {\n    padding: 162.5% 0 0;\n    content: "";\n    display: block;\n    width: 100%;\n    height: 0;\n  }\n}\n.wlc-game-thumb--theme-vertical:host .wlc-game-thumb-media__bg, .wlc-game-thumb--theme-vertical:host .wlc-game-thumb-media__video {\n  position: relative;\n  display: block;\n  width: 100%;\n  background-position: center;\n  background-color: var(--mc-bg-d10);\n  background-image: url("/static/images/logo.svg");\n  background-repeat: no-repeat;\n  background-size: 50%;\n}\n@supports (aspect-ratio: 1/1) {\n  .wlc-game-thumb--theme-vertical:host .wlc-game-thumb-media__bg, .wlc-game-thumb--theme-vertical:host .wlc-game-thumb-media__video {\n    aspect-ratio: 10/16;\n  }\n}\n@supports not (aspect-ratio: 1/1) {\n  .wlc-game-thumb--theme-vertical:host .wlc-game-thumb-media__bg, .wlc-game-thumb--theme-vertical:host .wlc-game-thumb-media__video {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n  }\n}\n.wlc-game-thumb--theme-vertical:host .wlc-game-thumb-media__video {\n  transition: transform 0.3s linear;\n  -o-object-fit: cover;\n     object-fit: cover;\n  -o-object-position: center;\n     object-position: center;\n}\n.wlc-game-thumb--theme-vertical:host .wlc-game-thumb-media__bg {\n  transition: transform 0.3s linear;\n  transform: scale(1.1);\n}\n.wlc-game-thumb--theme-vertical:host .wlc-game-thumb-media__bg img {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  -o-object-fit: cover;\n     object-fit: cover;\n  -o-object-position: center;\n     object-position: center;\n}\n.wlc-game-thumb--theme-vertical:host .wlc-game-thumb-media__fg {\n  transition: transform 0.3s linear;\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  height: auto;\n  transform-origin: bottom center;\n  pointer-events: none;\n}\n.wlc-game-thumb--theme-vertical:host .wlc-game-thumb-media__fg img {\n  width: 100%;\n}\n.wlc-game-thumb--theme-vertical:host .wlc-game-thumb-media__logo {\n  transition: transform 0.3s linear;\n  position: absolute;\n  top: 40px;\n  left: 0;\n  width: 100%;\n  pointer-events: none;\n}\n.wlc-game-thumb--theme-vertical:host .wlc-game-thumb-media__logo img {\n  width: 100%;\n}\n@media (pointer: fine) {\n  .wlc-game-thumb--theme-vertical:host:hover .wlc-game-thumb-media {\n    pointer-events: none;\n  }\n  .wlc-game-thumb--theme-vertical:host:hover .wlc-game-thumb-media__bg {\n    transform: scale(1.01);\n  }\n  .wlc-game-thumb--theme-vertical:host:hover .wlc-game-thumb-media__logo {\n    transform: translateY(-40px);\n  }\n  .wlc-game-thumb--theme-vertical:host:hover .wlc-game-thumb-media__fg {\n    transform: scale(1.2);\n  }\n  .wlc-game-thumb--theme-vertical:host:hover .wlc-game-thumb-media__video {\n    transform: scale(1.1);\n  }\n  .wlc-game-thumb--theme-vertical:host:hover .wlc-game-thumb__icon {\n    opacity: 1;\n  }\n  .wlc-game-thumb--theme-vertical:host:hover .wlc-game-thumb__control {\n    transform: translateY(0);\n    opacity: 1;\n    pointer-events: auto;\n  }\n}\n.wlc-game-thumb:host .wlc-game-thumb__icon {\n  position: absolute;\n  top: 10px;\n  left: 10px;\n  z-index: 4;\n  display: flex;\n  width: 40px;\n  height: 40px;\n  color: #fff;\n  background: #2f3b55;\n  border-radius: 5px;\n  box-shadow: none;\n  cursor: pointer;\n}\n.wlc-game-thumb:host .wlc-game-thumb__icon::ng-deep .wlc-icon-content {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: 100%;\n}\n.wlc-game-thumb:host .wlc-game-thumb__icon::ng-deep svg {\n  width: 30px;\n  height: 30px;\n}\n.wlc-game-thumb:host .wlc-game-thumb__icon::ng-deep svg path {\n  transition: all 0.3s linear;\n  transform-origin: center;\n  fill: currentColor;\n}\n.wlc-game-thumb:host .wlc-game-thumb__icon.active {\n  color: #fff;\n  background: var(--mc-main);\n}\n.wlc-game-thumb:host .wlc-game-thumb__icon.active::ng-deep path {\n  transform: scaleX(-1);\n}\n@media (pointer: fine) {\n  .wlc-game-thumb:host .wlc-game-thumb__icon:not(.active):hover {\n    color: var(--mc-main);\n  }\n}\n.wlc-game-thumb:host.wlc-game-thumb--theme-default .wlc-game-thumb__loader {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n}\n.wlc-game-thumb:host.wlc-game-thumb--theme-vertical .wlc-game-thumb__loader {\n  display: block;\n  width: 100%;\n  background-position: center;\n  background-color: var(--mc-bg-d10);\n  background-image: url("/static/images/logo.svg");\n  background-size: 50%;\n  background-repeat: no-repeat;\n}\n.wlc-game-thumb:host.wlc-game-thumb--theme-vertical .wlc-game-thumb__loader:before {\n  padding: 162.5% 0 0;\n  content: "";\n  display: block;\n  width: 100%;\n  height: 0;\n}\n.wlc-game-thumb:host.wlc-game-thumb--theme-vertical .wlc-game-thumb__loader ::ng-deep .wlc-loader {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n}\n.wlc-game-thumb--theme-default:host .wlc-btn {\n  padding: 5px;\n}']})],v)},25530:function(e,t,a){"use strict";a.d(t,{T:function(){return n}});const n={moduleName:"games",componentName:"wlc-game-thumb",class:"wlc-game-thumb",common:{useMerchantName:!1,promoWidget:{title:gettext("New game"),gameCategory:"new"}}}},47950:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{y:function(){return gameWrapperHooks},N:function(){return GameWrapperComponent}});var tslib__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(64762),_raw_loader_game_wrapper_component_html__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(97320),_styles_game_wrapper_component_scss__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(10606),_angular_core__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(88720),_angular_common__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(38583),_angular_platform_browser__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(39075),_angular_forms__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(3679),_uirouter_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(99120),rxjs__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(22759),rxjs_operators__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(46782),wlc_engine_modules_games_system_services_games_catalog_games_catalog_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(31438),wlc_engine_modules_games_components_game_dashboard_game_dashboard_params__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(76324),wlc_engine_modules_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(70258),_hooks__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(28288),_game_wrapper_params__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(37586),lodash_es_isString__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(13594),lodash_es_isObject__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(692),lodash_es_isFunction__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(56872),lodash_es_includes__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(85218),lodash_es_toNumber__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(57387),lodash_es_find__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(56766),lodash_es_get__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(82560);const gameWrapperHooks={launchInfo:"launchInfo@GameWrapperComponent",evalScript:"evalScript@GameWrapperComponent",iframeShown:"iframeShown@GameWrapperComponent"};let GameWrapperComponent=class GameWrapperComponent extends wlc_engine_modules_core__WEBPACK_IMPORTED_MODULE_3__.k8{constructor(e,t,a,n,i,s,r,o,m,l,c,h,g,u,d,p){super({injectParams:e,defaultParams:_game_wrapper_params__WEBPACK_IMPORTED_MODULE_5__.T}),this.injectParams=e,this.document=t,this.router=a,this.eventService=n,this.gamesCatalogService=i,this.configService=s,this.actionService=r,this.modalService=o,this.logService=m,this.elementRef=l,this.domSanitizer=c,this.cdr=h,this.renderer=g,this.hostElement=u,this.hooksService=d,this.titleService=p,this.gameHtml="",this.useMobileIframe=!1,this.mobileIframeLoaded=!1,this.openDashboard=!0,this.showDashboardBtn=!1,this.mobileGame=this.configService.get("appConfig.mobile"),this.dashboardBtn={name:"game-dashboard",type:"toggle",text:gettext("Dashboard"),textSide:"left",control:new _angular_forms__WEBPACK_IMPORTED_MODULE_6__.NI,onChange:e=>{this.toggleDasgboard(e)}},this.isMobile=!1,this.realMobile=!1,this.destroyed=!1,this.isIframeHeight=!1,this.hooksByMerchant={990:()=>{new _hooks__WEBPACK_IMPORTED_MODULE_4__.i({hooksService:this.hooksService,disableHooks:this.$destroy})}}}ngOnInit(){const e=Object.create(null,{ngOnInit:{get:()=>super.ngOnInit}});var t;return(0,tslib__WEBPACK_IMPORTED_MODULE_7__.__awaiter)(this,void 0,void 0,function*(){e.ngOnInit.call(this,this.inlineParams),this.configService.get("appConfig.mobile")&&(this.isMobile=!0,this.realMobile=!0,this.addModifiers("real-mobile")),this.isAuth=this.configService.get("$user.isAuthenticated"),this.locale=(null===(t=this.router.stateService.params)||void 0===t?void 0:t.locale)||"en",this.gameParams=this.getGameParams(),this.initEventHandlers(),this.savedSiteName=this.titleService.getTitle(),this.enableGameHeader=(0,lodash_es_includes__WEBPACK_IMPORTED_MODULE_8__.Z)(this.configService.get("$games.mobile.showGameHeader.merchants"),this.gameParams.merchantId),this.game=this.getGame(),this.gameTitle=this.game.name[this.locale]||this.game.name.en||"",this.game?(this.gamesCatalogService.getFavouriteGames(),yield this.openActiveGame(),this.cdr.detectChanges(),this.initStartResizeParams()):(this.logService.sendLog({code:"3.0.4",data:{gameParams:this.gameParams}}),this.setError({msg:gettext("The game does not exist or the game settings are incorrect"),state:"app.home"}))})}ngAfterViewInit(){this.showDashboardBtn=!0,this.initStartResizeParams(),this.initFullPageIframeSize(),this.configService.get("$base.useSeo")||this.titleService.setTitle(`${this.gameTitle} | ${this.configService.get("$base.site.name")}`),this.titleObserver=new MutationObserver(()=>{this.titleObserver.disconnect(),this.titleObserver=null,this.configService.get("$base.useSeo")?this.titleService.setTitle(this.savedSiteName):this.titleService.setTitle(`${this.gameTitle} | ${this.configService.get("$base.site.name")}`)}),this.titleObserver.observe(this.document.querySelector("title"),{childList:!0,subtree:!0,attributes:!0})}onWResize(){this.$params&&this.setGameWindowSize()}onResize(e){this.setGameWindowSize(e.newWidth)}playForReal(){this.game.launch({demo:!1})}openOnFullscreen(){const e=this.iframe?this.iframe:this.wrp.element.nativeElement.querySelector("#egamings_container");if(e&&(this.requestFullscreen(e),this.iframe)){const t=this.iframe.getAttribute("scrolling");this.iframe.setAttribute("scrolling","auto");const a=(0,rxjs__WEBPACK_IMPORTED_MODULE_9__.R)(e,"onfullscreenchange").subscribe(()=>{this.document.fullscreenElement||(t?this.iframe.setAttribute("scrolling",t):this.iframe.removeAttribute("scrolling"),a.unsubscribe())})}}toggleFavouriteBtn(){return(0,tslib__WEBPACK_IMPORTED_MODULE_7__.__awaiter)(this,void 0,void 0,function*(){if(this.game)try{yield this.gamesCatalogService.toggleFavourites(this.game.ID)}catch(e){}})}closeGame(){this.returnToPrevState()}ngOnDestroy(){var e,t;super.ngOnDestroy(),this.destroyed=!0,null===(e=this.containerObserver)||void 0===e||e.disconnect(),this.iframeObserver&&(null===(t=this.iframeObserver)||void 0===t||t.disconnect()),this.configService.get("$base.useSeo")||this.titleService.setTitle(this.savedSiteName),this.titleObserver&&this.titleObserver.disconnect()}onGameHtmlRendered(){var e;return(0,tslib__WEBPACK_IMPORTED_MODULE_7__.__awaiter)(this,void 0,void 0,function*(){if(null===(e=this.launchInfo)||void 0===e?void 0:e.gameScript)try{this.runGameScript()}catch(t){this.logService.sendLog({code:"3.0.8",data:{error:t,gameId:this.game.ID},from:{component:"GameWrapperComponent",method:"onGameHtmlRendered"}}),this.setError()}})}runGameScript(){var _a,_b;return(0,tslib__WEBPACK_IMPORTED_MODULE_7__.__awaiter)(this,void 0,void 0,function*(){const result=yield this.hooksService.run(gameWrapperHooks.evalScript,{game:this.game,customGameParams:null===(_a=this.$params)||void 0===_a?void 0:_a.gameParams,disable:!1});result.disable||eval(null===(_b=this.launchInfo)||void 0===_b?void 0:_b.gameScript)})}getGame(){var e;return this.gamesCatalogService.getGame((0,lodash_es_toNumber__WEBPACK_IMPORTED_MODULE_10__.Z)(this.gameParams.merchantId),this.gameParams.launchCode,!!(null===(e=this.$params.gameParams)||void 0===e?void 0:e.isSportsbook),!0)}toggleDasgboard(e){e?this.addModifiers("open-dashboard"):this.removeModifiers("open-dashboard"),this.openDashboard=e}initStartResizeParams(){var e;"default"===this.$params.theme&&(this.aspectRatio=(null===(e=this.game)||void 0===e?void 0:e.aspectRatio)||"auto",this.aspectRatioCoefficient=this.getAspectRatioCoefficient(),this.checkIframe())}initFullPageIframeSize(){var e;(null===(e=this.$params.gameParams)||void 0===e?void 0:e.disableIframeDefaultResize)||"fullscreen-game-frame"===this.$params.theme&&this.hostElement&&(this.containerObserver=new MutationObserver(()=>{const e=this.document.querySelector("#egamings_container iframe");e&&(this.iframe=e,this.iframe.setAttribute("scrolling","auto"),this.containerObserver.disconnect(),this.containerObserver=null,this.setFullPageIframeSize(),this.iframeObserver=new MutationObserver(()=>{this.setFullPageIframeSize()}),this.iframeObserver.observe(e,{attributes:!0,attributeFilter:["height"]}))}),this.containerObserver.observe(this.hostElement.nativeElement,{childList:!0,subtree:!0}))}setFullPageIframeSize(){var e,t,a,n,i;if(!(null===(e=this.$params.gameParams)||void 0===e?void 0:e.disableIframeDefaultResize)&&(null===(t=this.hostElement)||void 0===t?void 0:t.nativeElement)){const e=this.hostElement.nativeElement,t=null===(n=null===(a=this.wrp)||void 0===a?void 0:a.element)||void 0===n?void 0:n.nativeElement.querySelector("iframe");let s=globalThis.innerHeight-e.offsetTop+"px";const r=null==t?void 0:t.getAttribute("height");if((0,lodash_es_includes__WEBPACK_IMPORTED_MODULE_8__.Z)(r,"px")&&s&&!(null===(i=this.$params.gameParams)||void 0===i?void 0:i.disableIframeSelfResize)){parseInt(r)>parseInt(s)&&(s=null)}this.renderer.setStyle(e,"height",s),t&&this.renderer.setStyle(t,"height",s)}}checkIframe(){var e,t;this.containerObserver=new MutationObserver(()=>{var e,t;const a=null===(t=null===(e=this.wrp)||void 0===e?void 0:e.element)||void 0===t?void 0:t.nativeElement.querySelector("iframe");if(a){this.hooksService.run(gameWrapperHooks.iframeShown,{iframe:a,mobile:this.isMobile}),this.iframe=a;const e=this.iframe.getAttribute("height");e&&"100%"!==e&&(this.isIframeHeight=!0,this.setGameWindowSize(),this.setIframeObserver()),this.containerObserver.disconnect()}}),this.containerObserver.observe(null===(t=null===(e=this.wrp)||void 0===e?void 0:e.element)||void 0===t?void 0:t.nativeElement,{childList:!0,subtree:!0})}setIframeObserver(){this.iframeObserver=new MutationObserver(()=>{this.setGameWindowSize()}),this.iframeObserver.observe(this.iframe,{childList:!0,subtree:!0,attributes:!0})}setGameWindowSize(e){var t,a,n,i,s,r;if("fullscreen-game-frame"===this.$params.theme)return void this.setFullPageIframeSize();const o=null===(a=null===(t=this.wrp)||void 0===t?void 0:t.element)||void 0===a?void 0:a.nativeElement;if(o){if(this.isMobile)this.renderer.setStyle(o,"height","100%"),this.renderer.setStyle(o,"maxWidth","100%");else if(!this.realMobile||this.realMobile&&this.windowWidthChanged()){const t=null===(n=this.iframe)||void 0===n?void 0:n.getAttribute("height");if(t&&"100%"!==t)return void this.renderer.setStyle(o,"height",t+"px");const a=this.getMaxHeight(),m=(null===(i=this.$params.gameParams)||void 0===i?void 0:i.minGameWindowHeight)||0;if(e||(e=null===(r=null===(s=this.wrp)||void 0===s?void 0:s.element)||void 0===r?void 0:r.nativeElement.parentElement.getBoundingClientRect().width),this.aspectRatioCoefficient&&e){let t=e/this.aspectRatioCoefficient,n=0;t>a&&(t=a),t<m&&(t=m),n=t*this.aspectRatioCoefficient,this.renderer.setStyle(o,"height",t+"px"),this.renderer.setStyle(o,"maxWidth",n+"px"),this.renderer.setStyle(this.footer.nativeElement,"maxWidth",n+"px")}else this.renderer.setStyle(o,"height","100%"),this.renderer.setStyle(o,"maxWidth","100%"),this.renderer.setStyle(this.footer.nativeElement,"maxWidth","100%")}this.iframe&&this.isIframeHeight&&this.renderer.setStyle(o,"height",(0,lodash_es_toNumber__WEBPACK_IMPORTED_MODULE_10__.Z)(this.iframe.getAttribute("height")))}}windowWidthChanged(){return window.innerWidth!=this.oldWindowWidth&&(this.oldWindowWidth=window.innerWidth,!0)}getAspectRatioCoefficient(){const e=this.aspectRatio||"16:9";if("auto"!==e){let t=e.split(":").map(e=>(0,lodash_es_toNumber__WEBPACK_IMPORTED_MODULE_10__.Z)(e));return 2!==t.length&&(t=[16,9]),t[0]/t[1]}return 0}getMaxHeight(){var e,t,a;return window.innerHeight-((null===(t=null===(e=this.wrp)||void 0===e?void 0:e.element)||void 0===t?void 0:t.nativeElement.getBoundingClientRect().top)+window.scrollY)-((null===(a=this.$params)||void 0===a?void 0:a.padding)||0)-(this.footer.nativeElement.getBoundingClientRect().height||0)}requestFullscreen(e){this.document.fullscreenEnabled&&e.requestFullscreen()}returnToPrevState(){this.router.stateService.go("app.home")}updateFavorites(){return(0,tslib__WEBPACK_IMPORTED_MODULE_7__.__awaiter)(this,void 0,void 0,function*(){if(this.game&&this.configService.get("$user.isAuthenticated"))try{this.gamesCatalogService.getFavouriteGames()}catch(e){this.logService.sendLog({code:"3.0.13",data:{error:e}})}})}getGameParams(){var e,t,a,n,i,s,r,o;return{merchantId:(null===(e=this.$params.gameParams)||void 0===e?void 0:e.merchantId)||(0,lodash_es_toNumber__WEBPACK_IMPORTED_MODULE_10__.Z)(null===(t=this.router.stateService.params)||void 0===t?void 0:t.merchantId),launchCode:(null===(a=this.$params.gameParams)||void 0===a?void 0:a.launchCode)||(null===(n=this.router.stateService.params)||void 0===n?void 0:n.launchCode)||"",lang:this.locale,demo:(null===(i=this.$params.gameParams)||void 0===i?void 0:i.demo)||"true"===(null===(s=this.router.stateService.params)||void 0===s?void 0:s.demo),gameId:(null===(r=this.$params.gameParams)||void 0===r?void 0:r.gameId)||(null===(o=this.router.stateService.params)||void 0===o?void 0:o.gameId)||"",returnUrl:`${location.origin}/${this.locale}`}}openActiveGame(){return(0,tslib__WEBPACK_IMPORTED_MODULE_7__.__awaiter)(this,void 0,void 0,function*(){try{return yield this.getLaunchParams(),this.isReady=!0,this.cdr.detectChanges(),this.useMobileIframe?this.runInMobileIframe():(this.gameHtml||this.runGameScript(),!0)}catch(e){return!1}})}getLaunchParams(){var e;return(0,tslib__WEBPACK_IMPORTED_MODULE_7__.__awaiter)(this,void 0,void 0,function*(){const t=this.logService.waiter({code:"3.0.3"});try{const a=yield this.gamesCatalogService.getLaunchParams(this.gameParams),n=yield this.hooksService.run(gameWrapperHooks.launchInfo,{game:this.game,launchInfo:a,customGameParams:this.$params.gameParams,demo:this.gameParams.demo});this.game=n.game,this.launchInfo=n.launchInfo,this.launchInfo=a,this.checkLaunch(a)&&(this.configService.get("appConfig.mobile")&&this.useOrNotMobileIframe(),this.gameHtml=null===(e=this.domSanitizer.bypassSecurityTrustHtml(a.gameHtml))||void 0===e?void 0:e.changingThisBreaksApplicationSecurity,this.cdr.markForCheck())}catch(a){this.logService.sendLog({code:"3.0.2",data:{error:a,gameparam:this.gameParams}}),this.setError({msg:(0,lodash_es_get__WEBPACK_IMPORTED_MODULE_11__.Z)(a,"errors[0]")})}finally{t()}})}checkLaunch(e){if(!e)return;const t=(0,lodash_es_isObject__WEBPACK_IMPORTED_MODULE_12__.Z)(e)&&(0,lodash_es_isString__WEBPACK_IMPORTED_MODULE_13__.Z)(e.gameHtml)&&!(0,lodash_es_includes__WEBPACK_IMPORTED_MODULE_8__.Z)(e.gameHtml,"FAKESID");return this.configService.get("appConfig.mobile")||t}useOrNotMobileIframe(){if(this.realMobile&&this.scriptCanBeRunInsideIframe()){this.useMobileIframe=!0;const e=this.configService.get(`$games.mobile.notRunInIframe.${this.game.merchantID}`);e&&(e.launchCodes?this.useMobileIframe=!(0,lodash_es_find__WEBPACK_IMPORTED_MODULE_14__.Z)(e.launchCodes,e=>this.gameParams.launchCode===e):this.useMobileIframe=!1)}}runInMobileIframe(){let e=1,t=!1;const a=this.logService.waiter({code:"3.0.10",data:{game:this.game}}),n=this.document.createElement("iframe"),i=this.gameHtml;return this.iframe=n,n.addEventListener("load",()=>{if(!t){e++;try{const a=n.contentDocument?n.contentDocument:n.contentWindow.document;return 4==e&&!!a.querySelector(".wlc-application")&&this.returnToPrevState(),e>4?this.gameScriptTimeout=setTimeout(()=>{t=!0,this.logService.sendLog({code:"3.0.9",data:{game:this.game}}),this.eventService.emit({name:wlc_engine_modules_core__WEBPACK_IMPORTED_MODULE_3__.LA.PushMessage,data:{type:"error",title:gettext("Game error"),message:gettext("Something wrong. Please try later."),wlcElement:"notification_game-error"}})},500):(a.open(),a.write(i),a.write(`<script>${this.launchInfo.gameScript}<\/script>`),a.close(),this.mobileIframeLoaded=!0),!0}catch(s){return this.mobileIframeLoaded&&a(),this.gameScriptTimeout&&clearInterval(this.gameScriptTimeout),!1}}}),this.renderer.appendChild(this.gameContainer.nativeElement,n),!0}scriptCanBeRunInsideIframe(){const e=["window.location.replace","window.location.href=","params:base","var:exitUrl"];for(const t of e)if((0,lodash_es_includes__WEBPACK_IMPORTED_MODULE_8__.Z)(this.launchInfo.gameScript,t))return!0;return!1}setError(e={}){this.destroyed||this.modalService.showError({modalMessage:e.msg||gettext("Something wrong. Please try later."),onModalHide:()=>{setTimeout(()=>{this.router.stateService.go(e.state||"app.home",e.stateParams||{})})}})}initEventHandlers(){(0,lodash_es_isFunction__WEBPACK_IMPORTED_MODULE_15__.Z)(this.hooksByMerchant[this.gameParams.merchantId])&&this.hooksByMerchant[this.gameParams.merchantId](),this.actionService.deviceType().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.R)(this.$destroy)).subscribe(e=>{e&&(this.isMobile=e!==wlc_engine_modules_core__WEBPACK_IMPORTED_MODULE_3__.Yi.Desktop,this.isMobile?this.addModifiers("mobile"):this.removeModifiers("mobile"),this.setGameWindowSize(),this.cdr.markForCheck())}),this.gamesCatalogService.favoritesUpdated.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.R)(this.$destroy)).subscribe(()=>{this.game=this.getGame(),this.cdr.detectChanges()}),this.eventService.subscribe({name:"LOGOUT"},()=>{this.isAuth=!1,this.cdr.markForCheck(),"app.gameplay"===this.router.globals.current.name&&this.router.stateService.go("app.home").then(()=>{this.modalService.showModal("runGame",{common:{game:this.game,disableDemo:!1}})})},this.$destroy),this.eventService.subscribe({name:wlc_engine_modules_games_components_game_dashboard_game_dashboard_params__WEBPACK_IMPORTED_MODULE_2__.LV.OPENED},()=>{this.dashboardBtn.control.setValue(!0),this.openDashboard=!0,this.cdr.markForCheck()},this.$destroy),this.eventService.subscribe({name:wlc_engine_modules_games_components_game_dashboard_game_dashboard_params__WEBPACK_IMPORTED_MODULE_2__.LV.CLOSED},()=>{this.dashboardBtn.control.setValue(!1),this.openDashboard=!1,this.cdr.markForCheck()},this.$destroy),this.eventService.subscribe({name:"LOGIN"},()=>{this.isAuth=!0,this.cdr.markForCheck()},this.$destroy),(0,rxjs__WEBPACK_IMPORTED_MODULE_9__.R)(window,"closeGame").pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.R)(this.$destroy)).subscribe(()=>{this.closeGame()})}};GameWrapperComponent.ctorParameters=()=>[{type:void 0,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_17__.tBr,args:["injectParams"]}]},{type:HTMLDocument,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_17__.tBr,args:[_angular_common__WEBPACK_IMPORTED_MODULE_18__.K0]}]},{type:_uirouter_core__WEBPACK_IMPORTED_MODULE_0__.UIRouter},{type:wlc_engine_modules_core__WEBPACK_IMPORTED_MODULE_3__.PO},{type:wlc_engine_modules_games_system_services_games_catalog_games_catalog_service__WEBPACK_IMPORTED_MODULE_1__.N},{type:wlc_engine_modules_core__WEBPACK_IMPORTED_MODULE_3__.E4},{type:wlc_engine_modules_core__WEBPACK_IMPORTED_MODULE_3__.cw},{type:wlc_engine_modules_core__WEBPACK_IMPORTED_MODULE_3__.Z7},{type:wlc_engine_modules_core__WEBPACK_IMPORTED_MODULE_3__.$V},{type:_angular_core__WEBPACK_IMPORTED_MODULE_17__.SBq},{type:_angular_platform_browser__WEBPACK_IMPORTED_MODULE_19__.H7},{type:_angular_core__WEBPACK_IMPORTED_MODULE_17__.sBO},{type:_angular_core__WEBPACK_IMPORTED_MODULE_17__.Qsj},{type:_angular_core__WEBPACK_IMPORTED_MODULE_17__.SBq},{type:wlc_engine_modules_core__WEBPACK_IMPORTED_MODULE_3__.nT},{type:_angular_platform_browser__WEBPACK_IMPORTED_MODULE_19__.Dx}],GameWrapperComponent.propDecorators={wrp:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_17__.i9L,args:["wrp",{read:_angular_core__WEBPACK_IMPORTED_MODULE_17__.s_b,static:!1}]}],header:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_17__.i9L,args:["header"]}],footer:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_17__.i9L,args:["footer"]}],gameContainer:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_17__.i9L,args:["gameContainer"]}],inlineParams:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_17__.IIB}],onWResize:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_17__.L6J,args:["window:resize"]}]},GameWrapperComponent=(0,tslib__WEBPACK_IMPORTED_MODULE_7__.__decorate)([(0,_angular_core__WEBPACK_IMPORTED_MODULE_17__.wA2)({selector:"[wlc-game-wrapper]",template:_raw_loader_game_wrapper_component_html__WEBPACK_IMPORTED_MODULE_20__.Z,encapsulation:_angular_core__WEBPACK_IMPORTED_MODULE_17__.ifc.None,styles:[_styles_game_wrapper_component_scss__WEBPACK_IMPORTED_MODULE_21__.Z]})],GameWrapperComponent)},37586:function(e,t,a){"use strict";a.d(t,{T:function(){return n}});const n={moduleName:"games",componentName:"wlc-game-wrapper",class:"wlc-game-wrapper",theme:"default",themeMod:"default",type:"default",updateOnWindowResize:!0,padding:20,gameParams:{minGameWindowHeight:250},wlcElement:"section_game-play-container"}},28288:function(e,t,a){"use strict";a.d(t,{i:function(){return s}});var n=a(93291),i=a(47950);class s extends n.r3{constructor(e){super({hooksService:e.hooksService,disableHooks:e.disableHooks}),this.params=e,this.init()}init(){this.setHook(i.y.iframeShown,this.iframeShownHook,this)}iframeShownHook(e){return e.mobile&&e.iframe.setAttribute("scrolling","auto"),e}}},46257:function(e,t,a){"use strict";a.d(t,{PI:function(){return r.P},eh:function(){return i.e},m3:function(){return i.m},yb:function(){return o.y},$z:function(){return s.$}});a(31438),a(60575);var n,i=a(51580);!function(e){e.Authenticated="authenticated",e.Anonymous="anonimous"}(n||(n={}));var s=a(44430),r=(a(67128),a(8535),a(95695),a(47251),a(18279),a(25530),a(44683)),o=(a(76324),a(47950));a(2331),a(37476)},37476:function(e,t,a){"use strict";var n;a.d(t,{R:function(){return n},r:function(){return i}}),function(e){e.favorites="favourites",e.lastGames="lastplayed"}(n||(n={}));const i={mobile:{loginUser:{disableDemo:!1},notRunInIframe:{944:{},945:{},942:{},912:{},917:{},987:{}},showGameHeader:{merchants:[990]}},run:{skipCheckBalance:!1,checkProfileRequiredFields:!0,checkActiveBonusRestriction:!0},realPlay:{disable:!1,disableByCountry:{default:[],forMerchant:{992:["usa","fra","cuw","gbr","esp","ita"]}}},categories:{useFundistJackpots:!1,exclude:{bySlug:["casinogames"]},parents:["casino","livecasino"],gamesSortSetting:{direction:{sortPerLanguage:"asc",sortPerCategory:"asc",baseSort:"desc"}}},mediaFormatTypes:{"hevc.mp4":"video/mp4; codecs=hevc,mp4a.40.2","av1.mp4":"video/mp4; codecs=av01.0.05M.08,opus","h264.mp4":"video/mp4; codecs=avc1.4D401E,mp4a.40.2",avif:"image/avif",webp:"image/webp"},verticalThumbsConfigUrl:"/gstatic/vertical-thumbs/vertical-thumb.json",verticalImagesPath:"/gstatic/vertical-thumbs/",sportsbookMerchants:[958,972,993,962,937,903,922,908],components:{"wlc-total-jackpot":{noContent:{default:{title:gettext("Oh, all the available jackpots have been played. New jackpots will appear later. In the meantime, we offer you to have a look at our new games."),redirectBtn:{useBtn:!1}}}}},slimGamesRequest:!0,search:{byCyrillicLetters:!0}}},8535:function(e,t,a){"use strict";a.d(t,{l:function(){return u}});var n=a(17161),i=a(2331),s=a(70258),r=a(56298),o=a(692),m=a(29114),l=a(62825),c=a(85218),h=a(57387),g=a(52182);class u extends n.z{constructor(e,t,a,n){var i;super({from:(0,r.Z)({model:"Game"},e)}),this.router=a,this.configService=n,this.ID=(0,h.Z)(t.ID),this.aspectRatio=t.AR,this.hasDemo=!!t.hasDemo,this.name=t.Name,this.categoryID=(0,g.Z)(t.CategoryID,e=>(0,h.Z)(e)),this.description=t.Description,this.launchCode=t.LaunchCode,this.merchantID=(0,h.Z)(t.MerchantID),this.subMerchantID=(0,h.Z)(t.SubMerchantID),this.sortPerLanguage=(null===(i=t.CustomSort)||void 0===i?void 0:i.Lang)||{},this.sort=(0,h.Z)(t.Sort),this.url=t.Url,this.image=t.Image,this.sortPerCategory=t.SortPerCategory,this.countryRestrictionId=t.IDCountryRestriction,this.isRestricted=t.isRestricted,this.freeround=t.Freeround,this.merchantName=this.getMerchantName(),this.merchantAlias=this.getMerchantAlias()}gameRestricted(e,t){if(this.isRestricted)return!0;let a=!1;const n=e.restrictedByDefault[this.merchantID]||e.restrictedByID[this.countryRestrictionId];return(0,o.Z)(n)&&(0,m.Z)(t,e=>{n[e]&&(a=!0)}),a}hasCategory(e){return(0,c.Z)(this.categoryID,e.id)}getMerchantName(){return i.K.getMerchantNameById(this.merchantID)||i.K.getMerchantNameById(this.subMerchantID)}getMerchantAlias(){return i.K.getMerchantAliasById(this.merchantID)||i.K.getMerchantAliasById(this.subMerchantID)}launch(e){var t;const a=null!==(t=this.configService.get("currentLanguage"))&&void 0!==t?t:this.configService.get("appConfig.language");this.router.stateService.go("app.gameplay",{merchantId:this.merchantID,launchCode:this.launchCode,demo:e.demo,locale:a},{reload:!1})}restrictedByBonuses(e){for(const t of e){const e=t.gamesList(!0),a=t.gamesList(!1),n=t.categoriesList(!0),i=t.categoriesList(!1),s=(0,c.Z)(a,this.ID)||(0,l.Z)(i,this.categoryID).length>0,r=e.length&&!(0,c.Z)(e,this.ID)||n.length&&!(0,l.Z)(n,this.categoryID).length;if(s||r)return!0}return!1}getImage(e,t=""){let a=this.image;if(e&&0===this.image.indexOf("/gstatic")){const t=640===e?"/$1":`/${e}/$1`;a=a.replace(/\/\d+\/(.+)$/,t)}return t&&(a=s.Bh.setFileExtension(a,t)),a}}},95695:function(e,t,a){"use strict";a.d(t,{z:function(){return D}});var n=a(66888),i=a(17161),s=a(44430),r=a(8535),o=a(2331),m=a(67128),l=a(56298),c=a(91074),h=a(31518),g=a(54252),u=a(56766),d=a(29114),p=a(82560),_=a(85218),b=a(74663),w=a(5237),v=a(13594),f=a(67114),y=a(9857),C=a(84141),E=a(84383),S=a(57387),I=a(18312),P=a(28149),M=a(43455);class D extends i.z{constructor(e,t,a,n,i,s,r){super({from:(0,l.Z)({model:"GamesCatalog"},e)}),this.gamesCatalogService=a,this.translateService=n,this.configService=i,this.router=s,this.eventService=r,this.sportsbooks=[],this.categories=[],this.projectCategories=[],this.specialCategories=[{ID:"-1",Name:{en:gettext("Last played")},Trans:{en:gettext("Last played")},Tags:[],menuId:"lastplayed",Slug:"lastplayed",CSort:"0",CSubSort:"9999998"},{ID:"-2",Name:{en:gettext("My favourites")},Trans:{en:gettext("My favourites")},Tags:[],menuId:"favourites",Slug:"favourites",CSort:"0",CSubSort:"9999999"},{ID:"-3",Name:{en:gettext("Casino")},Trans:{en:gettext("Casino")},Tags:[""],menuId:"casino",Slug:"casino",CSort:"0",CSubSort:"0"}],this.data=t,this.overrideJackpots=!this.configService.get("$games.categories.useFundistJackpots"),this.searchByCyrillicLetters=this.configService.get("$games.search.byCyrillicLetters"),this.categorySettings=this.configService.get("appConfig.categories"),this.menuSettings=this.configService.get("appConfig.menuSettings"),this.processFetchedGamesCatalog(this.data),this.translateService.onLangChange.subscribe(({lang:e})=>{m.N.language=e,(0,d.Z)(this.projectCategories,e=>{e.sortGames()})}),this.availableGamesHandler()}isSpecialCategory(e){return!!(0,u.Z)(this.specialCategories,t=>e.slug===t.Slug)}getGameList(e){const t=(null==e?void 0:e.categories)||[],a=(null==e?void 0:e.excludeCategories)||[],n=(null==e?void 0:e.merchants)||[],i=(null==e?void 0:e.excludeMerchants)||[],s=(null==e?void 0:e.searchQuery)||"",r=null==e?void 0:e.ids;let m=(0,h.Z)([],this.availableGames);if(t.length){const e=this.getCategoriesBySlugs(t);m=this.getGamesByCategories(e),!s&&e.length>1&&(m=o.K.sortGamesByDefault(m))}if(a.length){const e=[];(0,d.Z)(a,t=>{const a=o.K.getCategoryIdByName(t);a&&e.push(a)}),m=m.filter(t=>{let a=!0;for(const n of e)a=a&&!(0,_.Z)(t.categoryID,n);return a})}return n.length&&(m=m.filter(e=>(0,_.Z)(n,e.merchantID)||(0,_.Z)(n,e.subMerchantID))),i.length&&(m=m.filter(e=>!this.isExcludeMerchant(i,e.merchantID,e.subMerchantID))),s&&(m=this.sortNameByRegExp(s,m)),(0,E.Z)(r)&&(m=(0,g.Z)(m,e=>(0,_.Z)(r,e.ID))),m}getCategories(){return this.projectCategories}getCategoriesBySlugs(e){return(0,g.Z)(this.getCategories(),t=>(0,_.Z)(e,t.slug))}getCategoryBySlug(e,t){if(!e)return;const a=(0,v.Z)(e)?[e]:e,n=t?this.categories:this.projectCategories;for(const i of a){const e=(0,u.Z)(n,e=>e.slug===i);if(e)return e}}sortCategories(e){return!!(0,u.Z)(e,e=>!!e.sortByLang)?(0,y.Z)(e,[e=>e.sortByLang||null,e=>e.sort||0],["asc","desc"]):(0,y.Z)(e,e=>e.sort||0,"desc")}getMerchants(){return this.merchants}getAvailableMerchants(){return this.availableMerchants}getAvailableCategories(){return this.projectCategories}getCategoryByName(e){return(0,u.Z)(this.categories,["menuId",e])}getCategoryTitle(e,t,a,n){if("merchant"===e){if(!(0,f.Z)(a)&&a&&o.K.mapping.byCategory.hasOwnProperty(a))return o.K.mapping.byCategory[a].title.hasOwnProperty(n)?o.K.mapping.byCategory[a].title[n]:o.K.mapping.byCategory[a].title.en;if(o.K.mapping.merchantNameToTitleMapping.hasOwnProperty(t))return o.K.mapping.merchantNameToTitleMapping[t]}if("category"===e){if(!(0,f.Z)(a)&&a&&o.K.mapping.categoryNameToTitleMapping.hasOwnProperty(a))return o.K.mapping.categoryNameToTitleMapping[a];if(o.K.mapping.byCategory.hasOwnProperty(t))return o.K.mapping.byCategory[t].title.hasOwnProperty(n)?o.K.mapping.byCategory[t].title[n]:o.K.mapping.byCategory[t].title.en}return""}getGameById(e){return(0,u.Z)(this.availableGames,{ID:e})}getGame(e,t,a=!1,n=!1){let i=[];return i=a?this.sportsbooks:n?this.games:this.availableGames,(0,u.Z)(i,{merchantID:e,launchCode:t})}getJackpotGames(){return(0,g.Z)(this.availableGames,e=>!!e.jackpot)}getGamesByCategories(e){const t=(0,C.Z)(e,(e,t)=>e.concat(t.games),[]);return(0,M.Z)(t,"ID")}getMerchantByName(e){return(0,u.Z)(this.getAvailableMerchants(),{menuId:e})}getGameName(e,t){var a,n;return(null===(n=null===(a=this.getGame(e,t))||void 0===a?void 0:a.name)||void 0===n?void 0:n.en)||""}getCatalogTree(e,t){let a=[];if("merchant"===e){a=this.getSupportedMerchants(t).map(e=>(e.subcategories=this.getSupportedCategories(e.value),e))}else{a=this.getSupportedCategories(t).map(e=>(e.subcategories=this.getSupportedMerchants(e.value),e))}return a}loadJackpots(e){if(!this.overrideJackpots)return;const t=o.K.getCategoryIdByName("jackpots");(0,d.Z)(e,e=>{const a=this.getGame((0,S.Z)(e.MerchantID),e.LaunchCode);a&&e.amount>0&&(a.jackpot=e.amount,(0,_.Z)(a.categoryID,t)||a.categoryID.push(t))});const a=this.getJackpotGames(),n=(0,u.Z)(this.projectCategories,e=>"jackpots"===e.slug);if(n){if(this.categorySettings){const e=n.gameBlocks;(0,d.Z)(e,e=>{const t=this.filterGames([n,e.category],a);t.length&&(e.games=t)})}else n.setGames(a);n.setReady()}}loadFavourites(e){(0,d.Z)(e,e=>{const t=this.getGameById((0,S.Z)(e.game_id));t&&(t.isFavourite=!0)})}availableGamesHandler(){this.userProfile$=this.configService.get("$user.userProfile$"),this.userProfile$.pipe((0,n.n)(e=>!e)).subscribe(e=>{this.userCountry!==e.countryCode&&this.updateAvailableGamesAndMerchants(e.countryCode)})}updateAvailableGamesAndMerchants(e){this.userCountry=e;const t=[this.configService.get("appConfig.country")||null,this.userCountry],a=new Set([]);this.availableGames=(0,g.Z)(this.games,e=>!e.gameRestricted(this.restrictions,t)&&(a.add(e.merchantID),e.subMerchantID&&a.add(e.subMerchantID),!0)),this.availableMerchants=(0,g.Z)(this.merchants,e=>a.has(e.id)),this.prepareCategories(),this.eventService.emit({name:s.$.UPDATED_AVAILABLE_GAMES,data:this.availableGames})}getSupportedMerchants(e){let t=Object.keys(o.K.getMerchantsByCategory(e));return e||(t=Object.keys(o.K.mapping.byMerchant)),t.map(e=>({value:e,title:e}))}filterGames(e,t){const a=(0,C.Z)(e,(e,t)=>("casino"!==t.slug&&e.push(t.id),e),[]);return(0,g.Z)(t||this.getGameList(),e=>{for(const t of a)if(!(0,_.Z)(e.categoryID,t))return!1;return!0})}getSupportedCategories(e){let t=Object.keys(o.K.getCategoriesByMerchant(e));return e||(t=Object.keys(o.K.mapping.byCategory)),t.map(e=>({value:e,title:e}))}processFetchedGamesCatalog(e){this.merchants=[],this.categories=[],this.availableCategories=[];const t=(0,c.Z)(e);if(!(0,p.Z)(t,"games.length"))return;o.K.reset();const a=this.configService.get("appConfig.siteconfig.merchantNameAliasesMap")||{},n=o.K.mapMerchants(t.merchants,a);this.merchants=n.merchantsArray,t.categories=(0,h.Z)(this.specialCategories,t.categories),m.N.language=this.translateService.currentLang;const i=this.configService.get("$games.categories.gamesSortSetting"),s=o.K.mapCategories(t.categories,this.categorySettings,i);this.categories=this.sortCategories(s),this.restrictions=o.K.createRestrictions(t.countriesRestrictions);const l=[],g=this.configService.get("$games.sportsbookMerchants");for(const m of t.games){const e=new r.l({parentModel:"GamesCatalog",method:"processFetchedGamesCatalog"},m,this.router,this.configService);if(!(0,b.Z)(e.categoryID))continue;e.getMerchantName()&&(o.K.fillGamesByCategoriesMerchants(e,this.availableCategories),this.isExcludeMerchant(g,e.merchantID,e.subMerchantID)?this.sportsbooks.push(e):l.push(e))}this.games=(0,y.Z)(l,e=>(0,S.Z)(e.sort),"desc"),this.updateAvailableGamesAndMerchants(this.userCountry),this.prepareCategories()}isExcludeMerchant(e,t,a){return(0,_.Z)(e,t)||(0,_.Z)(e,a)}prepareCategories(){const e=this.configService.get("$games.categories.parents")||[];(0,d.Z)(this.categories,t=>{(0,_.Z)(e,t.slug)&&!t.initedWithMenu&&t.setMenu("main-menu")});const t=this.configService.get("$games.categories.exclude");(null==t?void 0:t.bySlug)&&(this.categories=(0,g.Z)(this.categories,e=>!(0,_.Z)(t.bySlug,e.slug)));const a=this.configService.get("$games.categories.sort");if((null==a?void 0:a.byDefault)&&(0,d.Z)(this.categories,e=>{const t=(0,p.Z)(a.byDefault,e.slug);(0,w.Z)(t)&&!e.initedWithDefaultSort&&e.setDefaultSort(t)}),this.categorySettings&&this.menuSettings)this.projectCategories=(0,g.Z)(this.categories,e=>!(!this.categorySettings[e.slug]&&!e.isSpecial)&&(e.setAsParent(),!0)),this.configureCategoriesView(this.projectCategories);else{const e=(0,g.Z)(this.categories,e=>e.isParent),t=this.getCategoryBySlug(["casino","livecasino","tablegames"],!0),a=(0,g.Z)(e,e=>e.slug!==(null==t?void 0:t.slug)&&!e.isSpecial);(0,d.Z)(a,e=>{const t=(0,g.Z)(this.availableGames,t=>t.hasCategory(e));e.setGames(t),e.sortGames()});let n=this.availableGames;t&&"casino"!==t.slug&&(n=this.getGamesByCategories([t])),t.setGames(n);const i=(0,g.Z)(this.categories,e=>!e.isParent),s=[];(0,d.Z)(i,e=>{const a=(0,g.Z)(this.availableGames,t=>(0,_.Z)(t.categoryID,e.id));if(a.length){const n=(0,c.Z)(e);n.setParentCategory(t),n.setGames(a),s.push(n)}}),t.setChildCategories(s),this.projectCategories=this.sortCategories((0,I.Z)(e,s)),this.configureCategoriesView(this.projectCategories)}(0,d.Z)(this.projectCategories,e=>{e.isJackpots&&this.overrideJackpots||e.setReady()})}configureCategoriesView(e){(0,d.Z)(e,t=>{const a=(0,p.Z)(this.categorySettings,t.slug);if(a){const n=this.filterGames([t]);if(t.setGames(n),"blocks"===a.view||"restricted-blocks"===a.view){const n=(0,C.Z)(e,(e,n)=>{var i;if(n.slug!==t.slug){const s=[n];"casino"!==t.slug&&s.push(t);const r=this.filterGames(s);r.length&&e.push({category:n,games:r,settings:null===(i=null==a?void 0:a.blocks)||void 0===i?void 0:i[n.slug]})}return e},[]);t.setGameBlocks(n)}}else{const e=this.filterGames([t]);e.length&&t.setGames(e)}})}sortNameByRegExp(e,t){const a={completeMatch:{array:[],regExp:`^${e=(e=this.searchByCyrillicLetters?this.replaceCyrillicChars(e):e).replace(/[!()+\\]/g,"\\$&")}[\\s]`},firstMatch:{array:[],regExp:`[\\s]${e}[\\s]?$`},secondMatch:{array:[],regExp:`[\\s]${e}`},thirdMatch:{array:[],regExp:`${e}`}};return(0,d.Z)(a,e=>{e.array=t.filter(t=>new RegExp(e.regExp,"gi").test(t.name.en))}),(0,P.Z)((0,I.Z)(a.completeMatch.array,a.firstMatch.array,a.secondMatch.array,a.thirdMatch.array))}replaceCyrillicChars(e){e=e.toLowerCase();const t=["\u0439","\u0446","\u0443","\u043a","\u0435","\u043d","\u0433","\u0448","\u0449","\u0437","\u0445","\u044a","\u0444","\u044b","\u0432","\u0430","\u043f","\u0440","\u043e","\u043b","\u0434","\u0436","\u044d","\u044f","\u0447","\u0441","\u043c","\u0438","\u0442","\u044c","\u0431","\u044e"],a=["q","w","e","r","t","y","u","i","o","p","","","a","s","d","f","g","h","j","k","l","","","z","x","c","v","b","n","m","",""];for(let n=0;n<t.length;n++)e=e.replace(new RegExp(t[n],"g"),a[n]);return e}}},47251:function(e,t,a){"use strict";a.d(t,{n:function(){return s}});var n=a(17161),i=a(56298);class s extends n.z{constructor(e,t){super({from:(0,i.Z)({model:"JackpotModel"},e)}),this.data=t}get id(){return this.data.id}get merchantName(){return this.data.MerchantName}get merchantID(){return+this.data.MerchantID}get launchCode(){return this.data.LaunchCode}get amount(){return this.data.amount}get currency(){return this.data.currency}get gameName(){return this.data.game}get gameImage(){return this.data.image}}},31438:function(e,t,a){"use strict";a.d(t,{N:function(){return N}});var n,i=a(64762),s=a(88720),r=a(99120),o=a(5469),m=a(79765),l=a(45435),c=a(88002),h=a(87519),g=a(25884),u=a(73180),d=a(67444),p=a(41589),_=a(26461),b=a(86892),w=a(26215),v=a(46782),f=a(70258),y=a(17161),C=a(56298),E=a(52182),S=a(67114);!function(e){e.TIE="green",e.PLAYER_WIN="red",e.BANKER_WIN="blue"}(n||(n={}));class I extends y.z{constructor(e,t){super({from:(0,C.Z)({model:"PragmaticLiveModel"},e)}),this.data=t}get seated(){const e=+this.data.totalSeatedPlayers;return e>9?"9+":""+e}get freePlaces(){if((0,S.Z)(this.data.availableSeats))return"";const e=+this.data.availableSeats;return e>999?"999+":""+e}get freeFromPlaces(){return this.freePlaces?this.totalPlaces?`${this.freePlaces}/${this.totalPlaces}`:this.freePlaces:""}get totalPlaces(){return(0,S.Z)(this.data.totalSeatedPlayers)||(0,S.Z)(this.data.availableSeats)?0:"BLACKJACK"===this.data.tableType?7:0+this.data.totalSeatedPlayers+this.data.availableSeats}get maxPlayers(){return this.data.tableLimits.maxPlayers}get dealer(){return this.data.dealer.name}get image(){return this.data.tableImage}get minBet(){return this.data.tableLimits.minBet}get maxBet(){return this.data.tableLimits.maxBet}get currency(){return this.data.currency}get lastResult(){let e=[];switch(this.data.tableType){case"ROULETTE":case"MEGAWHEEL":e=(0,E.Z)(this.data.last20Results,e=>({value:e.result,type:e.color||"black"}));break;case"SicBO":e=(0,E.Z)(this.data.last20Results,e=>({value:e.totalSum,type:"black"}));break;case"BACCARAT":e=(0,E.Z)(this.data.gameResult,e=>({value:e.winner[0],type:n[e.winner]}))}return e.slice(0,10)}}var P=a(29114),M=a(56766);let D=class{constructor(e,t){this.configService=e,this.eventService=t,this.connected=!1,this.connectReady=new f.BH,this.connectInProgress=!1,this.websocket=null,this.subscribed={},this.currency="EUR";const a=this.configService.get("pragmaticPlaySettings");this.apiUrl=null==a?void 0:a.dgaUrl,this.casinoId=null==a?void 0:a.casinoId,this.configService.ready.then(()=>{this.currency=this.configService.get("appConfig.user.currency")||"EUR"}),this.configService.get("$user.userProfile$").pipe((0,l.h)(e=>!!e&&this.configService.get("$user.isAuthenticated")),(0,c.U)(e=>e.currency||"EUR"),(0,l.h)(e=>e!==this.currency)).subscribe(e=>(0,i.__awaiter)(this,void 0,void 0,function*(){this.currency=e,this.hasSubscribers()&&this.disconnect()})),this.eventService.subscribe([{name:"LOGOUT"}],()=>{this.currency="EUR",this.hasSubscribers()&&this.disconnect()})}subscribe(e,t,a){return(0,i.__awaiter)(this,void 0,void 0,function*(){if(913!==e.merchantID)return;this.connected||this.connectInProgress||this.connect(),yield this.connectReady.promise;const n=e.launchCode;return this.subscribed[n]?this.subscribed[n].subscribers++:this.subscribed[n]={game:e,subscribers:1,flow:new w.X(null)},t.subscribe({complete:()=>{null!==this.subscribed[n]&&(this.subscribed[n].subscribers--,0===this.subscribed[n].subscribers&&this.makeUnSubscribe())}}),this.makeSubscribe(n),this.subscribed[n].flow.pipe((0,v.R)(t)).subscribe({next:e=>{a(e)}})})}connect(){return(0,i.__awaiter)(this,void 0,void 0,function*(){!this.connectInProgress&&this.apiUrl&&(this.connectInProgress=!0,yield this.configService.ready,null!==this.websocket&&3!==this.websocket.readyState&&this.websocket.close(),this.websocket=new WebSocket(this.apiUrl),this.websocket.onopen=()=>{this.onWsOpen()},this.websocket.onclose=()=>{this.onWsClose()},this.websocket.onmessage=e=>{this.onWsMessage(e)},this.websocket.onerror=()=>{this.onWsError()})})}disconnect(){var e;return(0,i.__awaiter)(this,void 0,void 0,function*(){yield this.connectReady.promise,null===(e=this.websocket)||void 0===e||e.close()})}send(e){this.websocket.send(e)}makeSubscribe(e){return(0,i.__awaiter)(this,void 0,void 0,function*(){const t={type:"subscribe",key:e,casinoId:this.casinoId,currency:this.currency};this.send(JSON.stringify(t))})}makeUnSubscribe(){this.hasSubscribers()||this.disconnect()}onMessage(e){var t;if(e.tableId&&this.subscribed[e.tableId].subscribers){const t=new I({service:"PragmaticPlayLiveService",method:"onMessage"},e);this.subscribed[e.tableId].flow.next(t)}else if(null===(t=e.error)||void 0===t?void 0:t.includes("Table not found")){const t=e.error.replace("Table not found: ","");this.subscribed[t].flow.complete(),this.subscribed[t]=null}}onWsOpen(){this.connected=!0,this.connectInProgress=!1,this.connectReady.resolve(),(0,P.Z)(this.subscribed,(e,t)=>{(null==e?void 0:e.subscribers)&&this.makeSubscribe(t)})}onWsClose(){this.connected=!1,this.connectInProgress=!1,this.connectReady=new f.BH,this.websocket=null,this.hasSubscribers()&&this.connect()}onWsMessage(e){try{const t=JSON.parse(e.data);this.onMessage(t)}catch(t){}}hasSubscribers(){return!!(0,M.Z)(this.subscribed,e=>!!(null==e?void 0:e.subscribers))}onWsError(){}};D.ctorParameters=()=>[{type:f.E4},{type:f.PO}],D=(0,i.__decorate)([(0,s.GSi)({providedIn:"root"})],D);var x=a(86093),O=a(84816),k=a(26194),T=a(2331),A=a(37476),R=a(95695),B=a(47251),G=a(44430),L=a(85442),$=a(13594),Z=a(46015),W=a(85218),U=a(74663),F=a(54252),K=a(57387),j=a(84383);let N=class{constructor(e,t,a,n,i,s,r,o,l,c){this.configService=e,this.router=t,this.eventService=a,this.translateService=n,this.dataService=i,this.uiRouter=s,this.actionService=r,this.modalService=o,this.logService=l,this.injector=c,this.ready=new Promise(e=>{this.$resolve=e}),this.favourites=[],this.favoritesUpdated=new m.xQ,this.searchBySpecialCats=!0,this.onlyAuthSpecial=["lastplayed","favourites","last-played"],this.categoryMenus=["main-menu","category-menu"],this.lastPlayed=[],this.jackpotParams={},this.jackpotRestart$=new m.xQ,this.isMobile=!1,this.init()}init(){return(0,i.__awaiter)(this,void 0,void 0,function*(){yield this.configService.ready,this.registerMethods(),this.loadGames(),this.eventService.subscribe({name:G.$.FETCH_GAME_CATALOG_SUCCEEDED},e=>{this.gamesCatalog=new R.z({service:"GamesCatalogService",method:"init"},e.data,this,this.translateService,this.configService,this.router,this.eventService),this.gamesCatalog.getGameList().length||this.logService.sendLog({code:"3.0.25",from:{service:"GamesCatalogService",method:"init"}});const t=this.getMerchantById(913);t&&t.dgaUrl&&t.casinoID&&(this.configService.set({name:"pragmaticPlaySettings",value:{dgaUrl:t.dgaUrl,casinoId:t.casinoID}}),this.pragmaticPlayLiveService=this.injector.get(D)),this.$resolve(),this.loadJackpots(),this.getFavouriteGames()}),this.eventService.subscribe({name:G.$.FETCH_JACKPOTS_SUCCEEDED},e=>{var t;null===(t=this.gamesCatalog)||void 0===t||t.loadJackpots(e.data)}),this.eventService.subscribe({name:G.$.FETCH_FAVOURITES_SUCCEEDED},e=>{var t;null===(t=this.gamesCatalog)||void 0===t||t.loadFavourites(e.data),this.favoritesUpdated.next()}),this.eventService.subscribe([{name:"LOGIN"},{name:"LOGOUT"}],()=>{delete this.jackpotParams.currency,this.jackpotCurrency=null,this.jackpotRestart$.next()}),this.jackpotRestart$.subscribe(()=>{this.loadJackpots()}),this.actionService.deviceType().subscribe(e=>{e&&(this.isMobile=e!==O.Yi.Desktop)})})}subscribePragmaticLive(e,t,a){var n;return(0,i.__awaiter)(this,void 0,void 0,function*(){return null===(n=this.pragmaticPlayLiveService)||void 0===n?void 0:n.subscribe(e,t,a)})}get subscribeJackpots(){return this.dataService.getMethodSubscribe("games/jackpots").pipe((0,l.h)(e=>!!e),(0,c.U)(e=>{var t;if(!(0,U.Z)(e.data)||!(null===(t=e.data)||void 0===t?void 0:t.length))return[];const a=(0,F.Z)(e.data,e=>e.amount>0);return a.length||this.jackpotCurrency||"EUR"===e.data[0].currency||(this.jackpotParams.currency="EUR",this.jackpotCurrency=e.data[0].currency,this.jackpotRestart$.next()),a}),(0,h.x)((e,t)=>(0,Z.Z)(e,t)),(0,c.U)(e=>{var t;const a=this.configService.get("appConfig.siteconfig.currencies"),n=(0,M.Z)(a,e=>e.Alias===this.jackpotCurrency),i=n&&n.ExRate?n.ExRate:null===(t=(0,M.Z)(a,e=>"EUR"===e.Name))||void 0===t?void 0:t.ExRate,s=this.jackpotCurrency?i:null;return(0,E.Z)(e,e=>(s&&"EUR"===e.currency&&(e.currency=this.jackpotCurrency,e.amount*=+s),new B.n({service:"GamesCatalogService",method:"subscribeJackpots"},e)))}))}loadGames(){return(0,i.__awaiter)(this,void 0,void 0,function*(){try{yield this.dataService.request("games/games")}catch(e){this.logService.sendLog({code:"3.0.0",from:{service:"GamesCatalogService",method:"loadGames"}})}})}getLastGames(){return(0,i.__awaiter)(this,void 0,void 0,function*(){return this.lastPlayed=yield this.loadSpecialCategoryGames("lastGames",e=>e.ID)})}getFavouriteGames(){return(0,i.__awaiter)(this,void 0,void 0,function*(){return this.favourites=yield this.loadSpecialCategoryGames("favorites",e=>e.game_id)})}toggleFavourites(e){return(0,i.__awaiter)(this,void 0,void 0,function*(){if(!this.configService.get("$user.isAuthenticated"))throw new Error("is not authenticated");let t=yield this.dataService.request({name:"addFavourite",system:"games",url:`/favorites/${e}`,type:"POST"});const a=this.gamesCatalog.getGameById(e);return a&&(a.isFavourite=!!t.data.favorite,a.isFavourite?this.favourites.push(a):this.favourites=this.favourites.filter(e=>e.ID!==a.ID)),this.favoritesUpdated.next(),!!t.data.favorite})}isSpecialCategory(e){return this.gamesCatalog.isSpecialCategory(e)}sortCategories(e){return this.gamesCatalog.sortCategories(e)}getLaunchParams(e){return(0,i.__awaiter)(this,void 0,void 0,function*(){return(yield this.dataService.request("games/gameLaunchParams",Object.assign(Object.assign({},e),{demo:e.demo?1:0}))).data})}getGamesByState(){return(0,i.__awaiter)(this,void 0,void 0,function*(){const e=this.getParentCategoryByState(),t=this.getChildCategoryByState();let a=[];return this.catalogOpened()?"lastplayed"==(null==e?void 0:e.slug)?a=yield this.getLastGames():"favourites"==(null==e?void 0:e.slug)?a=yield this.getFavouriteGames():t?(yield t.isReady,a=t.games):e&&(yield e.isReady,a=e.games):a=this.getGameList(),a})}getGamesTitleByState(){const e=this.getChildCategoryByState(),t=this.getParentCategoryByState(),a=this.translateService.currentLang;return e?e.title[a]||e.title.en:t?t.title[a]||t.title.en:void 0}getCategoriesByState(){if(this.catalogOpened()){const e=this.getParentCategoryByState(),t=this.getCategoriesByParentId(e.id),a=this.getCategoryBySlug("new"),n=this.getCategoryBySlug("popular");if(a&&t.push(a),n&&t.push(n),this.configService.get("$user.isAuthenticated")){const e=this.getCategoryBySlug("favourites"),a=this.getCategoryBySlug("lastplayed");e&&t.push(e),a&&t.push(a)}return this.sortCategories(t)}}getCategories(){return this.gamesCatalog.getAvailableCategories()}getCategoriesForFilter(){const e=this.configService.get("$user.isAuthenticated");return(0,F.Z)(this.gamesCatalog.getAvailableCategories(),t=>this.searchBySpecialCats?!!e||!(0,W.Z)(this.onlyAuthSpecial,t.slug):!t.isSpecial)}getParentCategoryByState(){var e;if(this.catalogOpened()){const t=null===(e=this.uiRouter.params)||void 0===e?void 0:e.category;return this.getCategoryBySlug(t)}}getParentWithSpecialCategories(){return(0,F.Z)(this.gamesCatalog.getCategories(),e=>e.isParent)}getParentCategories(){return(0,F.Z)(this.gamesCatalog.getCategories(),e=>e.isParent&&!e.isLastPlayed&&!e.isFavourites&&!e.isNew&&!e.isPopular)}getChildCategoryByState(){var e;if(this.catalogOpened()){const t=null===(e=this.uiRouter.params)||void 0===e?void 0:e.childCategory;return this.getCategoryBySlug(t)}}getCategoryBySlug(e){return this.gamesCatalog.getCategoryBySlug(e)}getCategoriesByTag(e){return(0,F.Z)(this.gamesCatalog.getCategories(),t=>(0,W.Z)(t.tags,e))}getCategoriesByParentId(e){return(0,F.Z)(this.gamesCatalog.getCategories(),t=>{var a;return(null===(a=t.parentCategory)||void 0===a?void 0:a.id)===e})}getCategoriesByMenu(e){return(0,$.Z)(e)&&(e=[e]),(0,F.Z)(this.gamesCatalog.getCategories(),t=>(0,W.Z)(e,t.menu))}getAllCategories(){return this.gamesCatalog.getCategories()}getMerchants(){return this.gamesCatalog.getMerchants()}getMerchantById(e){return(0,M.Z)(this.gamesCatalog.getMerchants(),t=>t.id===e)}getMerchantByName(e){return this.gamesCatalog.getMerchantByName(e)}getAvailableCategories(){return this.gamesCatalog.getAvailableCategories()}getAvailableMerchants(){return this.gamesCatalog.getAvailableMerchants()}getFilteredMerchants(){const e=this.configService.get("$games.sportsbookMerchants");return(0,F.Z)(this.gamesCatalog.getAvailableMerchants(),t=>!e.includes(t.id))}getGameList(e){var t;return null===(t=this.gamesCatalog)||void 0===t?void 0:t.getGameList(e)}getTournamentGames(e){const t=this.getGameList({ids:(0,j.Z)(e.Games)?e.Games:null,categories:(0,E.Z)(e.Categories,e=>{var t;return null===(t=T.K.getCategoryById(e))||void 0===t?void 0:t.menuId}),excludeCategories:(0,E.Z)(e.CategoriesBL,e=>{var t;return null===(t=T.K.getCategoryById(e))||void 0===t?void 0:t.menuId}),merchants:e.Merchants,excludeMerchants:e.MerchantsBL});return e.GamesBL.length?(0,F.Z)(t,({ID:t})=>!(0,W.Z)(e.GamesBL,t)):t}getGame(e,t,a=!1,n=!1){return this.gamesCatalog.getGame(e,t,a,n)}getGameById(e){return this.gamesCatalog.getGameById(e)}getGamesByCategories(e){return this.gamesCatalog.getGamesByCategories(e)}getGamesByCategorySlug(e){return(0,i.__awaiter)(this,void 0,void 0,function*(){if("last-played"==e)return yield this.getLastGames();if("favourites"==e)return yield this.getFavouriteGames();{const t=this.getCategoryBySlug(e);if(!t)return;return this.getGamesByCategories([t])}})}catalogOpened(){return(0,L.Z)(this.uiRouter.current.name,"app.catalog")}startGame(e,t){e.launch(t)}launchGame(e,t){var a;if(e){this.actionService.deviceType().pipe((0,g.P)()).subscribe(e=>this.deviceType=e);const n=this.configService.get("$games.mobile.loginUser.disableDemo"),i=this.configService.get("$user.isAuthenticated"),s=!(n||!e.hasDemo)&&(null==t?void 0:t.demo);if(!i&&!s)return void this.showRunGameModal(e,!e.hasDemo);if((null===(a=null==t?void 0:t.modal)||void 0===a?void 0:a.show)&&(!t.modal.deviceType||(0,U.Z)(t.modal.deviceType)&&t.modal.deviceType.includes(this.deviceType)))return void this.showRunGameModal(e,!(!n&&e.hasDemo)||t.modal.disableDemo);this.modalService.closeAllModals(),e.launch({demo:s})}else this.eventService.emit({name:x.LA.PushMessage,data:{type:"error",title:gettext("Failed to open game"),message:gettext("Sorry, something went wrong!")}})}showRunGameModal(e,t){this.modalService.showModal("runGame",{common:{game:e,disableDemo:t}})}getIdVerticalVideos(){return(0,i.__awaiter)(this,void 0,void 0,function*(){return yield this.getVerticalThumbsConfig(),this.verticalThumbsConfig.haveVideo})}getVerticalThumbsConfig(){return(0,i.__awaiter)(this,void 0,void 0,function*(){return this.verticalThumbsConfig||(this.dataService.registerMethod({name:"verticalThumbsConfig",system:"games",cache:288e5,fullUrl:this.configService.get("$games.verticalThumbsConfigUrl"),type:"GET",noUseLang:!0}),yield this.dataService.request("games/verticalThumbsConfig").then(({data:e})=>{this.verticalThumbsConfig=e||{haveVideo:[]}}).catch(e=>{this.logService.sendLog({code:"3.0.30",data:e,from:{service:"GamesCatalogService",method:"getVerticalThumbsConfig"}})})),this.verticalThumbsConfig})}registerMethods(){const e=this.configService.get("$games.slimGamesRequest")?{slim:!0}:{};this.dataService.registerMethod({name:"games",url:"/games",cache:72e5,type:"GET",params:e,preload:"games",system:"games",retries:{count:[1e3,5e3,1e4],fallbackUrl:"/static/dist/api/v1/games.json"},events:{success:G.$.FETCH_GAME_CATALOG_SUCCEEDED,fail:G.$.FETCH_GAME_CATALOG_FAILED}}),this.dataService.registerMethod({name:"lastGames",url:"/games",type:"GET",params:{lastGames:"1"},system:"games",events:{success:G.$.FETCH_LAST_GAME_CATALOG_SUCCEEDED,fail:G.$.FETCH_LAST_GAME_CATALOG_FAILED}}),this.dataService.registerMethod({name:"gameLaunchParams",url:"/games",type:"GET",system:"games"}),this.dataService.registerMethod({name:"jackpots",system:"games",url:"/jackpots",type:"GET",period:1e4,params:this.jackpotParams,retries:{count:[3e3,5e3],fallbackUrl:"/static/dist/api/v1/jackpots.json"},events:{success:G.$.FETCH_JACKPOTS_SUCCEEDED,fail:G.$.FETCH_JACKPOTS_FAILED}}),this.dataService.registerMethod({name:"favorites",system:"games",url:"/favorites",type:"GET",events:{success:G.$.FETCH_FAVOURITES_SUCCEEDED,fail:G.$.FETCH_FAVOURITES_FAILED}})}loadSpecialCategoryGames(e,t){return(0,i.__awaiter)(this,void 0,void 0,function*(){if(this.configService.get("$user.isAuthenticated"))try{const a=yield this.dataService.request(`games/${e}`),n=(0,E.Z)(a.data,e=>(0,K.Z)(t(e))),i=n.length?this.getGameList({ids:n}):[],s=this.getCategoryBySlug(A.R[e]);return null==s||s.setGames(i),i}catch(a){this.logService.sendLog({code:"favorites"===e?"3.0.13":"3.0.16",data:a,from:{service:"GamesCatalogService",method:"loadSpecialCategoryGames"}})}})}loadJackpots(){return(0,i.__awaiter)(this,void 0,void 0,function*(){this.dataService.request("games/jackpots")})}};N.ctorParameters=()=>[{type:p.E4},{type:r.UIRouter},{type:d.P},{type:o.sK},{type:u.D},{type:r.UIRouterGlobals},{type:k.c},{type:b.Z},{type:_.$},{type:s.zs3}],N=(0,i.__decorate)([(0,s.GSi)({providedIn:"root"})],N)},51580:function(e,t,a){"use strict";a.d(t,{m:function(){return l},e:function(){return c}});var n=a(64762),i=a(88720),s=a(67444),r=a(77709),o=a(82560),m=a(12671);const l={FILTER_CHANGED:"FILTER_CHANGED",FILTER_SEARCH:"FILTER_SEARCH",FILTER_SORT:"FILTER_SORT"};let c=class{constructor(e){this.eventService=e,this.filters={},this.filterInitValues={categories:[],merchants:[],excludeCategories:[],excludeMerchants:[]},this.init()}get(e,t){return this.filters[e]||(this.filters[e]=(0,r.Z)({},this.filterInitValues)),(0,r.Z)({},this.filters[e])}set(e,t){const a=this.filters[e]=(0,m.Z)({},this.filterInitValues,t);return this.eventService.emit({name:l.FILTER_CHANGED,from:e,data:a}),a}list(){const e=[];for(const t in this.filters)this.filters[t]&&e.push(t);return(0,r.Z)([],e)}delete(e,t){return delete this.filters[e],!0}search(e,t){this.filters[e]&&(this.filters[e].searchQuery=t,this.eventService.emit({name:l.FILTER_SEARCH,from:e,data:this.filters[e]}))}getSearchQuery(e){return(0,o.Z)(this.filters[e],"searchQuery")?this.filters[e].searchQuery:""}sort(e,t){this.eventService.emit({name:l.FILTER_SORT,from:e,data:t})}init(){}};c.ctorParameters=()=>[{type:s.P}],c=(0,n.__decorate)([(0,i.GSi)({providedIn:"root"})],c)},60575:function(e,t,a){"use strict";a.d(t,{j:function(){return d}});var n=a(64762),i=a(88720),s=a(41589),r=a(82560),o=a(85218),m=a(35472);var l=function(e){return e&&e.length?(0,m.Z)(e):[]},c=a(54252),h=a(31518),g=a(29114),u=a(74663);let d=class{constructor(e){this.configService=e,this.profileFields=["countryCode","gender","firstName","lastName"],this.DateOfBirth=["birthDay","birthMonth","birthYear"],this.fieldsByAlias={DateOfBirth:this.DateOfBirth,Country:"countryCode",City:"city",Gender:"gender",Name:"firstName",LastName:"lastName"},(0,h.Z)(this.profileFields,this.DateOfBirth)}checkRequiredFields(e){return new Promise((t,a)=>(0,n.__awaiter)(this,void 0,void 0,function*(){const n=this.getRequiredFields(e);if(this.configService.get("$user.isAuthenticated")&&n.length)try{const i=this.getEmptyFields(n,e);i.length?a(i):t()}catch(i){t()}else t()}))}getRequiredFields(e){const t=this.getMerchantRequiredFields(e),a=this.getProfileRequiedFields();return l(t.concat(a).sort())}getMerchantRequiredFields(e){const t=this.configService.get(`$games.excludeRequiredFields.${e}`)||[],a=(0,c.Z)(this.configService.get(`appConfig.siteconfig.systemsGamePlayInfo[${e}].Fields`),e=>!t.includes(e));let n=[];return(0,g.Z)(a,e=>{const t=(0,r.Z)(this.fieldsByAlias,e);t&&((0,u.Z)(t)?n=(0,h.Z)(n,t):n.push(t))}),n}getProfileRequiedFields(){return this.profileFields}getEmptyFields(e,t){const a=[],n=this.configService.get({name:"$user.userProfile$"}).getValue();if((0,g.Z)(e,e=>{!n.hasField(e)&&n.fieldIsEmpty(e)&&a.push(e)}),a.length){const e=this.getMerchantRequiredFields(t);if(!(0,c.Z)(a,t=>(0,o.Z)(e,t)).length)return[]}return a}};d.ctorParameters=()=>[{type:s.E4}],d=(0,n.__decorate)([(0,i.GSi)({providedIn:"root"})],d)},10606:function(e,t){"use strict";t.Z=".wlc-game-wrapper--theme-default.wlc-game-wrapper--type-default .wlc-game-wrapper__game-area iframe,\n.wlc-game-wrapper--theme-default.wlc-game-wrapper--type-default .wlc-game-wrapper__game-area object {\n  height: 100%;\n}\n.wlc-game-wrapper--theme-default.wlc-game-wrapper--type-default .wlc-game-wrapper__game-container.mobile {\n  height: 100%;\n}\n.wlc-game-wrapper--theme-default.wlc-game-wrapper--type-default .wlc-game-wrapper__game-container-livegames.mobile {\n  height: 100% !important;\n}\n.wlc-game-wrapper--theme-default.wlc-game-wrapper--type-fullscreen-game-frame {\n  margin-bottom: 30px;\n}\n.wlc-game-wrapper--theme-default .wlc-game-wrapper__game-header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 10px;\n  background: var(--mc-bgModal);\n}\n.wlc-game-wrapper--theme-default .wlc-game-wrapper__game-header h2 {\n  color: var(--mc-baseMain);\n  font-style: normal;\n  font-weight: bold;\n  font-size: 1.4rem;\n  line-height: 1.45;\n}\n.wlc-game-wrapper--theme-default .wlc-game-wrapper__game-header .wlc-icon svg {\n  fill: none;\n  stroke: var(--mc-bg300);\n}\n.wlc-game-wrapper--theme-default .wlc-game-wrapper__game-header .wlc-icon svg line {\n  stroke: var(--mc-bg300);\n}\n.wlc-game-wrapper--theme-default .wlc-game-wrapper__content {\n  margin: 0 auto 40px auto;\n}\n.wlc-game-wrapper--theme-default .wlc-game-wrapper__preloader {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  margin: 0 auto;\n  transform: translate(-50%, -50%);\n}\n.wlc-game-wrapper--theme-default .wlc-game-wrapper__header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-right: auto;\n  margin-left: auto;\n  padding: 40px 0;\n  background: transparent;\n}\n.wlc-game-wrapper--theme-default .wlc-game-wrapper__header h2 {\n  max-width: 50%;\n  margin: 0;\n  color: var(--mc-baseMain);\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n}\n.wlc-game-wrapper--theme-default .wlc-game-wrapper__footer {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-right: auto;\n  margin-left: auto;\n}\n.wlc-game-wrapper--theme-default .wlc-game-wrapper__btn-left {\n  margin: 0 auto 0 30px;\n}\n.wlc-game-wrapper--theme-default .wlc-game-wrapper__btn-right {\n  display: flex;\n  align-items: center;\n}\n.wlc-game-wrapper--theme-default .wlc-game-wrapper__btn-right .wlc-icon {\n  margin-left: 20px;\n  cursor: pointer;\n}\n.wlc-game-wrapper--theme-default .wlc-game-wrapper__btn-right .wlc-icon.icon-btn {\n  transition: all 0.3s linear;\n  opacity: 0.5;\n}\n@media (pointer: fine) {\n  .wlc-game-wrapper--theme-default .wlc-game-wrapper__btn-right .wlc-icon.icon-btn:hover {\n    opacity: 1;\n  }\n}\n.wlc-game-wrapper--theme-default .wlc-game-wrapper__btn-right .wlc-icon svg {\n  transition: all 0.3s linear;\n  width: 26px;\n  height: 26px;\n  fill: none;\n  stroke: var(--mc-baseMain);\n  stroke-width: 3px;\n}\n.wlc-game-wrapper--theme-default .wlc-game-wrapper__btn-right .wlc-icon.wlc-icon--favourite path {\n  fill: none;\n}\n.wlc-game-wrapper--theme-default .wlc-game-wrapper__btn-right .wlc-icon.wlc-icon--favourite.active svg {\n  stroke: var(--mc-main);\n}\n.wlc-game-wrapper--theme-default .wlc-game-wrapper__btn-right .wlc-icon.wlc-icon--favourite.active svg path {\n  fill: var(--mc-main);\n}\n@media (pointer: fine) {\n  .wlc-game-wrapper--theme-default .wlc-game-wrapper__btn-right .wlc-icon:hover svg {\n    stroke: var(--mc-baseMain);\n  }\n  .wlc-game-wrapper--theme-default .wlc-game-wrapper__btn-right .wlc-icon:hover svg line {\n    stroke: var(--mc-baseMain);\n  }\n}\n.wlc-game-wrapper--theme-default .wlc-game-wrapper__game-area {\n  position: relative;\n  margin-right: auto;\n  margin-left: auto;\n  overflow: hidden;\n}\n.wlc-game-wrapper--theme-default .wlc-game-wrapper__game-area div[wlc-dynamic] {\n  height: 100%;\n}\n.wlc-game-wrapper--theme-default .wlc-game-wrapper__game-area div[wlc-dynamic] div {\n  height: 100%;\n}\n.wlc-game-wrapper--theme-default .wlc-game-wrapper__game-area iframe,\n.wlc-game-wrapper--theme-default .wlc-game-wrapper__game-area object {\n  width: 100% !important;\n  height: 100% !important;\n}\n.wlc-game-wrapper--theme-default.wlc-game-wrapper--mobile {\n  width: 100%;\n}\n.wlc-game-wrapper--theme-default.wlc-game-wrapper--mobile .wlc-game-wrapper__header {\n  display: none;\n}\n.wlc-game-wrapper--theme-default.wlc-game-wrapper--mobile .wlc-game-wrapper__content {\n  position: fixed !important;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  z-index: 1020;\n  display: grid;\n  grid-template-rows: 1fr;\n  grid-template-columns: 1fr;\n  align-content: center;\n  align-items: center;\n  width: 100%;\n  max-width: 100%;\n  height: 100%;\n  margin: 0;\n  background: var(--mc-baseContrast);\n}\n.wlc-game-wrapper--theme-default.wlc-game-wrapper--mobile .wlc-game-wrapper__game-area {\n  position: static;\n  position: initial;\n  z-index: 10;\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n}\n.wlc-game-wrapper--theme-default.wlc-game-wrapper--mobile .wlc-game-wrapper__game-area div[wlc-dynamic-html] {\n  display: none;\n}\n.wlc-game-wrapper--theme-default.wlc-game-wrapper--mobile .wlc-game-wrapper__game-container {\n  height: 100%;\n}\n.wlc-game-wrapper--theme-fullscreen-game-frame {\n  margin: 0 0 30px 0;\n  overflow: hidden;\n}\n.wlc-game-wrapper--theme-fullscreen-game-frame iframe {\n  width: 100%;\n}\n.wlc-game-wrapper--theme-fullscreen-game-frame .wlc-game-wrapper__game-area, .wlc-game-wrapper--theme-fullscreen-game-frame .wlc-game-wrapper__content {\n  height: 100%;\n}\n.wlc-game-wrapper--theme-fullscreen-game-frame .wlc-game-wrapper__content {\n  min-height: 300px;\n}\n.wlc-game-wrapper--theme-fullscreen-game-frame .wlc-game-wrapper__preloader {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  margin: 0 auto;\n  transform: translate(-50%, -50%);\n}"},97320:function(e,t){"use strict";t.Z='<div *ngIf="$params.theme == \'default\'" class="{{$class}}__content container" (resized)="onResize($event)">\n    <div class="{{$class}}__header" #header data-wlc-element="block_game-play-title">\n        <ng-container [ngTemplateOutlet]="gameName"></ng-container>\n        <div class="{{$class}}__btn-left" *ngIf="gameParams.demo" data-wlc-element="wlc-game-play-for-real">\n            <button wlc-button\n                    text="Play for real"\n                    (click)="playForReal()">\n            </button>\n        </div>\n        <div class="{{$class}}__btn-right">\n            <div class="icon-btn">\n                <div *ngIf="showDashboardBtn"\n                     wlc-checkbox\n                     [inlineParams]="dashboardBtn">\n                </div>\n            </div>\n            <div *ngIf="isAuth"\n                 wlc-icon\n                 class="icon-btn wlc-icon--favourite"\n                 [class.active]="game?.isFavourite"\n                 iconPath="/wlc/icons/favourite.svg"\n                 wlcElement="button_favourite"\n                 (click)="toggleFavouriteBtn()">\n            </div>\n            <div wlc-icon\n                 class="icon-btn"\n                 iconPath="/wlc/icons/fullscreen.svg"\n                 wlcElement="button_fullscreen"\n                 (click)="openOnFullscreen()">\n            </div>\n            <ng-container [ngTemplateOutlet]="buttonClose"></ng-container>\n        </div>\n    </div>\n    <div class="{{$class}}__game-area" #wrp>\n        <div *ngIf="!isReady"\n             wlc-loader\n             class="{{$class}}__preloader">\n        </div>\n\n        <div wlc-game-dashboard [opened]="openDashboard"></div>\n\n        <div *ngIf="isMobile && enableGameHeader" class="{{$class}}__game-header">\n            <ng-container [ngTemplateOutlet]="gameName"></ng-container>\n            <ng-container [ngTemplateOutlet]="buttonClose"></ng-container>\n        </div>\n\n        <ng-container [ngTemplateOutlet]="gameWrapper"></ng-container>\n    </div>\n    <div class="{{$class}}__footer" #footer></div>\n</div>\n\n<div *ngIf="$params.theme == \'fullscreen-game-frame\'" class="{{$class}}__content" (resized)="onResize($event)">\n    <div class="{{$class}}__game-area" #wrp>\n        <div *ngIf="!isReady" wlc-loader class="{{$class}}__preloader" >\n        </div>\n        <ng-container [ngTemplateOutlet]="gameWrapper"></ng-container>\n    </div>\n</div>\n\n<ng-template #gameWrapper>\n    <ng-container *ngIf="isReady">\n        <ng-container *ngIf="useMobileIframe; else gameWithHtml">\n            <div #gameContainer\n                 id="egamings_container"\n                 class="{{$class}}__game-container {{$class}}__game-container-{{game.merchantName}}"\n                 [class.mobile]="mobileGame">\n            </div>\n        </ng-container>\n    </ng-container>\n</ng-template>\n\n<ng-template #gameWithHtml>\n    <div *ngIf="isReady;"\n         wlc-dynamic-html\n         #gameContainer\n         class="{{$class}}__game-container {{$class}}__game-container-{{game.merchantName}}"\n         [class.mobile]="mobileGame"\n         [html]="gameHtml"\n         [canUseScriptTag]="true"\n         (htmlRendered)="onGameHtmlRendered()">\n    </div>\n</ng-template>\n\n<ng-template #gameName>\n    <h2>{{gameTitle}}</h2>\n</ng-template>\n\n<ng-template #buttonClose>\n    <div wlc-icon\n         class="icon-btn"\n         iconPath="/wlc/icons/close.svg"\n         wlcElement="button_close"\n         (click)="closeGame()">\n    </div>\n</ng-template>\n'}}]);